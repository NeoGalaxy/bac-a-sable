var global=function(){"use strict";const Ys="",Gs="";function E(){}function Br(t,e){for(const n in e)t[n]=e[n];return t}function tn(t){return t()}function en(){return Object.create(null)}function ut(t){t.forEach(tn)}function nn(t){return typeof t=="function"}function X(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Hr(t){return Object.keys(t).length===0}function Lr(t,...e){if(t==null)return E;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function pt(t,e,n){t.$$.on_destroy.push(Lr(e,n))}function qr(t,e,n,r){if(t){const i=rn(t,e,n,r);return t[0](i)}}function rn(t,e,n,r){return t[1]&&r?Br(n.ctx.slice(),t[1](r(e))):n.ctx}function Dr(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],a=Math.max(e.dirty.length,i.length);for(let l=0;l<a;l+=1)o[l]=e.dirty[l]|i[l];return o}return e.dirty|i}return e.dirty}function Or(t,e,n,r,i,o){if(i){const a=rn(e,n,r,o);t.p(a,i)}}function Xr(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function Pt(t,e,n){return t.set(n),e}function w(t,e){t.appendChild(e)}function T(t,e,n){t.insertBefore(e,n||null)}function R(t){t.parentNode&&t.parentNode.removeChild(t)}function Yt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function F(t){return document.createElement(t)}function I(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Z(t){return document.createTextNode(t)}function V(){return Z(" ")}function an(){return Z("")}function J(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function on(t){return function(e){return e.preventDefault(),t.call(this,e)}}function d(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Vr(t){return Array.from(t.childNodes)}function at(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Q(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function ln(t,e,n){t.classList[n?"add":"remove"](e)}function Yr(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}let Rt;function Ft(t){Rt=t}function Gr(){if(!Rt)throw new Error("Function called outside component initialization");return Rt}function Jr(){const t=Gr();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=Yr(e,n,{cancelable:r});return i.slice().forEach(a=>{a.call(t,o)}),!o.defaultPrevented}return!0}}const It=[],ft=[],Gt=[],Ne=[],Ur=Promise.resolve();let Ae=!1;function Wr(){Ae||(Ae=!0,Ur.then(un))}function Tt(t){Gt.push(t)}function sn(t){Ne.push(t)}const Ee=new Set;let Jt=0;function un(){const t=Rt;do{for(;Jt<It.length;){const e=It[Jt];Jt++,Ft(e),Kr(e.$$)}for(Ft(null),It.length=0,Jt=0;ft.length;)ft.pop()();for(let e=0;e<Gt.length;e+=1){const n=Gt[e];Ee.has(n)||(Ee.add(n),n())}Gt.length=0}while(It.length);for(;Ne.length;)Ne.pop()();Ae=!1,Ee.clear(),Ft(t)}function Kr(t){if(t.fragment!==null){t.update(),ut(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Tt)}}const Ut=new Set;let vt;function Wt(){vt={r:0,c:[],p:vt}}function Kt(){vt.r||ut(vt.c),vt=vt.p}function C(t,e){t&&t.i&&(Ut.delete(t),t.i(e))}function z(t,e,n,r){if(t&&t.o){if(Ut.has(t))return;Ut.add(t),vt.c.push(()=>{Ut.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function fn(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function O(t){t&&t.c()}function q(t,e,n,r){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),r||Tt(()=>{const a=t.$$.on_mount.map(tn).filter(nn);t.$$.on_destroy?t.$$.on_destroy.push(...a):ut(a),t.$$.on_mount=[]}),o.forEach(Tt)}function D(t,e){const n=t.$$;n.fragment!==null&&(ut(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Zr(t,e){t.$$.dirty[0]===-1&&(It.push(t),Wr(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function U(t,e,n,r,i,o,a,l=[-1]){const s=Rt;Ft(t);const u=t.$$={fragment:null,ctx:[],props:o,update:E,not_equal:i,bound:en(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:en(),dirty:l,skip_bound:!1,root:e.target||s.$$.root};a&&a(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,h,...m)=>{const v=m.length?m[0]:h;return u.ctx&&i(u.ctx[c],u.ctx[c]=v)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](v),f&&Zr(t,c)),h}):[],u.update(),f=!0,ut(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const c=Vr(e.target);u.fragment&&u.fragment.l(c),c.forEach(R)}else u.fragment&&u.fragment.c();e.intro&&C(t.$$.fragment),q(t,e.target,e.anchor,e.customElement),un()}Ft(s)}class W{$destroy(){D(this,1),this.$destroy=E}$on(e,n){if(!nn(n))return E;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Hr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Js="";function Qr(t){let e,n,r,i,o,a,l,s,u;return{c(){e=F("nav"),n=F("ul"),r=F("li"),i=F("a"),i.textContent="\u{1F5F3}\uFE0F Challenge Open Data",o=V(),a=F("li"),l=F("a"),l.textContent="Rapport",d(i,"href","./index.html"),d(i,"class","svelte-vawjto"),d(r,"class","svelte-vawjto"),d(l,"href","./index.html"),d(l,"class","svelte-vawjto"),d(a,"class","svelte-vawjto"),d(n,"class","svelte-vawjto"),d(e,"class","svelte-vawjto")},m(f,c){T(f,e,c),w(e,n),w(n,r),w(r,i),w(n,o),w(n,a),w(a,l),s||(u=[J(i,"click",on(t[1])),J(l,"click",on(t[2]))],s=!0)},p:E,i:E,o:E,d(f){f&&R(e),s=!1,ut(u)}}}function jr(t){const e=Jr();return[e,()=>e("showGraphPage"),()=>e("showReportPage")]}class ti extends W{constructor(e){super(),U(this,e,jr,Qr,X,{})}}function Zt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ei(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cn(t){let e,n,r;t.length!==2?(e=Zt,n=(l,s)=>Zt(t(l),s),r=(l,s)=>t(l)-s):(e=t===Zt||t===ei?t:ni,n=t,r=t);function i(l,s,u=0,f=l.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(l[c],s)<0?u=c+1:f=c}while(u<f)}return u}function o(l,s,u=0,f=l.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(l[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function a(l,s,u=0,f=l.length){const c=i(l,s,u,f-1);return c>u&&r(l[c-1],s)>-r(l[c],s)?c-1:c}return{left:i,center:a,right:o}}function ni(){return 0}function ri(t){return t===null?NaN:+t}const ii=cn(Zt).right;cn(ri).center;const ai=ii;class hn extends Map{constructor(e,n=si){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(dn(this,e))}has(e){return super.has(dn(this,e))}set(e,n){return super.set(oi(this,e),n)}delete(e){return super.delete(li(this,e))}}function dn({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function oi({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function li({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function si(t){return t!==null&&typeof t=="object"?t.valueOf():t}var $e=Math.sqrt(50),Ce=Math.sqrt(10),Se=Math.sqrt(2);function ui(t,e,n){var r,i=-1,o,a,l;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),(l=mn(t,e,n))===0||!isFinite(l))return[];if(l>0){let s=Math.round(t/l),u=Math.round(e/l);for(s*l<t&&++s,u*l>e&&--u,a=new Array(o=u-s+1);++i<o;)a[i]=(s+i)*l}else{l=-l;let s=Math.round(t*l),u=Math.round(e*l);for(s/l<t&&++s,u/l>e&&--u,a=new Array(o=u-s+1);++i<o;)a[i]=(s+i)/l}return r&&a.reverse(),a}function mn(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=$e?10:o>=Ce?5:o>=Se?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=$e?10:o>=Ce?5:o>=Se?2:1)}function fi(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=$e?i*=10:o>=Ce?i*=5:o>=Se&&(i*=2),e<t?-i:i}function Qt(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function ci(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function hi(t){return t}var Pe=1,Re=2,Fe=3,zt=4,gn=1e-6;function di(t){return"translate("+t+",0)"}function mi(t){return"translate(0,"+t+")"}function gi(t){return e=>+t(e)}function _i(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function pi(){return!this.__axis}function _n(t,e){var n=[],r=null,i=null,o=6,a=6,l=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Pe||t===zt?-1:1,f=t===zt||t===Re?"x":"y",c=t===Pe||t===Fe?di:mi;function h(m){var v=r==null?e.ticks?e.ticks.apply(e,n):e.domain():r,g=i==null?e.tickFormat?e.tickFormat.apply(e,n):hi:i,_=Math.max(o,0)+l,p=e.range(),y=+p[0]+s,b=+p[p.length-1]+s,$=(e.bandwidth?_i:gi)(e.copy(),s),A=m.selection?m.selection():m,x=A.selectAll(".domain").data([null]),L=A.selectAll(".tick").data(v,e).order(),j=L.exit(),M=L.enter().append("g").attr("class","tick"),S=L.select("line"),k=L.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),L=L.merge(M),S=S.merge(M.append("line").attr("stroke","currentColor").attr(f+"2",u*o)),k=k.merge(M.append("text").attr("fill","currentColor").attr(f,u*_).attr("dy",t===Pe?"0em":t===Fe?"0.71em":"0.32em")),m!==A&&(x=x.transition(m),L=L.transition(m),S=S.transition(m),k=k.transition(m),j=j.transition(m).attr("opacity",gn).attr("transform",function(H){return isFinite(H=$(H))?c(H+s):this.getAttribute("transform")}),M.attr("opacity",gn).attr("transform",function(H){var B=this.parentNode.__axis;return c((B&&isFinite(B=B(H))?B:$(H))+s)})),j.remove(),x.attr("d",t===zt||t===Re?a?"M"+u*a+","+y+"H"+s+"V"+b+"H"+u*a:"M"+s+","+y+"V"+b:a?"M"+y+","+u*a+"V"+s+"H"+b+"V"+u*a:"M"+y+","+s+"H"+b),L.attr("opacity",1).attr("transform",function(H){return c($(H)+s)}),S.attr(f+"2",u*o),k.attr(f,u*_).text(g),A.filter(pi).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Re?"start":t===zt?"end":"middle"),A.each(function(){this.__axis=$})}return h.scale=function(m){return arguments.length?(e=m,h):e},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),h):n.slice()},h.tickValues=function(m){return arguments.length?(r=m==null?null:Array.from(m),h):r&&r.slice()},h.tickFormat=function(m){return arguments.length?(i=m,h):i},h.tickSize=function(m){return arguments.length?(o=a=+m,h):o},h.tickSizeInner=function(m){return arguments.length?(o=+m,h):o},h.tickSizeOuter=function(m){return arguments.length?(a=+m,h):a},h.tickPadding=function(m){return arguments.length?(l=+m,h):l},h.offset=function(m){return arguments.length?(s=+m,h):s},h}function pn(t){return _n(Fe,t)}function vn(t){return _n(zt,t)}var vi={value:()=>{}};function yn(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new jt(n)}function jt(t){this._=t}function yi(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}jt.prototype=yn.prototype={constructor:jt,on:function(t,e){var n=this._,r=yi(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=wi(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=wn(n[i],t.name,e);else if(e==null)for(i in n)n[i]=wn(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new jt(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function wi(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function wn(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=vi,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Ie="http://www.w3.org/1999/xhtml";const bn={svg:"http://www.w3.org/2000/svg",xhtml:Ie,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function te(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),bn.hasOwnProperty(e)?{space:bn[e],local:t}:t}function bi(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ie&&e.documentElement.namespaceURI===Ie?e.createElement(t):e.createElementNS(n,t)}}function ki(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function kn(t){var e=te(t);return(e.local?ki:bi)(e)}function xi(){}function Te(t){return t==null?xi:function(){return this.querySelector(t)}}function Mi(t){typeof t!="function"&&(t=Te(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,l=r[i]=new Array(a),s,u,f=0;f<a;++f)(s=o[f])&&(u=t.call(s,s.__data__,f,o))&&("__data__"in s&&(u.__data__=s.__data__),l[f]=u);return new K(r,this._parents)}function Ni(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ai(){return[]}function xn(t){return t==null?Ai:function(){return this.querySelectorAll(t)}}function Ei(t){return function(){return Ni(t.apply(this,arguments))}}function $i(t){typeof t=="function"?t=Ei(t):t=xn(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],l=a.length,s,u=0;u<l;++u)(s=a[u])&&(r.push(t.call(s,s.__data__,u,a)),i.push(s));return new K(r,i)}function Mn(t){return function(){return this.matches(t)}}function Nn(t){return function(e){return e.matches(t)}}var Ci=Array.prototype.find;function Si(t){return function(){return Ci.call(this.children,t)}}function Pi(){return this.firstElementChild}function Ri(t){return this.select(t==null?Pi:Si(typeof t=="function"?t:Nn(t)))}var Fi=Array.prototype.filter;function Ii(){return Array.from(this.children)}function Ti(t){return function(){return Fi.call(this.children,t)}}function zi(t){return this.selectAll(t==null?Ii:Ti(typeof t=="function"?t:Nn(t)))}function Bi(t){typeof t!="function"&&(t=Mn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,l=r[i]=[],s,u=0;u<a;++u)(s=o[u])&&t.call(s,s.__data__,u,o)&&l.push(s);return new K(r,this._parents)}function An(t){return new Array(t.length)}function Hi(){return new K(this._enter||this._groups.map(An),this._parents)}function ee(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ee.prototype={constructor:ee,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Li(t){return function(){return t}}function qi(t,e,n,r,i,o){for(var a=0,l,s=e.length,u=o.length;a<u;++a)(l=e[a])?(l.__data__=o[a],r[a]=l):n[a]=new ee(t,o[a]);for(;a<s;++a)(l=e[a])&&(i[a]=l)}function Di(t,e,n,r,i,o,a){var l,s,u=new Map,f=e.length,c=o.length,h=new Array(f),m;for(l=0;l<f;++l)(s=e[l])&&(h[l]=m=a.call(s,s.__data__,l,e)+"",u.has(m)?i[l]=s:u.set(m,s));for(l=0;l<c;++l)m=a.call(t,o[l],l,o)+"",(s=u.get(m))?(r[l]=s,s.__data__=o[l],u.delete(m)):n[l]=new ee(t,o[l]);for(l=0;l<f;++l)(s=e[l])&&u.get(h[l])===s&&(i[l]=s)}function Oi(t){return t.__data__}function Xi(t,e){if(!arguments.length)return Array.from(this,Oi);var n=e?Di:qi,r=this._parents,i=this._groups;typeof t!="function"&&(t=Li(t));for(var o=i.length,a=new Array(o),l=new Array(o),s=new Array(o),u=0;u<o;++u){var f=r[u],c=i[u],h=c.length,m=Vi(t.call(f,f&&f.__data__,u,r)),v=m.length,g=l[u]=new Array(v),_=a[u]=new Array(v),p=s[u]=new Array(h);n(f,c,g,_,p,m,e);for(var y=0,b=0,$,A;y<v;++y)if($=g[y]){for(y>=b&&(b=y+1);!(A=_[b])&&++b<v;);$._next=A||null}}return a=new K(a,r),a._enter=l,a._exit=s,a}function Vi(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Yi(){return new K(this._exit||this._groups.map(An),this._parents)}function Gi(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Ji(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),l=new Array(i),s=0;s<a;++s)for(var u=n[s],f=r[s],c=u.length,h=l[s]=new Array(c),m,v=0;v<c;++v)(m=u[v]||f[v])&&(h[v]=m);for(;s<i;++s)l[s]=n[s];return new K(l,this._parents)}function Ui(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Wi(t){t||(t=Ki);function e(c,h){return c&&h?t(c.__data__,h.__data__):!c-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],l=a.length,s=i[o]=new Array(l),u,f=0;f<l;++f)(u=a[f])&&(s[f]=u);s.sort(e)}return new K(i,this._parents).order()}function Ki(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Zi(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Qi(){return Array.from(this)}function ji(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function ta(){let t=0;for(const e of this)++t;return t}function ea(){return!this.node()}function na(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,l;o<a;++o)(l=i[o])&&t.call(l,l.__data__,o,i);return this}function ra(t){return function(){this.removeAttribute(t)}}function ia(t){return function(){this.removeAttributeNS(t.space,t.local)}}function aa(t,e){return function(){this.setAttribute(t,e)}}function oa(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function la(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function sa(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ua(t,e){var n=te(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?ia:ra:typeof e=="function"?n.local?sa:la:n.local?oa:aa)(n,e))}function En(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function fa(t){return function(){this.style.removeProperty(t)}}function ca(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ha(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function da(t,e,n){return arguments.length>1?this.each((e==null?fa:typeof e=="function"?ha:ca)(t,e,n==null?"":n)):xt(this.node(),t)}function xt(t,e){return t.style.getPropertyValue(e)||En(t).getComputedStyle(t,null).getPropertyValue(e)}function ma(t){return function(){delete this[t]}}function ga(t,e){return function(){this[t]=e}}function _a(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function pa(t,e){return arguments.length>1?this.each((e==null?ma:typeof e=="function"?_a:ga)(t,e)):this.node()[t]}function $n(t){return t.trim().split(/^|\s+/)}function ze(t){return t.classList||new Cn(t)}function Cn(t){this._node=t,this._names=$n(t.getAttribute("class")||"")}Cn.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Sn(t,e){for(var n=ze(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Pn(t,e){for(var n=ze(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function va(t){return function(){Sn(this,t)}}function ya(t){return function(){Pn(this,t)}}function wa(t,e){return function(){(e.apply(this,arguments)?Sn:Pn)(this,t)}}function ba(t,e){var n=$n(t+"");if(arguments.length<2){for(var r=ze(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?wa:e?va:ya)(n,e))}function ka(){this.textContent=""}function xa(t){return function(){this.textContent=t}}function Ma(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function Na(t){return arguments.length?this.each(t==null?ka:(typeof t=="function"?Ma:xa)(t)):this.node().textContent}function Aa(){this.innerHTML=""}function Ea(t){return function(){this.innerHTML=t}}function $a(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function Ca(t){return arguments.length?this.each(t==null?Aa:(typeof t=="function"?$a:Ea)(t)):this.node().innerHTML}function Sa(){this.nextSibling&&this.parentNode.appendChild(this)}function Pa(){return this.each(Sa)}function Ra(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Fa(){return this.each(Ra)}function Ia(t){var e=typeof t=="function"?t:kn(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Ta(){return null}function za(t,e){var n=typeof t=="function"?t:kn(t),r=e==null?Ta:typeof e=="function"?e:Te(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Ba(){var t=this.parentNode;t&&t.removeChild(this)}function Ha(){return this.each(Ba)}function La(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function qa(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Da(t){return this.select(t?qa:La)}function Oa(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Xa(t){return function(e){t.call(this,e,this.__data__)}}function Va(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Ya(t){return function(){var e=this.__on;if(!!e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Ga(t,e,n){return function(){var r=this.__on,i,o=Xa(e);if(r){for(var a=0,l=r.length;a<l;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Ja(t,e,n){var r=Va(t+""),i,o=r.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,u=l.length,f;s<u;++s)for(i=0,f=l[s];i<o;++i)if((a=r[i]).type===f.type&&a.name===f.name)return f.value}return}for(l=e?Ga:Ya,i=0;i<o;++i)this.each(l(r[i],e,n));return this}function Rn(t,e,n){var r=En(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Ua(t,e){return function(){return Rn(this,t,e)}}function Wa(t,e){return function(){return Rn(this,t,e.apply(this,arguments))}}function Ka(t,e){return this.each((typeof e=="function"?Wa:Ua)(t,e))}function*Za(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Fn=[null];function K(t,e){this._groups=t,this._parents=e}function Bt(){return new K([[document.documentElement]],Fn)}function Qa(){return this}K.prototype=Bt.prototype={constructor:K,select:Mi,selectAll:$i,selectChild:Ri,selectChildren:zi,filter:Bi,data:Xi,enter:Hi,exit:Yi,join:Gi,merge:Ji,selection:Qa,order:Ui,sort:Wi,call:Zi,nodes:Qi,node:ji,size:ta,empty:ea,each:na,attr:ua,style:da,property:pa,classed:ba,text:Na,html:Ca,raise:Pa,lower:Fa,append:Ia,insert:za,remove:Ha,clone:Da,datum:Oa,on:Ja,dispatch:Ka,[Symbol.iterator]:Za};function ne(t){return typeof t=="string"?new K([[document.querySelector(t)]],[document.documentElement]):new K([[t]],Fn)}function Be(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function In(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ht(){}var Lt=.7,re=1/Lt,Mt="\\s*([+-]?\\d+)\\s*",qt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ot="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ja=/^#([0-9a-f]{3,8})$/,to=new RegExp(`^rgb\\(${Mt},${Mt},${Mt}\\)$`),eo=new RegExp(`^rgb\\(${ot},${ot},${ot}\\)$`),no=new RegExp(`^rgba\\(${Mt},${Mt},${Mt},${qt}\\)$`),ro=new RegExp(`^rgba\\(${ot},${ot},${ot},${qt}\\)$`),io=new RegExp(`^hsl\\(${qt},${ot},${ot}\\)$`),ao=new RegExp(`^hsla\\(${qt},${ot},${ot},${qt}\\)$`),Tn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Be(Ht,gt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:zn,formatHex:zn,formatHex8:oo,formatHsl:lo,formatRgb:Bn,toString:Bn});function zn(){return this.rgb().formatHex()}function oo(){return this.rgb().formatHex8()}function lo(){return On(this).formatHsl()}function Bn(){return this.rgb().formatRgb()}function gt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ja.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Hn(e):n===3?new Y(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ie(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ie(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=to.exec(t))?new Y(e[1],e[2],e[3],1):(e=eo.exec(t))?new Y(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=no.exec(t))?ie(e[1],e[2],e[3],e[4]):(e=ro.exec(t))?ie(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=io.exec(t))?Dn(e[1],e[2]/100,e[3]/100,1):(e=ao.exec(t))?Dn(e[1],e[2]/100,e[3]/100,e[4]):Tn.hasOwnProperty(t)?Hn(Tn[t]):t==="transparent"?new Y(NaN,NaN,NaN,0):null}function Hn(t){return new Y(t>>16&255,t>>8&255,t&255,1)}function ie(t,e,n,r){return r<=0&&(t=e=n=NaN),new Y(t,e,n,r)}function so(t){return t instanceof Ht||(t=gt(t)),t?(t=t.rgb(),new Y(t.r,t.g,t.b,t.opacity)):new Y}function He(t,e,n,r){return arguments.length===1?so(t):new Y(t,e,n,r==null?1:r)}function Y(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Be(Y,He,In(Ht,{brighter(t){return t=t==null?re:Math.pow(re,t),new Y(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Lt:Math.pow(Lt,t),new Y(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Y(yt(this.r),yt(this.g),yt(this.b),ae(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ln,formatHex:Ln,formatHex8:uo,formatRgb:qn,toString:qn}));function Ln(){return`#${wt(this.r)}${wt(this.g)}${wt(this.b)}`}function uo(){return`#${wt(this.r)}${wt(this.g)}${wt(this.b)}${wt((isNaN(this.opacity)?1:this.opacity)*255)}`}function qn(){const t=ae(this.opacity);return`${t===1?"rgb(":"rgba("}${yt(this.r)}, ${yt(this.g)}, ${yt(this.b)}${t===1?")":`, ${t})`}`}function ae(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function yt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wt(t){return t=yt(t),(t<16?"0":"")+t.toString(16)}function Dn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new tt(t,e,n,r)}function On(t){if(t instanceof tt)return new tt(t.h,t.s,t.l,t.opacity);if(t instanceof Ht||(t=gt(t)),!t)return new tt;if(t instanceof tt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,l=o-i,s=(o+i)/2;return l?(e===o?a=(n-r)/l+(n<r)*6:n===o?a=(r-e)/l+2:a=(e-n)/l+4,l/=s<.5?o+i:2-o-i,a*=60):l=s>0&&s<1?0:a,new tt(a,l,s,t.opacity)}function fo(t,e,n,r){return arguments.length===1?On(t):new tt(t,e,n,r==null?1:r)}function tt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Be(tt,fo,In(Ht,{brighter(t){return t=t==null?re:Math.pow(re,t),new tt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Lt:Math.pow(Lt,t),new tt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Y(Le(t>=240?t-240:t+120,i,r),Le(t,i,r),Le(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new tt(Xn(this.h),oe(this.s),oe(this.l),ae(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ae(this.opacity);return`${t===1?"hsl(":"hsla("}${Xn(this.h)}, ${oe(this.s)*100}%, ${oe(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Xn(t){return t=(t||0)%360,t<0?t+360:t}function oe(t){return Math.max(0,Math.min(1,t||0))}function Le(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const qe=t=>()=>t;function co(t,e){return function(n){return t+n*e}}function ho(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function mo(t){return(t=+t)==1?Vn:function(e,n){return n-e?ho(e,n,t):qe(isNaN(e)?n:e)}}function Vn(t,e){var n=e-t;return n?co(t,n):qe(isNaN(t)?e:t)}const le=function t(e){var n=mo(e);function r(i,o){var a=n((i=He(i)).r,(o=He(o)).r),l=n(i.g,o.g),s=n(i.b,o.b),u=Vn(i.opacity,o.opacity);return function(f){return i.r=a(f),i.g=l(f),i.b=s(f),i.opacity=u(f),i+""}}return r.gamma=t,r}(1);function go(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function _o(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function po(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Xe(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(l){for(a=0;a<r;++a)o[a]=i[a](l);return o}}function vo(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function et(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function yo(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Xe(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var De=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Oe=new RegExp(De.source,"g");function wo(t){return function(){return t}}function bo(t){return function(e){return t(e)+""}}function Yn(t,e){var n=De.lastIndex=Oe.lastIndex=0,r,i,o,a=-1,l=[],s=[];for(t=t+"",e=e+"";(r=De.exec(t))&&(i=Oe.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[a]?l[a]+=o:l[++a]=o),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,s.push({i:a,x:et(r,i)})),n=Oe.lastIndex;return n<e.length&&(o=e.slice(n),l[a]?l[a]+=o:l[++a]=o),l.length<2?s[0]?bo(s[0].x):wo(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)l[(c=s[f]).i]=c.x(u);return l.join("")})}function Xe(t,e){var n=typeof e,r;return e==null||n==="boolean"?qe(e):(n==="number"?et:n==="string"?(r=gt(e))?(e=r,le):Yn:e instanceof gt?le:e instanceof Date?vo:_o(e)?go:Array.isArray(e)?po:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?yo:et)(t,e)}function se(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Gn=180/Math.PI,Ve={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Jn(t,e,n,r,i,o){var a,l,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),t*r<e*n&&(t=-t,e=-e,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Gn,skewX:Math.atan(s)*Gn,scaleX:a,scaleY:l}}var ue;function ko(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ve:Jn(e.a,e.b,e.c,e.d,e.e,e.f)}function xo(t){return t==null||(ue||(ue=document.createElementNS("http://www.w3.org/2000/svg","g")),ue.setAttribute("transform",t),!(t=ue.transform.baseVal.consolidate()))?Ve:(t=t.matrix,Jn(t.a,t.b,t.c,t.d,t.e,t.f))}function Un(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,f,c,h,m,v){if(u!==c||f!==h){var g=m.push("translate(",null,e,null,n);v.push({i:g-4,x:et(u,c)},{i:g-2,x:et(f,h)})}else(c||h)&&m.push("translate("+c+e+h+n)}function a(u,f,c,h){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),h.push({i:c.push(i(c)+"rotate(",null,r)-2,x:et(u,f)})):f&&c.push(i(c)+"rotate("+f+r)}function l(u,f,c,h){u!==f?h.push({i:c.push(i(c)+"skewX(",null,r)-2,x:et(u,f)}):f&&c.push(i(c)+"skewX("+f+r)}function s(u,f,c,h,m,v){if(u!==c||f!==h){var g=m.push(i(m)+"scale(",null,",",null,")");v.push({i:g-4,x:et(u,c)},{i:g-2,x:et(f,h)})}else(c!==1||h!==1)&&m.push(i(m)+"scale("+c+","+h+")")}return function(u,f){var c=[],h=[];return u=t(u),f=t(f),o(u.translateX,u.translateY,f.translateX,f.translateY,c,h),a(u.rotate,f.rotate,c,h),l(u.skewX,f.skewX,c,h),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,h),u=f=null,function(m){for(var v=-1,g=h.length,_;++v<g;)c[(_=h[v]).i]=_.x(m);return c.join("")}}}var Mo=Un(ko,"px, ","px)","deg)"),No=Un(xo,", ",")",")"),Nt=0,Dt=0,Ot=0,Wn=1e3,fe,Xt,ce=0,bt=0,he=0,Vt=typeof performance=="object"&&performance.now?performance:Date,Kn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ye(){return bt||(Kn(Ao),bt=Vt.now()+he)}function Ao(){bt=0}function de(){this._call=this._time=this._next=null}de.prototype=Zn.prototype={constructor:de,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Ye():+n)+(e==null?0:+e),!this._next&&Xt!==this&&(Xt?Xt._next=this:fe=this,Xt=this),this._call=t,this._time=n,Ge()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ge())}};function Zn(t,e,n){var r=new de;return r.restart(t,e,n),r}function Eo(){Ye(),++Nt;for(var t=fe,e;t;)(e=bt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Nt}function Qn(){bt=(ce=Vt.now())+he,Nt=Dt=0;try{Eo()}finally{Nt=0,Co(),bt=0}}function $o(){var t=Vt.now(),e=t-ce;e>Wn&&(he-=e,ce=t)}function Co(){for(var t,e=fe,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:fe=n);Xt=t,Ge(r)}function Ge(t){if(!Nt){Dt&&(Dt=clearTimeout(Dt));var e=t-bt;e>24?(t<1/0&&(Dt=setTimeout(Qn,t-Vt.now()-he)),Ot&&(Ot=clearInterval(Ot))):(Ot||(ce=Vt.now(),Ot=setInterval($o,Wn)),Nt=1,Kn(Qn))}}function jn(t,e,n){var r=new de;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var So=yn("start","end","cancel","interrupt"),Po=[],tr=0,er=1,Je=2,me=3,nr=4,Ue=5,ge=6;function _e(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;Ro(t,n,{name:e,index:r,group:i,on:So,tween:Po,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:tr})}function We(t,e){var n=nt(t,e);if(n.state>tr)throw new Error("too late; already scheduled");return n}function lt(t,e){var n=nt(t,e);if(n.state>me)throw new Error("too late; already running");return n}function nt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ro(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Zn(o,0,n.time);function o(u){n.state=er,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var f,c,h,m;if(n.state!==er)return s();for(f in r)if(m=r[f],m.name===n.name){if(m.state===me)return jn(a);m.state===nr?(m.state=ge,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete r[f]):+f<e&&(m.state=ge,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete r[f])}if(jn(function(){n.state===me&&(n.state=nr,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Je,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Je){for(n.state=me,i=new Array(h=n.tween.length),f=0,c=-1;f<h;++f)(m=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=m);i.length=c+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Ue,1),c=-1,h=i.length;++c<h;)i[c].call(t,f);n.state===Ue&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=ge,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function Fo(t,e){var n=t.__transition,r,i,o=!0,a;if(!!n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>Je&&r.state<Ue,r.state=ge,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function Io(t){return this.each(function(){Fo(this,t)})}function To(t,e){var n,r;return function(){var i=lt(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,l=r.length;a<l;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function zo(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=lt(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var l={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=l;break}s===u&&i.push(l)}o.tween=i}}function Bo(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=nt(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?To:zo)(n,t,e))}function Ke(t,e,n){var r=t._id;return t.each(function(){var i=lt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return nt(i,r).value[e]}}function rr(t,e){var n;return(typeof e=="number"?et:e instanceof gt?le:(n=gt(e))?(e=n,le):Yn)(t,e)}function Ho(t){return function(){this.removeAttribute(t)}}function Lo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function qo(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function Do(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function Oo(t,e,n){var r,i,o;return function(){var a,l=n(this),s;return l==null?void this.removeAttribute(t):(a=this.getAttribute(t),s=l+"",a===s?null:a===r&&s===i?o:(i=s,o=e(r=a,l)))}}function Xo(t,e,n){var r,i,o;return function(){var a,l=n(this),s;return l==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),s=l+"",a===s?null:a===r&&s===i?o:(i=s,o=e(r=a,l)))}}function Vo(t,e){var n=te(t),r=n==="transform"?No:rr;return this.attrTween(t,typeof e=="function"?(n.local?Xo:Oo)(n,r,Ke(this,"attr."+t,e)):e==null?(n.local?Lo:Ho)(n):(n.local?Do:qo)(n,r,e))}function Yo(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Go(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Jo(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Go(t,o)),n}return i._value=e,i}function Uo(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Yo(t,o)),n}return i._value=e,i}function Wo(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=te(t);return this.tween(n,(r.local?Jo:Uo)(r,e))}function Ko(t,e){return function(){We(this,t).delay=+e.apply(this,arguments)}}function Zo(t,e){return e=+e,function(){We(this,t).delay=e}}function Qo(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ko:Zo)(e,t)):nt(this.node(),e).delay}function jo(t,e){return function(){lt(this,t).duration=+e.apply(this,arguments)}}function tl(t,e){return e=+e,function(){lt(this,t).duration=e}}function el(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?jo:tl)(e,t)):nt(this.node(),e).duration}function nl(t,e){if(typeof e!="function")throw new Error;return function(){lt(this,t).ease=e}}function rl(t){var e=this._id;return arguments.length?this.each(nl(e,t)):nt(this.node(),e).ease}function il(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;lt(this,t).ease=n}}function al(t){if(typeof t!="function")throw new Error;return this.each(il(this._id,t))}function ol(t){typeof t!="function"&&(t=Mn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,l=r[i]=[],s,u=0;u<a;++u)(s=o[u])&&t.call(s,s.__data__,u,o)&&l.push(s);return new ct(r,this._parents,this._name,this._id)}function ll(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),l=0;l<o;++l)for(var s=e[l],u=n[l],f=s.length,c=a[l]=new Array(f),h,m=0;m<f;++m)(h=s[m]||u[m])&&(c[m]=h);for(;l<r;++l)a[l]=e[l];return new ct(a,this._parents,this._name,this._id)}function sl(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function ul(t,e,n){var r,i,o=sl(e)?We:lt;return function(){var a=o(this,t),l=a.on;l!==r&&(i=(r=l).copy()).on(e,n),a.on=i}}function fl(t,e){var n=this._id;return arguments.length<2?nt(this.node(),n).on.on(t):this.each(ul(n,t,e))}function cl(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function hl(){return this.on("end.remove",cl(this._id))}function dl(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Te(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var l=r[a],s=l.length,u=o[a]=new Array(s),f,c,h=0;h<s;++h)(f=l[h])&&(c=t.call(f,f.__data__,h,l))&&("__data__"in f&&(c.__data__=f.__data__),u[h]=c,_e(u[h],e,n,h,u,nt(f,n)));return new ct(o,this._parents,e,n)}function ml(t){var e=this._name,n=this._id;typeof t!="function"&&(t=xn(t));for(var r=this._groups,i=r.length,o=[],a=[],l=0;l<i;++l)for(var s=r[l],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var h=t.call(f,f.__data__,c,s),m,v=nt(f,n),g=0,_=h.length;g<_;++g)(m=h[g])&&_e(m,e,n,g,h,v);o.push(h),a.push(f)}return new ct(o,a,e,n)}var gl=Bt.prototype.constructor;function _l(){return new gl(this._groups,this._parents)}function pl(t,e){var n,r,i;return function(){var o=xt(this,t),a=(this.style.removeProperty(t),xt(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function ir(t){return function(){this.style.removeProperty(t)}}function vl(t,e,n){var r,i=n+"",o;return function(){var a=xt(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function yl(t,e,n){var r,i,o;return function(){var a=xt(this,t),l=n(this),s=l+"";return l==null&&(s=l=(this.style.removeProperty(t),xt(this,t))),a===s?null:a===r&&s===i?o:(i=s,o=e(r=a,l))}}function wl(t,e){var n,r,i,o="style."+e,a="end."+o,l;return function(){var s=lt(this,t),u=s.on,f=s.value[o]==null?l||(l=ir(e)):void 0;(u!==n||i!==f)&&(r=(n=u).copy()).on(a,i=f),s.on=r}}function bl(t,e,n){var r=(t+="")=="transform"?Mo:rr;return e==null?this.styleTween(t,pl(t,r)).on("end.style."+t,ir(t)):typeof e=="function"?this.styleTween(t,yl(t,r,Ke(this,"style."+t,e))).each(wl(this._id,t)):this.styleTween(t,vl(t,r,e),n).on("end.style."+t,null)}function kl(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function xl(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&kl(t,a,n)),r}return o._value=e,o}function Ml(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,xl(t,e,n==null?"":n))}function Nl(t){return function(){this.textContent=t}}function Al(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function El(t){return this.tween("text",typeof t=="function"?Al(Ke(this,"text",t)):Nl(t==null?"":t+""))}function $l(t){return function(e){this.textContent=t.call(this,e)}}function Cl(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&$l(i)),e}return r._value=t,r}function Sl(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Cl(t))}function Pl(){for(var t=this._name,e=this._id,n=ar(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],l=a.length,s,u=0;u<l;++u)if(s=a[u]){var f=nt(s,e);_e(s,t,n,u,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new ct(r,this._parents,t,n)}function Rl(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var l={value:a},s={value:function(){--i===0&&o()}};n.each(function(){var u=lt(this,r),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(s)),u.on=e}),i===0&&o()})}var Fl=0;function ct(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ar(){return++Fl}var ht=Bt.prototype;ct.prototype={constructor:ct,select:dl,selectAll:ml,selectChild:ht.selectChild,selectChildren:ht.selectChildren,filter:ol,merge:ll,selection:_l,transition:Pl,call:ht.call,nodes:ht.nodes,node:ht.node,size:ht.size,empty:ht.empty,each:ht.each,on:fl,attr:Vo,attrTween:Wo,style:bl,styleTween:Ml,text:El,textTween:Sl,remove:hl,tween:Bo,delay:Qo,duration:el,ease:rl,easeVarying:al,end:Rl,[Symbol.iterator]:ht[Symbol.iterator]};function Il(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Tl={time:null,delay:0,duration:250,ease:Il};function zl(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Bl(t){var e,n;t instanceof ct?(e=t._id,t=t._name):(e=ar(),(n=Tl).time=Ye(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],l=a.length,s,u=0;u<l;++u)(s=a[u])&&_e(s,t,e,u,a,n||zl(s,e));return new ct(r,this._parents,t,e)}Bt.prototype.interrupt=Io,Bt.prototype.transition=Bl;function Hl(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function pe(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function At(t){return t=pe(Math.abs(t)),t?t[1]:NaN}function Ll(t,e){return function(n,r){for(var i=n.length,o=[],a=0,l=t[0],s=0;i>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),o.push(n.substring(i-=l,i+l)),!((s+=l+1)>r));)l=t[a=(a+1)%t.length];return o.reverse().join(e)}}function ql(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Dl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ve(t){if(!(e=Dl.exec(t)))throw new Error("invalid format: "+t);var e;return new Ze({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ve.prototype=Ze.prototype;function Ze(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ze.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ol(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var or;function Xl(t,e){var n=pe(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(or=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+pe(t,Math.max(0,e+o-1))[0]}function lr(t,e){var n=pe(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const sr={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Hl,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>lr(t*100,e),r:lr,s:Xl,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ur(t){return t}var fr=Array.prototype.map,cr=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Vl(t){var e=t.grouping===void 0||t.thousands===void 0?ur:Ll(fr.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?ur:ql(fr.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"\u2212":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=ve(c);var h=c.fill,m=c.align,v=c.sign,g=c.symbol,_=c.zero,p=c.width,y=c.comma,b=c.precision,$=c.trim,A=c.type;A==="n"?(y=!0,A="g"):sr[A]||(b===void 0&&(b=12),$=!0,A="g"),(_||h==="0"&&m==="=")&&(_=!0,h="0",m="=");var x=g==="$"?n:g==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",L=g==="$"?r:/[%p]/.test(A)?a:"",j=sr[A],M=/[defgprs%]/.test(A);b=b===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function S(k){var H=x,B=L,rt,it,dt;if(A==="c")B=j(k)+B,k="";else{k=+k;var _t=k<0||1/k<0;if(k=isNaN(k)?s:j(Math.abs(k),b),$&&(k=Ol(k)),_t&&+k==0&&v!=="+"&&(_t=!1),H=(_t?v==="("?v:l:v==="-"||v==="("?"":v)+H,B=(A==="s"?cr[8+or/3]:"")+B+(_t&&v==="("?")":""),M){for(rt=-1,it=k.length;++rt<it;)if(dt=k.charCodeAt(rt),48>dt||dt>57){B=(dt===46?i+k.slice(rt+1):k.slice(rt))+B,k=k.slice(0,rt);break}}}y&&!_&&(k=e(k,1/0));var mt=H.length+k.length+B.length,G=mt<p?new Array(p-mt+1).join(h):"";switch(y&&_&&(k=e(G+k,G.length?p-B.length:1/0),G=""),m){case"<":k=H+k+B+G;break;case"=":k=H+G+k+B;break;case"^":k=G.slice(0,mt=G.length>>1)+H+k+B+G.slice(mt);break;default:k=G+H+k+B;break}return o(k)}return S.toString=function(){return c+""},S}function f(c,h){var m=u((c=ve(c),c.type="f",c)),v=Math.max(-8,Math.min(8,Math.floor(At(h)/3)))*3,g=Math.pow(10,-v),_=cr[8+v/3];return function(p){return m(g*p)+_}}return{format:u,formatPrefix:f}}var ye,hr,dr;Yl({thousands:",",grouping:[3],currency:["$",""]});function Yl(t){return ye=Vl(t),hr=ye.format,dr=ye.formatPrefix,ye}function Gl(t){return Math.max(0,-At(Math.abs(t)))}function Jl(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(At(e)/3)))*3-At(Math.abs(t)))}function Ul(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,At(e)-At(t))+1}function Qe(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const mr=Symbol("implicit");function gr(){var t=new hn,e=[],n=[],r=mr;function i(o){let a=t.get(o);if(a===void 0){if(r!==mr)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new hn;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return gr(e,n).unknown(r)},Qe.apply(i,arguments),i}function _r(){var t=gr().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,l=!1,s=0,u=0,f=.5;delete t.unknown;function c(){var h=e().length,m=i<r,v=m?i:r,g=m?r:i;o=(g-v)/Math.max(1,h-s+u*2),l&&(o=Math.floor(o)),v+=(g-v-o*(h-s))*f,a=o*(1-s),l&&(v=Math.round(v),a=Math.round(a));var _=ci(h).map(function(p){return v+o*p});return n(m?_.reverse():_)}return t.domain=function(h){return arguments.length?(e(h),c()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,c()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,l=!0,c()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(l=!!h,c()):l},t.padding=function(h){return arguments.length?(s=Math.min(1,u=+h),c()):s},t.paddingInner=function(h){return arguments.length?(s=Math.min(1,h),c()):s},t.paddingOuter=function(h){return arguments.length?(u=+h,c()):u},t.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),c()):f},t.copy=function(){return _r(e(),[r,i]).round(l).paddingInner(s).paddingOuter(u).align(f)},Qe.apply(c(),arguments)}function Wl(t){return function(){return t}}function Kl(t){return+t}var pr=[0,1];function Et(t){return t}function je(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Wl(isNaN(e)?NaN:.5)}function Zl(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Ql(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=je(i,r),o=n(a,o)):(r=je(r,i),o=n(o,a)),function(l){return o(r(l))}}function jl(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=je(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(l){var s=ai(t,l,1,r)-1;return o[s](i[s](l))}}function ts(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function es(){var t=pr,e=pr,n=Xe,r,i,o,a=Et,l,s,u;function f(){var h=Math.min(t.length,e.length);return a!==Et&&(a=Zl(t[0],t[h-1])),l=h>2?jl:Ql,s=u=null,c}function c(h){return h==null||isNaN(h=+h)?o:(s||(s=l(t.map(r),e,n)))(r(a(h)))}return c.invert=function(h){return a(i((u||(u=l(e,t.map(r),et)))(h)))},c.domain=function(h){return arguments.length?(t=Array.from(h,Kl),f()):t.slice()},c.range=function(h){return arguments.length?(e=Array.from(h),f()):e.slice()},c.rangeRound=function(h){return e=Array.from(h),n=se,f()},c.clamp=function(h){return arguments.length?(a=h?!0:Et,f()):a!==Et},c.interpolate=function(h){return arguments.length?(n=h,f()):n},c.unknown=function(h){return arguments.length?(o=h,c):o},function(h,m){return r=h,i=m,f()}}function ns(){return es()(Et,Et)}function rs(t,e,n,r){var i=fi(t,e,n),o;switch(r=ve(r==null?",f":r),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Jl(i,a))&&(r.precision=o),dr(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Ul(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Gl(i))&&(r.precision=o-(r.type==="%")*2);break}}return hr(r)}function is(t){var e=t.domain;return t.ticks=function(n){var r=e();return ui(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var i=e();return rs(i[0],i[i.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],l=r[o],s,u,f=10;for(l<a&&(u=a,a=l,l=u,u=i,i=o,o=u);f-- >0;){if(u=mn(a,l,n),u===s)return r[i]=a,r[o]=l,e(r);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;s=u}return t},t}function we(){var t=ns();return t.copy=function(){return ts(t,we())},Qe.apply(t,arguments),is(t)}function $t(t,e,n){this.k=t,this.x=e,this.y=n}$t.prototype={constructor:$t,scale:function(t){return t===1?this:new $t(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new $t(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new $t(1,0,0),$t.prototype;const Ct=[];function vr(t,e=E){let n;const r=new Set;function i(l){if(X(t,l)&&(t=l,n)){const s=!Ct.length;for(const u of r)u[1](),Ct.push(u,t);if(s){for(let u=0;u<Ct.length;u+=2)Ct[u][0](Ct[u+1]);Ct.length=0}}}function o(l){i(l(t))}function a(l,s=E){const u=[l,s];return r.add(u),r.size===1&&(n=e(i)||E),l(t),()=>{r.delete(u),r.size===0&&(n(),n=null)}}return{set:i,update:o,subscribe:a}}const yr=[{name:"Emmanuel Macron",value:1.03},{name:"Marine Le Pen",value:12.81},{name:"Fran\xE7ois Fillon",value:4.33},{name:"Jean-Luc M\xE9lenchon",value:.44},{name:"Beno\xEEt Hamon",value:.32},{name:"Nathalie Arthaud",value:1.79},{name:"Philippe Poutou",value:.49},{name:"Jacques Cheminade",value:1.09},{name:"Fran\xE7ois Asselineau",value:.64},{name:"Nicolas Dupont-Aignan",value:4.1},{name:"Jean Lassalle",value:1.98}],kt=[{methodId:"borda4",methodName:"Borda 4",description:"M\xE9thode de vote o\xF9 les participants doivent classer jusqu'\xE0 leurs 4 candidats pr\xE9f\xE9r\xE9s dans leur ordre de pr\xE9f\xE9rence. Pour d\xE9cider du candidat gagnant, on somme pour chaque candidat le nombre de votants les ayant choisi en tant que premier vote. Celui ayant le moins de votes est \xE9limin\xE9, et ses votes sont redistribu\xE9s aux autres candidats en fonction des votes suivant des votants ayant vot\xE9 pour le candidat \xE9limin\xE9. Les candidats sont ainsi \xE9limin\xE9s un \xE0 un jusqu'\xE0 ce qu'il y en ait un qui a la majorit\xE9.",results:[{name:"Emmanuel Macron",value:24.01},{name:"Marine Le Pen",value:5.3},{name:"Fran\xE7ois Fillon",value:19.95},{name:"Jean-Luc M\xE9lenchon",value:19.6},{name:"Beno\xEEt Hamon",value:6.36},{name:"Nathalie Arthaud",value:.93},{name:"Philippe Poutou",value:.9},{name:"Jacques Cheminade",value:.6},{name:"Fran\xE7ois Asselineau",value:.55},{name:"Nicolas Dupont-Aignan",value:.54},{name:"Jean Lassalle",value:.17}],unit:"PERCENT"},{methodId:"approval",methodName:"Approval",description:"M\xE9thode de vote o\xF9 les participants doivent indiquer s'ils \xE9taient favorable ou non au candidat, pour chaque candidat.",results:[{name:"Emmanuel Macron",value:13.61},{name:"Marine Le Pen",value:1.57},{name:"Fran\xE7ois Fillon",value:3.61},{name:"Jean-Luc M\xE9lenchon",value:25.16},{name:"Beno\xEEt Hamon",value:23.92},{name:"Nathalie Arthaud",value:7.07},{name:"Philippe Poutou",value:13.55},{name:"Jacques Cheminade",value:2.01},{name:"Fran\xE7ois Asselineau",value:2.44},{name:"Nicolas Dupont-Aignan",value:3.09},{name:"Jean Lassalle",value:3.97}],unit:"PERCENT"},{methodId:"ev101",methodName:"Evaluation Voting -1/0/1",description:"M\xE9thode de vote o\xF9 les participants doivent donner un score \xE0 chaque candidat: -1, 0 ou 1.",results:[{name:"Emmanuel Macron",value:20.01},{name:"Marine Le Pen",value:3.3},{name:"Fran\xE7ois Fillon",value:20.95},{name:"Jean-Luc M\xE9lenchon",value:20.6},{name:"Beno\xEEt Hamon",value:6.36},{name:"Nathalie Arthaud",value:.93},{name:"Philippe Poutou",value:.9},{name:"Jacques Cheminade",value:.6},{name:"Fran\xE7ois Asselineau",value:.55},{name:"Nicolas Dupont-Aignan",value:.54},{name:"Jean Lassalle",value:.17}],unit:"PERCENT"}],wr=kt[0].results.map(t=>({name:t.name,color:`#${("00000"+(Math.random()*(1<<24)|0).toString(16)).slice(-6)}`})),br=wr.map(t=>({name:t.name,color:t.color,data:kt.map(e=>({methodId:e.methodId,value:e.results.find(n=>n.name===t.name).value}))})),st=vr({biasCorrection:!1,comparison:0,methods:new Array(kt.length).fill(!1,2).fill(!0,0,2),methods2:[0,1]}),be=vr(null);function St(t){return t%1===0?t:t.toFixed(2)+"%"}const Ws="";function kr(t,e,n){const r=t.slice();r[22]=e[n];const i=gt(r[22].color).darker(.4).formatHex();return r[23]=i,r}function xr(t,e,n){const r=t.slice();r[26]=e[n],r[31]=n;const i=r[10].methods[r[31]];r[27]=i;const o=r[5].bandwidth()/r[11];r[28]=o;const a=(()=>{let l=0;for(let s=0;s<r[31];s++)l+=r[10].methods[s]?1:0;return l})();return r[29]=a,r}function Mr(t){let e,n,r,i,o,a,l=St(t[26].value)+"",s,u,f;return{c(){e=I("g"),n=I("line"),a=I("text"),s=Z(l),d(n,"x1",r=t[5](t[22].name)+t[29]*t[28]+t[28]/2),d(n,"y1",28),d(n,"x2",i=t[5](t[22].name)+t[29]*t[28]+t[28]/2),d(n,"y2",o=t[6](t[26].value)-2),d(n,"class","svelte-11pj8hs"),d(a,"x",u=t[5](t[22].name)+t[29]*t[28]+t[28]/2),d(a,"y",15),d(a,"fill",f=t[23]),d(a,"dominant-baseline","middle"),d(a,"text-anchor","middle"),d(e,"class","tooltip svelte-11pj8hs")},m(c,h){T(c,e,h),w(e,n),w(e,a),w(a,s)},p(c,h){h[0]&3105&&r!==(r=c[5](c[22].name)+c[29]*c[28]+c[28]/2)&&d(n,"x1",r),h[0]&3105&&i!==(i=c[5](c[22].name)+c[29]*c[28]+c[28]/2)&&d(n,"x2",i),h[0]&65&&o!==(o=c[6](c[26].value)-2)&&d(n,"y2",o),h[0]&1&&l!==(l=St(c[26].value)+"")&&at(s,l),h[0]&3105&&u!==(u=c[5](c[22].name)+c[29]*c[28]+c[28]/2)&&d(a,"x",u),h[0]&1&&f!==(f=c[23])&&d(a,"fill",f)},d(c){c&&R(e)}}}function Nr(t){let e,n,r,i,o,a,l,s,u,f,c,h,m;function v(){return t[18](t[26],t[23])}let g=t[27]&&Mr(t);return{c(){e=I("rect"),a=I("rect"),g&&g.c(),c=an(),d(e,"x",n=t[5](t[22].name)+t[29]*t[28]),d(e,"y",r=t[27]?t[6](t[26].value):t[7]-t[14].bottom),d(e,"width",i=t[27]?t[28]:0),d(e,"height",o=t[27]?t[6](0)-t[6](t[26].value)-1:0),Q(e,"transition","all 0.5s cubic-bezier(.64,.02,.73,.18)"),d(a,"class","bar-zone svelte-11pj8hs"),d(a,"x",l=t[5](t[22].name)+t[29]*t[28]),d(a,"y",s=t[27]?t[14].top:t[7]-t[14].bottom),d(a,"width",u=t[27]?t[28]:0),d(a,"height",f=t[27]?t[6](0)-t[14].bottom:0)},m(_,p){T(_,e,p),T(_,a,p),g&&g.m(_,p),T(_,c,p),h||(m=[J(a,"mouseenter",v),J(a,"mouseleave",t[19])],h=!0)},p(_,p){t=_,p[0]&3105&&n!==(n=t[5](t[22].name)+t[29]*t[28])&&d(e,"x",n),p[0]&1217&&r!==(r=t[27]?t[6](t[26].value):t[7]-t[14].bottom)&&d(e,"y",r),p[0]&3104&&i!==(i=t[27]?t[28]:0)&&d(e,"width",i),p[0]&1089&&o!==(o=t[27]?t[6](0)-t[6](t[26].value)-1:0)&&d(e,"height",o),p[0]&3105&&l!==(l=t[5](t[22].name)+t[29]*t[28])&&d(a,"x",l),p[0]&1152&&s!==(s=t[27]?t[14].top:t[7]-t[14].bottom)&&d(a,"y",s),p[0]&3104&&u!==(u=t[27]?t[28]:0)&&d(a,"width",u),p[0]&1088&&f!==(f=t[27]?t[6](0)-t[14].bottom:0)&&d(a,"height",f),t[27]?g?g.p(t,p):(g=Mr(t),g.c(),g.m(c.parentNode,c)):g&&(g.d(1),g=null)},d(_){_&&R(e),_&&R(a),g&&g.d(_),_&&R(c),h=!1,ut(m)}}}function Ar(t){let e,n,r=t[22].data,i=[];for(let o=0;o<r.length;o+=1)i[o]=Nr(xr(t,r,o));return{c(){e=I("g");for(let o=0;o<i.length;o+=1)i[o].c();d(e,"fill",n=t[22].color),Q(e,"stroke",t[23]),d(e,"stroke-width",3),d(e,"stroke-linejoin","round"),d(e,"class","svelte-11pj8hs")},m(o,a){T(o,e,a);for(let l=0;l<i.length;l+=1)i[l].m(e,null)},p(o,a){if(a[0]&23777){r=o[22].data;let l;for(l=0;l<r.length;l+=1){const s=xr(o,r,l);i[l]?i[l].p(s,a):(i[l]=Nr(s),i[l].c(),i[l].m(e,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=r.length}a[0]&1&&n!==(n=o[22].color)&&d(e,"fill",n),a[0]&1&&Q(e,"stroke",o[23])},d(o){o&&R(e),Yt(i,o)}}}function as(t){let e,n,r,i,o,a,l;Tt(t[17]);let s=t[0],u=[];for(let f=0;f<s.length;f+=1)u[f]=Ar(kr(t,s,f));return{c(){e=I("svg");for(let f=0;f<u.length;f+=1)u[f].c();n=I("g"),r=I("g"),d(n,"transform","translate("+t[14].left+", 0)"),d(n,"class","svelte-11pj8hs"),d(r,"transform",i="translate(0, "+(t[7]-t[14].bottom)+")"),d(r,"class","svelte-11pj8hs"),d(e,"viewBox",o="0 0 "+t[8]+" "+t[7]),Q(e,"max-width",t[8]+"px"),Q(e,"margin-top",t[9].vertical-t[13]/2+"px"),d(e,"class","svelte-11pj8hs")},m(f,c){T(f,e,c);for(let h=0;h<u.length;h+=1)u[h].m(e,null);w(e,n),t[20](n),w(e,r),t[21](r),a||(l=J(window,"resize",t[17]),a=!0)},p(f,c){if(c[0]&23777){s=f[0];let h;for(h=0;h<s.length;h+=1){const m=kr(f,s,h);u[h]?u[h].p(m,c):(u[h]=Ar(m),u[h].c(),u[h].m(e,n))}for(;h<u.length;h+=1)u[h].d(1);u.length=s.length}c[0]&128&&i!==(i="translate(0, "+(f[7]-f[14].bottom)+")")&&d(r,"transform",i),c[0]&384&&o!==(o="0 0 "+f[8]+" "+f[7])&&d(e,"viewBox",o),c[0]&256&&Q(e,"max-width",f[8]+"px"),c[0]&512&&Q(e,"margin-top",f[9].vertical-f[13]/2+"px")},i:E,o:E,d(f){f&&R(e),Yt(u,f),t[20](null),t[21](null),a=!1,l()}}}function os(t,e,n){let r,i,o,a,l,s,u,f,c,h;pt(t,st,M=>n(10,c=M)),pt(t,be,M=>n(12,h=M));let{dataByCandidate:m}=e,v=800,g=600,_=60,p={top:40,right:5,bottom:40,left:40},y,b;function $(){n(2,g=window.innerHeight),n(1,v=window.innerWidth)}const A=(M,S)=>{Pt(be,h={methodId:M.methodId,color:S},h)},x=()=>{Pt(be,h=null,h)};function L(M){ft[M?"unshift":"push"](()=>{y=M,n(3,y)})}function j(M){ft[M?"unshift":"push"](()=>{b=M,n(4,b)})}return t.$$set=M=>{"dataByCandidate"in M&&n(0,m=M.dataByCandidate)},t.$$.update=()=>{t.$$.dirty[0]&4&&n(9,r={horizontal:200,vertical:g/7}),t.$$.dirty[0]&514&&n(8,i=v-r.horizontal*2),t.$$.dirty[0]&516&&n(7,o=g-r.vertical*2),t.$$.dirty[0]&1024&&n(11,a=c.methods.filter(M=>M).length),t.$$.dirty[0]&257&&n(5,l=_r().domain(m.map(M=>M.name)).range([p.left,i-p.right]).padding(.1)),t.$$.dirty[0]&1153&&n(6,s=we().domain([0,Qt(m,M=>Qt(M.data.filter((S,k)=>c.methods[k]),S=>S.value))]).range([o-p.bottom,p.top]).interpolate(se)),t.$$.dirty[0]&72&&n(16,u=ne(y).call(vn(s).tickFormat(M=>`${M}%`))),t.$$.dirty[0]&48&&n(15,f=ne(b).call(pn(l))),t.$$.dirty[0]&65536&&u.selectAll("path, line").attr("style","stroke: var(--primary)"),t.$$.dirty[0]&32768&&f.selectAll("path, line").attr("style","stroke: var(--primary)"),t.$$.dirty[0]&32768&&f.selectAll(".tick:nth-child(odd) text").attr("dy",18),t.$$.dirty[0]&32768&&f.selectAll(".tick:nth-child(odd) line").attr("y2",16)},[m,v,g,y,b,l,s,o,i,r,c,a,h,_,p,f,u,$,A,x,L,j]}class ls extends W{constructor(e){super(),U(this,e,os,as,X,{dataByCandidate:0},null,[-1,-1])}}const Ks="";function Er(t,e,n){const r=t.slice();r[19]=e[n],r[23]=n;const i=r[7](r[1].results[r[23]].value);r[20]=i;const o=r[8](r[2].results[r[23]].value);return r[21]=o,r}function $r(t){let e,n,r,i,o,a,l,s,u,f,c=t[19].name+"",h,m,v,g,_,p,y,b,$,A,x,L=St(t[2].results[t[23]].value)+"",j,M,S,k,H,B,rt,it,dt=St(t[1].results[t[23]].value)+"",_t,mt,G,ke,xe,Me;return{c(){e=I("g"),n=I("circle"),o=I("g"),a=I("line"),f=I("text"),h=Z(c),g=I("g"),_=I("line"),$=I("rect"),x=I("text"),j=Z(L),S=I("line"),it=I("text"),_t=Z(dt),d(n,"cx",r=t[20]),d(n,"cy",i=t[21]),d(n,"r",4),d(n,"class","svelte-m3y0ba"),Q(n,"transition","all 0.5s cubic-bezier(.64,.02,.73,.18)"),d(a,"x1",l=t[20]),d(a,"y1",28),d(a,"x2",s=t[20]),d(a,"y2",u=t[21]),d(a,"class","svelte-m3y0ba"),d(f,"x",m=t[20]),d(f,"y",15),d(f,"dominant-baseline","middle"),d(f,"text-anchor",v=t[20]<100?"start":t[10]-t[20]<100?"end":"middle"),d(_,"x1",t[13].left-5),d(_,"y1",p=t[21]),d(_,"x2",y=t[20]),d(_,"y2",b=t[21]),d(_,"stroke-width",2),d(_,"class","svelte-m3y0ba"),d($,"fill","white"),d($,"stroke","transparent"),d($,"x",0),d($,"y",A=t[21]-12),d($,"width",t[13].left-7),d($,"height",22),d(x,"x",t[13].left-8),d(x,"y",M=t[21]),d(x,"dominant-baseline","middle"),d(x,"text-anchor","end"),d(S,"x1",k=t[20]),d(S,"y1",H=t[21]),d(S,"x2",B=t[20]),d(S,"y2",rt=t[9]-18),d(S,"stroke-width",2),d(S,"class","svelte-m3y0ba"),d(it,"x",mt=t[20]),d(it,"y",G=t[9]-5),d(it,"text-anchor","middle"),d(g,"class","percentages svelte-m3y0ba"),d(o,"class","tooltip svelte-m3y0ba"),d(o,"stroke",ke=t[19].color),d(o,"fill",xe=t[19].color),d(e,"fill",Me=t[19].color),d(e,"class","svelte-m3y0ba")},m(N,P){T(N,e,P),w(e,n),w(e,o),w(o,a),w(o,f),w(f,h),w(o,g),w(g,_),w(g,$),w(g,x),w(x,j),w(g,S),w(g,it),w(it,_t)},p(N,P){P&130&&r!==(r=N[20])&&d(n,"cx",r),P&260&&i!==(i=N[21])&&d(n,"cy",i),P&130&&l!==(l=N[20])&&d(a,"x1",l),P&130&&s!==(s=N[20])&&d(a,"x2",s),P&260&&u!==(u=N[21])&&d(a,"y2",u),P&1&&c!==(c=N[19].name+"")&&at(h,c),P&130&&m!==(m=N[20])&&d(f,"x",m),P&1154&&v!==(v=N[20]<100?"start":N[10]-N[20]<100?"end":"middle")&&d(f,"text-anchor",v),P&260&&p!==(p=N[21])&&d(_,"y1",p),P&130&&y!==(y=N[20])&&d(_,"x2",y),P&260&&b!==(b=N[21])&&d(_,"y2",b),P&260&&A!==(A=N[21]-12)&&d($,"y",A),P&4&&L!==(L=St(N[2].results[N[23]].value)+"")&&at(j,L),P&260&&M!==(M=N[21])&&d(x,"y",M),P&130&&k!==(k=N[20])&&d(S,"x1",k),P&260&&H!==(H=N[21])&&d(S,"y1",H),P&130&&B!==(B=N[20])&&d(S,"x2",B),P&512&&rt!==(rt=N[9]-18)&&d(S,"y2",rt),P&2&&dt!==(dt=St(N[1].results[N[23]].value)+"")&&at(_t,dt),P&130&&mt!==(mt=N[20])&&d(it,"x",mt),P&512&&G!==(G=N[9]-5)&&d(it,"y",G),P&1&&ke!==(ke=N[19].color)&&d(o,"stroke",ke),P&1&&xe!==(xe=N[19].color)&&d(o,"fill",xe),P&1&&Me!==(Me=N[19].color)&&d(e,"fill",Me)},d(N){N&&R(e)}}}function ss(t){let e,n,r=t[1].methodName+"",i,o,a,l=t[2].methodName+"",s,u,f,c,h,m,v;Tt(t[16]);let g=t[0],_=[];for(let p=0;p<g.length;p+=1)_[p]=$r(Er(t,g,p));return{c(){e=I("svg"),n=I("text"),i=Z(r),a=I("text"),s=Z(l),u=I("g"),f=I("g");for(let p=0;p<_.length;p+=1)_[p].c();d(n,"text-anchor","end"),d(n,"x",t[10]),d(n,"y",o=t[9]-5),d(n,"class","svelte-m3y0ba"),d(a,"text-anchor","start"),d(a,"x",0),d(a,"y",23),d(a,"dominant-baseline","hanging"),d(a,"class","svelte-m3y0ba"),d(u,"transform","translate("+t[13].left+", 0)"),d(u,"class","svelte-m3y0ba"),d(f,"transform",c="translate(0, "+(t[9]-t[13].bottom)+")"),d(f,"class","svelte-m3y0ba"),d(e,"viewBox",h="0 0 "+t[10]+" "+t[9]),Q(e,"max-width",t[10]+"px"),Q(e,"margin-top",t[11].vertical-t[12]/2+"px"),d(e,"class","svelte-m3y0ba")},m(p,y){T(p,e,y),w(e,n),w(n,i),w(e,a),w(a,s),w(e,u),t[17](u),w(e,f),t[18](f);for(let b=0;b<_.length;b+=1)_[b].m(e,null);m||(v=J(window,"resize",t[16]),m=!0)},p(p,[y]){if(y&2&&r!==(r=p[1].methodName+"")&&at(i,r),y&1024&&d(n,"x",p[10]),y&512&&o!==(o=p[9]-5)&&d(n,"y",o),y&4&&l!==(l=p[2].methodName+"")&&at(s,l),y&512&&c!==(c="translate(0, "+(p[9]-p[13].bottom)+")")&&d(f,"transform",c),y&10119){g=p[0];let b;for(b=0;b<g.length;b+=1){const $=Er(p,g,b);_[b]?_[b].p($,y):(_[b]=$r($),_[b].c(),_[b].m(e,null))}for(;b<_.length;b+=1)_[b].d(1);_.length=g.length}y&1536&&h!==(h="0 0 "+p[10]+" "+p[9])&&d(e,"viewBox",h),y&1024&&Q(e,"max-width",p[10]+"px"),y&2048&&Q(e,"margin-top",p[11].vertical-p[12]/2+"px")},i:E,o:E,d(p){p&&R(e),t[17](null),t[18](null),Yt(_,p),m=!1,v()}}}let Cr=2;function us(t,e,n){let r,i,o,a,l,s,u,{candidates:f}=e,{dataX:c}=e,{dataY:h}=e,m=800,v=600,g=60,_={top:40,right:15,bottom:40,left:60},p,y;function b(){n(4,v=window.innerHeight),n(3,m=window.innerWidth)}function $(x){ft[x?"unshift":"push"](()=>{p=x,n(5,p)})}function A(x){ft[x?"unshift":"push"](()=>{y=x,n(6,y)})}return t.$$set=x=>{"candidates"in x&&n(0,f=x.candidates),"dataX"in x&&n(1,c=x.dataX),"dataY"in x&&n(2,h=x.dataY)},t.$$.update=()=>{t.$$.dirty&16&&n(11,r={horizontal:200,vertical:v/7}),t.$$.dirty&2056&&n(10,i=m-r.horizontal*2),t.$$.dirty&2064&&n(9,o=v-r.vertical*2),t.$$.dirty&1026&&n(7,a=we().domain([0,Qt(c.results,x=>x.value)+Cr]).range([_.left,i-_.right]).interpolate(se)),t.$$.dirty&516&&n(8,l=we().domain([0,Qt(h.results,x=>x.value)+Cr]).range([o-_.bottom,_.top]).interpolate(se)),t.$$.dirty&288&&n(15,s=ne(p).call(vn(l).tickFormat(x=>`${x}%`))),t.$$.dirty&192&&n(14,u=ne(y).call(pn(a).tickFormat(x=>`${x}%`))),t.$$.dirty&32768&&s.selectAll("path, line").attr("style","stroke: var(--primary)"),t.$$.dirty&16384&&u.selectAll("path, line").attr("style","stroke: var(--primary)")},[f,c,h,m,v,p,y,a,l,o,i,r,g,_,u,s,b,$,A]}class fs extends W{constructor(e){super(),U(this,e,us,ss,X,{candidates:0,dataX:1,dataY:2})}}const Zs="";function cs(t){let e,n,r,i,o,a,l,s;return{c(){e=F("div"),n=F("input"),r=V(),i=F("label"),o=Z(t[1]),d(n,"type","checkbox"),n.disabled=t[3],d(n,"name",t[2]),d(n,"id",t[2]),d(n,"class","svelte-e23efo"),d(i,"for",t[2]),d(i,"style",a=t[4]&&t[4].methodId===t[2]?`color: ${t[4].color}; font-weight: 600`:""),d(i,"class","svelte-e23efo"),d(e,"class","svelte-e23efo")},m(u,f){T(u,e,f),w(e,n),n.checked=t[0],w(e,r),w(e,i),w(i,o),l||(s=J(n,"change",t[5]),l=!0)},p(u,[f]){f&8&&(n.disabled=u[3]),f&4&&d(n,"name",u[2]),f&4&&d(n,"id",u[2]),f&1&&(n.checked=u[0]),f&2&&at(o,u[1]),f&4&&d(i,"for",u[2]),f&20&&a!==(a=u[4]&&u[4].methodId===u[2]?`color: ${u[4].color}; font-weight: 600`:"")&&d(i,"style",a)},i:E,o:E,d(u){u&&R(e),l=!1,s()}}}function hs(t,e,n){let r;pt(t,be,u=>n(4,r=u));let{checked:i}=e,{label:o}=e,{name:a}=e,{disabled:l=!1}=e;function s(){i=this.checked,n(0,i)}return t.$$set=u=>{"checked"in u&&n(0,i=u.checked),"label"in u&&n(1,o=u.label),"name"in u&&n(2,a=u.name),"disabled"in u&&n(3,l=u.disabled)},[i,o,a,l,r,s]}class Sr extends W{constructor(e){super(),U(this,e,hs,cs,X,{checked:0,label:1,name:2,disabled:3})}}const Qs="";function ds(t){let e,n,r,i,o,a;return{c(){e=F("button"),e.textContent="?",n=V(),r=F("dialog"),i=Z(t[0]),d(e,"class","svelte-1njk4sg"),d(r,"class","svelte-1njk4sg")},m(l,s){T(l,e,s),T(l,n,s),T(l,r,s),w(r,i),t[4](r),o||(a=[J(e,"click",t[3]),J(r,"keypress",ms),J(r,"click",t[2])],o=!0)},p(l,[s]){s&1&&at(i,l[0])},i:E,o:E,d(l){l&&R(e),l&&R(n),l&&R(r),t[4](null),o=!1,ut(a)}}}const ms=()=>{};function gs(t,e,n){let{help:r}=e,i;function o(s){if(!s.target||s.target.tagName!=="DIALOG")return;const f=s.target.getBoundingClientRect();(f.top<=s.clientY&&s.clientY<=f.top+f.height&&f.left<=s.clientX&&s.clientX<=f.left+f.width)===!1&&i.close()}const a=()=>i.showModal();function l(s){ft[s?"unshift":"push"](()=>{i=s,n(1,i)})}return t.$$set=s=>{"help"in s&&n(0,r=s.help)},[r,i,o,a,l]}class _s extends W{constructor(e){super(),U(this,e,gs,ds,X,{help:0})}}const js="";function ps(t){let e,n,r,i;const o=t[2].default,a=qr(o,t,t[1],null);return r=new _s({props:{help:t[0]}}),{c(){e=F("div"),a&&a.c(),n=V(),O(r.$$.fragment),d(e,"class","svelte-1ea00u6")},m(l,s){T(l,e,s),a&&a.m(e,null),w(e,n),q(r,e,null),i=!0},p(l,[s]){a&&a.p&&(!i||s&2)&&Or(a,o,l,l[1],i?Dr(o,l[1],s,null):Xr(l[1]),null);const u={};s&1&&(u.help=l[0]),r.$set(u)},i(l){i||(C(a,l),C(r.$$.fragment,l),i=!0)},o(l){z(a,l),z(r.$$.fragment,l),i=!1},d(l){l&&R(e),a&&a.d(l),D(r)}}}function vs(t,e,n){let{$$slots:r={},$$scope:i}=e,{help:o}=e;return t.$$set=a=>{"help"in a&&n(0,o=a.help),"$$scope"in a&&n(1,i=a.$$scope)},[o,i,r]}class Pr extends W{constructor(e){super(),U(this,e,vs,ps,X,{help:0})}}const tu="";function ys(t){let e,n,r,i;return{c(){e=F("button"),n=Z(t[1]),d(e,"class","svelte-36erlh"),ln(e,"active",t[2].comparison===t[0])},m(o,a){T(o,e,a),w(e,n),r||(i=J(e,"click",t[3]),r=!0)},p(o,[a]){a&2&&at(n,o[1]),a&5&&ln(e,"active",o[2].comparison===o[0])},i:E,o:E,d(o){o&&R(e),r=!1,i()}}}function ws(t,e,n){let r;pt(t,st,l=>n(2,r=l));let{id:i}=e,{name:o}=e;function a(){Pt(st,r.comparison=i,r)}return t.$$set=l=>{"id"in l&&n(0,i=l.id),"name"in l&&n(1,o=l.name)},[i,o,r,a]}class Rr extends W{constructor(e){super(),U(this,e,ws,ys,X,{id:0,name:1})}}const eu="";function bs(t){let e,n,r,i,o;return n=new Rr({props:{id:0,name:"M\xE9thode 1"}}),i=new Rr({props:{id:1,name:"M\xE9thode 2"}}),{c(){e=F("div"),O(n.$$.fragment),r=V(),O(i.$$.fragment),d(e,"class","svelte-z7dyga")},m(a,l){T(a,e,l),q(n,e,null),w(e,r),q(i,e,null),o=!0},p:E,i(a){o||(C(n.$$.fragment,a),C(i.$$.fragment,a),o=!0)},o(a){z(n.$$.fragment,a),z(i.$$.fragment,a),o=!1},d(a){a&&R(e),D(n),D(i)}}}class ks extends W{constructor(e){super(),U(this,e,null,bs,X,{})}}const nu="";function xs(t){let e,n,r,i,o,a,l,s,u,f,c,h,m;return{c(){e=F("div"),n=F("input"),o=V(),a=F("input"),u=V(),f=F("span"),c=Z(t[0]),d(n,"type","radio"),d(n,"name","method1"),d(n,"id",r="method1-"+t[1]),n.checked=i=t[3].methods2[0]===t[2],d(n,"class","svelte-rlcz88"),d(a,"type","radio"),d(a,"name","method2"),d(a,"id",l="method2-"+t[1]),a.checked=s=t[3].methods2[1]===t[2],d(a,"class","svelte-rlcz88"),d(e,"class","svelte-rlcz88")},m(v,g){T(v,e,g),w(e,n),w(e,o),w(e,a),w(e,u),w(e,f),w(f,c),h||(m=[J(n,"change",t[4]),J(a,"change",t[5])],h=!0)},p(v,[g]){g&2&&r!==(r="method1-"+v[1])&&d(n,"id",r),g&12&&i!==(i=v[3].methods2[0]===v[2])&&(n.checked=i),g&2&&l!==(l="method2-"+v[1])&&d(a,"id",l),g&12&&s!==(s=v[3].methods2[1]===v[2])&&(a.checked=s),g&1&&at(c,v[0])},i:E,o:E,d(v){v&&R(e),h=!1,ut(m)}}}function Ms(t,e,n){let r;pt(t,st,u=>n(3,r=u));let{label:i}=e,{name:o}=e,{index:a}=e;function l(){Pt(st,r.methods2=[a,r.methods2[1]],r)}function s(){Pt(st,r.methods2=[r.methods2[0],a],r)}return t.$$set=u=>{"label"in u&&n(0,i=u.label),"name"in u&&n(1,o=u.name),"index"in u&&n(2,a=u.index)},[i,o,a,r,l,s]}class Ns extends W{constructor(e){super(),U(this,e,Ms,xs,X,{label:0,name:1,index:2})}}const ru="";function Fr(t,e,n){const r=t.slice();return r[3]=e[n],r[4]=e,r[5]=n,r}function As(t){let e,n,r;function i(a){t[1](a)}let o={label:"Corriger les biais",name:"biasCorrection"};return t[0].biasCorrection!==void 0&&(o.checked=t[0].biasCorrection),e=new Sr({props:o}),ft.push(()=>fn(e,"checked",i)),{c(){O(e.$$.fragment)},m(a,l){q(e,a,l),r=!0},p(a,l){const s={};!n&&l&1&&(n=!0,s.checked=a[0].biasCorrection,sn(()=>n=!1)),e.$set(s)},i(a){r||(C(e.$$.fragment,a),r=!0)},o(a){z(e.$$.fragment,a),r=!1},d(a){D(e,a)}}}function Ir(t){let e;return{c(){e=F("div"),e.innerHTML=`<p class="svelte-ebaz9w">x</p> 
				<p class="svelte-ebaz9w">y</p> 
				<p class="svelte-ebaz9w">scrutin</p>`,d(e,"class","svelte-ebaz9w")},m(n,r){T(n,e,r)},d(n){n&&R(e)}}}function Es(t){let e,n;return e=new Ns({props:{label:t[3].methodName,name:t[3].methodId,index:t[5]}}),{c(){O(e.$$.fragment)},m(r,i){q(e,r,i),n=!0},p:E,i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){z(e.$$.fragment,r),n=!1},d(r){D(e,r)}}}function $s(t){let e,n,r;function i(a){t[2](a,t[5])}let o={label:t[3].methodName,name:t[3].methodId,disabled:t[0].methods[t[5]]&&t[0].methods.filter(zr).length===1};return t[0].methods[t[5]]!==void 0&&(o.checked=t[0].methods[t[5]]),e=new Sr({props:o}),ft.push(()=>fn(e,"checked",i)),{c(){O(e.$$.fragment)},m(a,l){q(e,a,l),r=!0},p(a,l){t=a;const s={};l&1&&(s.disabled=t[0].methods[t[5]]&&t[0].methods.filter(zr).length===1),!n&&l&1&&(n=!0,s.checked=t[0].methods[t[5]],sn(()=>n=!1)),e.$set(s)},i(a){r||(C(e.$$.fragment,a),r=!0)},o(a){z(e.$$.fragment,a),r=!1},d(a){D(e,a)}}}function Cs(t){let e,n,r,i;const o=[$s,Es],a=[];function l(s,u){return s[0].comparison===0?0:1}return e=l(t),n=a[e]=o[e](t),{c(){n.c(),r=V()},m(s,u){a[e].m(s,u),T(s,r,u),i=!0},p(s,u){let f=e;e=l(s),e===f?a[e].p(s,u):(Wt(),z(a[f],1,1,()=>{a[f]=null}),Kt(),n=a[e],n?n.p(s,u):(n=a[e]=o[e](s),n.c()),C(n,1),n.m(r.parentNode,r))},i(s){i||(C(n),i=!0)},o(s){z(n),i=!1},d(s){a[e].d(s),s&&R(r)}}}function Tr(t){let e,n;return e=new Pr({props:{help:t[3].description,$$slots:{default:[Cs]},$$scope:{ctx:t}}}),{c(){O(e.$$.fragment)},m(r,i){q(e,r,i),n=!0},p(r,i){const o={};i&65&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){z(e.$$.fragment,r),n=!1},d(r){D(e,r)}}}function Ss(t){let e,n,r,i,o,a,l,s,u,f;i=new Pr({props:{help:"Explication de la correction des biais",$$slots:{default:[As]},$$scope:{ctx:t}}}),a=new ks({});let c=t[0].comparison===1&&Ir(),h=kt,m=[];for(let g=0;g<h.length;g+=1)m[g]=Tr(Fr(t,h,g));const v=g=>z(m[g],1,1,()=>{m[g]=null});return{c(){e=F("div"),n=F("h1"),n.textContent="Comparaison des m\xE9thodes de scrutin",r=V(),O(i.$$.fragment),o=V(),O(a.$$.fragment),l=V(),s=F("div"),c&&c.c(),u=V();for(let g=0;g<m.length;g+=1)m[g].c();d(n,"class","svelte-ebaz9w"),d(s,"class","rankings svelte-ebaz9w"),d(e,"class","sidebar svelte-ebaz9w")},m(g,_){T(g,e,_),w(e,n),w(e,r),q(i,e,null),w(e,o),q(a,e,null),w(e,l),w(e,s),c&&c.m(s,null),w(s,u);for(let p=0;p<m.length;p+=1)m[p].m(s,null);f=!0},p(g,[_]){const p={};if(_&65&&(p.$$scope={dirty:_,ctx:g}),i.$set(p),g[0].comparison===1?c||(c=Ir(),c.c(),c.m(s,u)):c&&(c.d(1),c=null),_&1){h=kt;let y;for(y=0;y<h.length;y+=1){const b=Fr(g,h,y);m[y]?(m[y].p(b,_),C(m[y],1)):(m[y]=Tr(b),m[y].c(),C(m[y],1),m[y].m(s,null))}for(Wt(),y=h.length;y<m.length;y+=1)v(y);Kt()}},i(g){if(!f){C(i.$$.fragment,g),C(a.$$.fragment,g);for(let _=0;_<h.length;_+=1)C(m[_]);f=!0}},o(g){z(i.$$.fragment,g),z(a.$$.fragment,g),m=m.filter(Boolean);for(let _=0;_<m.length;_+=1)z(m[_]);f=!1},d(g){g&&R(e),D(i),D(a),c&&c.d(),Yt(m,g)}}}const zr=t=>t;function Ps(t,e,n){let r;pt(t,st,a=>n(0,r=a));function i(a){t.$$.not_equal(r.biasCorrection,a)&&(r.biasCorrection=a,st.set(r))}function o(a,l){t.$$.not_equal(r.methods[l],a)&&(r.methods[l]=a,st.set(r))}return[r,i,o]}class Rs extends W{constructor(e){super(),U(this,e,Ps,Ss,X,{})}}const iu="";function Fs(t){let e,n;return e=new fs({props:{candidates:wr,dataX:t[1][t[0].methods2[0]],dataY:t[1][t[0].methods2[1]]}}),{c(){O(e.$$.fragment)},m(r,i){q(e,r,i),n=!0},p(r,i){const o={};i&3&&(o.dataX=r[1][r[0].methods2[0]]),i&3&&(o.dataY=r[1][r[0].methods2[1]]),e.$set(o)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){z(e.$$.fragment,r),n=!1},d(r){D(e,r)}}}function Is(t){let e,n;return e=new ls({props:{dataByCandidate:t[2]}}),{c(){O(e.$$.fragment)},m(r,i){q(e,r,i),n=!0},p(r,i){const o={};i&4&&(o.dataByCandidate=r[2]),e.$set(o)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){z(e.$$.fragment,r),n=!1},d(r){D(e,r)}}}function Ts(t){let e,n,r,i,o,a,l;n=new Rs({});const s=[Is,Fs],u=[];function f(c,h){return c[0].comparison===0?0:1}return o=f(t),a=u[o]=s[o](t),{c(){e=F("main"),O(n.$$.fragment),r=V(),i=F("div"),a.c(),d(i,"class","graph svelte-1kxebne"),d(e,"class","svelte-1kxebne")},m(c,h){T(c,e,h),q(n,e,null),w(e,r),w(e,i),u[o].m(i,null),l=!0},p(c,[h]){let m=o;o=f(c),o===m?u[o].p(c,h):(Wt(),z(u[m],1,1,()=>{u[m]=null}),Kt(),a=u[o],a?a.p(c,h):(a=u[o]=s[o](c),a.c()),C(a,1),a.m(i,null))},i(c){l||(C(n.$$.fragment,c),C(a),l=!0)},o(c){z(n.$$.fragment,c),z(a),l=!1},d(c){c&&R(e),D(n),u[o].d()}}}function zs(t,e,n){let r,i,o;return pt(t,st,a=>n(0,o=a)),t.$$.update=()=>{t.$$.dirty&1&&n(2,r=o.biasCorrection?br.map(({name:a,color:l,data:s})=>({name:a,color:l,data:s.map(({methodId:u,value:f})=>({methodId:u,value:f*yr.find(c=>c.name===a).value}))})):br),t.$$.dirty&1&&n(1,i=o.biasCorrection?kt.map(({methodId:a,methodName:l,description:s,results:u,unit:f})=>({methodId:a,methodName:l,description:s,unit:f,results:u.map(({name:c,value:h})=>({name:c,value:h*yr.find(m=>m.name===c).value}))})):kt)},[o,i,r]}class Bs extends W{constructor(e){super(),U(this,e,zs,Ts,X,{})}}const au="";function Hs(t){let e;return{c(){e=F("main"),e.innerHTML=`<h1 class="svelte-yuop0r">Challenge Open Data \u2014 Rapport</h1> 

	<p>Membres de l\u2019\xE9quipe\xA0:</p> 
	<ul class="svelte-yuop0r"><li>Ariane DAUVERGNE</li> 
		<li>Gwennan ELIEZER</li> 
		<li>Jean LE MENN</li> 
		<li>Maxime LHERMITE</li> 
		<li>Habibata SAMAKE</li> 
		<li>Sym\xE9on SMITH</li></ul> 

	<h2 class="svelte-yuop0r">Grand titre</h2> 
	<h3 class="svelte-yuop0r">Sous titre</h3>`,d(e,"class","svelte-yuop0r")},m(n,r){T(n,e,r)},p:E,i:E,o:E,d(n){n&&R(e)}}}class Ls extends W{constructor(e){super(),U(this,e,null,Hs,X,{})}}function qs(t){let e,n;return e=new Bs({}),{c(){O(e.$$.fragment)},m(r,i){q(e,r,i),n=!0},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){z(e.$$.fragment,r),n=!1},d(r){D(e,r)}}}function Ds(t){let e,n;return e=new Ls({}),{c(){O(e.$$.fragment)},m(r,i){q(e,r,i),n=!0},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){z(e.$$.fragment,r),n=!1},d(r){D(e,r)}}}function Os(t){let e,n,r,i,o,a;e=new ti({}),e.$on("showReportPage",t[1]),e.$on("showGraphPage",t[2]);const l=[Ds,qs],s=[];function u(f,c){return f[0]?0:1}return r=u(t),i=s[r]=l[r](t),{c(){O(e.$$.fragment),n=V(),i.c(),o=an()},m(f,c){q(e,f,c),T(f,n,c),s[r].m(f,c),T(f,o,c),a=!0},p(f,[c]){let h=r;r=u(f),r!==h&&(Wt(),z(s[h],1,1,()=>{s[h]=null}),Kt(),i=s[r],i||(i=s[r]=l[r](f),i.c()),C(i,1),i.m(o.parentNode,o))},i(f){a||(C(e.$$.fragment,f),C(i),a=!0)},o(f){z(e.$$.fragment,f),z(i),a=!1},d(f){D(e,f),f&&R(n),s[r].d(f),f&&R(o)}}}function Xs(t,e,n){let r=!1;return[r,()=>n(0,r=!0),()=>n(0,r=!1)]}class Vs extends W{constructor(e){super(),U(this,e,Xs,Os,X,{})}}return new Vs({target:document.getElementById("app")})}();
