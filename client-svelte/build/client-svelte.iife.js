var global=function(){"use strict";const nu="",ru="";function R(){}function Gr(e,t){for(const n in t)e[n]=t[n];return e}function fn(e){return e()}function hn(){return Object.create(null)}function oe(e){e.forEach(fn)}function dn(e){return typeof e=="function"}function K(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Ur(e){return Object.keys(e).length===0}function Kr(e,...t){if(e==null)return R;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function ge(e,t,n){e.$$.on_destroy.push(Kr(t,n))}function St(e,t,n,r){if(e){const i=mn(e,t,n,r);return e[0](i)}}function mn(e,t,n,r){return e[1]&&r?Gr(n.ctx.slice(),e[1](r(t))):n.ctx}function Pt(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(t.dirty===void 0)return i;if(typeof i=="object"){const l=[],a=Math.max(t.dirty.length,i.length);for(let o=0;o<a;o+=1)l[o]=t.dirty[o]|i[o];return l}return t.dirty|i}return t.dirty}function qt(e,t,n,r,i,l){if(i){const a=mn(t,n,r,l);e.p(a,i)}}function Ft(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function Pe(e,t,n){return e.set(n),t}function _(e,t){e.appendChild(t)}function F(e,t,n){e.insertBefore(t,n||null)}function q(e){e.parentNode&&e.parentNode.removeChild(e)}function qe(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function C(e){return document.createElement(e)}function I(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function V(e){return document.createTextNode(e)}function D(){return V(" ")}function pn(){return V("")}function Y(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function gn(e){return function(t){return t.preventDefault(),e.call(this,t)}}function d(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Wr(e){return Array.from(e.childNodes)}function te(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function z(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function Ye(e,t,n){e.classList[n?"add":"remove"](t)}function Zr(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,r,t),i}let Fe;function Le(e){Fe=e}function Qr(){if(!Fe)throw new Error("Function called outside component initialization");return Fe}function jr(){const e=Qr();return(t,n,{cancelable:r=!1}={})=>{const i=e.$$.callbacks[t];if(i){const l=Zr(t,n,{cancelable:r});return i.slice().forEach(a=>{a.call(e,l)}),!l.defaultPrevented}return!0}}const Re=[],fe=[],Ge=[],Lt=[],ei=Promise.resolve();let Rt=!1;function ti(){Rt||(Rt=!0,ei.then(vn))}function Ie(e){Ge.push(e)}function _n(e){Lt.push(e)}const It=new Set;let Ue=0;function vn(){const e=Fe;do{for(;Ue<Re.length;){const t=Re[Ue];Ue++,Le(t),ni(t.$$)}for(Le(null),Re.length=0,Ue=0;fe.length;)fe.pop()();for(let t=0;t<Ge.length;t+=1){const n=Ge[t];It.has(n)||(It.add(n),n())}Ge.length=0}while(Re.length);for(;Lt.length;)Lt.pop()();Rt=!1,It.clear(),Le(e)}function ni(e){if(e.fragment!==null){e.update(),oe(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ie)}}const Ke=new Set;let _e;function We(){_e={r:0,c:[],p:_e}}function Ze(){_e.r||oe(_e.c),_e=_e.p}function L(e,t){e&&e.i&&(Ke.delete(e),e.i(t))}function T(e,t,n,r){if(e&&e.o){if(Ke.has(e))return;Ke.add(e),_e.c.push(()=>{Ke.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function wn(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function G(e){e&&e.c()}function O(e,t,n,r){const{fragment:i,after_update:l}=e.$$;i&&i.m(t,n),r||Ie(()=>{const a=e.$$.on_mount.map(fn).filter(dn);e.$$.on_destroy?e.$$.on_destroy.push(...a):oe(a),e.$$.on_mount=[]}),l.forEach(Ie)}function X(e,t){const n=e.$$;n.fragment!==null&&(oe(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ri(e,t){e.$$.dirty[0]===-1&&(Re.push(e),ti(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Q(e,t,n,r,i,l,a,o=[-1]){const u=Fe;Le(e);const s=e.$$={fragment:null,ctx:[],props:l,update:R,not_equal:i,bound:hn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:hn(),dirty:o,skip_bound:!1,root:t.target||u.$$.root};a&&a(s.root);let c=!1;if(s.ctx=n?n(e,t.props||{},(f,h,...m)=>{const g=m.length?m[0]:h;return s.ctx&&i(s.ctx[f],s.ctx[f]=g)&&(!s.skip_bound&&s.bound[f]&&s.bound[f](g),c&&ri(e,f)),h}):[],s.update(),c=!0,oe(s.before_update),s.fragment=r?r(s.ctx):!1,t.target){if(t.hydrate){const f=Wr(t.target);s.fragment&&s.fragment.l(f),f.forEach(q)}else s.fragment&&s.fragment.c();t.intro&&L(e.$$.fragment),O(e,t.target,t.anchor,t.customElement),vn()}Le(u)}class j{$destroy(){X(this,1),this.$destroy=R}$on(t,n){if(!dn(n))return R;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Ur(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const iu="";function ii(e){let t,n,r,i,l,a,o,u,s;return{c(){t=C("nav"),n=C("ul"),r=C("li"),i=C("a"),i.textContent="\u{1F5F3}\uFE0F Challenge Open Data",l=D(),a=C("li"),o=C("a"),o.textContent="Rapport",d(i,"href","./index.html"),d(i,"class","svelte-vawjto"),d(r,"class","svelte-vawjto"),d(o,"href","./index.html"),d(o,"class","svelte-vawjto"),d(a,"class","svelte-vawjto"),d(n,"class","svelte-vawjto"),d(t,"class","svelte-vawjto")},m(c,f){F(c,t,f),_(t,n),_(n,r),_(r,i),_(n,l),_(n,a),_(a,o),u||(s=[Y(i,"click",gn(e[1])),Y(o,"click",gn(e[2]))],u=!0)},p:R,i:R,o:R,d(c){c&&q(t),u=!1,oe(s)}}}function ai(e){const t=jr();return[t,()=>t("showGraphPage"),()=>t("showReportPage")]}class li extends j{constructor(t){super(),Q(this,t,ai,ii,K,{})}}function Qe(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oi(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yn(e){let t,n,r;e.length!==2?(t=Qe,n=(o,u)=>Qe(e(o),u),r=(o,u)=>e(o)-u):(t=e===Qe||e===oi?e:si,n=e,r=e);function i(o,u,s=0,c=o.length){if(s<c){if(t(u,u)!==0)return c;do{const f=s+c>>>1;n(o[f],u)<0?s=f+1:c=f}while(s<c)}return s}function l(o,u,s=0,c=o.length){if(s<c){if(t(u,u)!==0)return c;do{const f=s+c>>>1;n(o[f],u)<=0?s=f+1:c=f}while(s<c)}return s}function a(o,u,s=0,c=o.length){const f=i(o,u,s,c-1);return f>s&&r(o[f-1],u)>-r(o[f],u)?f-1:f}return{left:i,center:a,right:l}}function si(){return 0}function ui(e){return e===null?NaN:+e}const ci=yn(Qe).right;yn(ui).center;const fi=ci;class bn extends Map{constructor(t,n=mi){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(kn(this,t))}has(t){return super.has(kn(this,t))}set(t,n){return super.set(hi(this,t),n)}delete(t){return super.delete(di(this,t))}}function kn({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function hi({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function di({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function mi(e){return e!==null&&typeof e=="object"?e.valueOf():e}var Tt=Math.sqrt(50),Bt=Math.sqrt(10),Ht=Math.sqrt(2);function pi(e,t,n){var r,i=-1,l,a,o;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(l=e,e=t,t=l),(o=xn(e,t,n))===0||!isFinite(o))return[];if(o>0){let u=Math.round(e/o),s=Math.round(t/o);for(u*o<e&&++u,s*o>t&&--s,a=new Array(l=s-u+1);++i<l;)a[i]=(u+i)*o}else{o=-o;let u=Math.round(e*o),s=Math.round(t*o);for(u/o<e&&++u,s/o>t&&--s,a=new Array(l=s-u+1);++i<l;)a[i]=(u+i)/o}return r&&a.reverse(),a}function xn(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),l=r/Math.pow(10,i);return i>=0?(l>=Tt?10:l>=Bt?5:l>=Ht?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(l>=Tt?10:l>=Bt?5:l>=Ht?2:1)}function gi(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),l=r/i;return l>=Tt?i*=10:l>=Bt?i*=5:l>=Ht&&(i*=2),t<e?-i:i}function je(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function _i(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(i);++r<i;)l[r]=e+r*n;return l}function vi(e){return e}var Dt=1,zt=2,Jt=3,Te=4,Mn=1e-6;function wi(e){return"translate("+e+",0)"}function yi(e){return"translate(0,"+e+")"}function bi(e){return t=>+e(t)}function ki(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function xi(){return!this.__axis}function Nn(e,t){var n=[],r=null,i=null,l=6,a=6,o=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=e===Dt||e===Te?-1:1,c=e===Te||e===zt?"x":"y",f=e===Dt||e===Jt?wi:yi;function h(m){var g=r==null?t.ticks?t.ticks.apply(t,n):t.domain():r,p=i==null?t.tickFormat?t.tickFormat.apply(t,n):vi:i,v=Math.max(l,0)+o,k=t.range(),b=+k[0]+u,M=+k[k.length-1]+u,B=(t.bandwidth?ki:bi)(t.copy(),u),N=m.selection?m.selection():m,w=N.selectAll(".domain").data([null]),E=N.selectAll(".tick").data(g,t).order(),x=E.exit(),y=E.enter().append("g").attr("class","tick"),J=E.select("line"),A=E.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(y),J=J.merge(y.append("line").attr("stroke","currentColor").attr(c+"2",s*l)),A=A.merge(y.append("text").attr("fill","currentColor").attr(c,s*v).attr("dy",e===Dt?"0em":e===Jt?"0.71em":"0.32em")),m!==N&&(w=w.transition(m),E=E.transition(m),J=J.transition(m),A=A.transition(m),x=x.transition(m).attr("opacity",Mn).attr("transform",function(H){return isFinite(H=B(H))?f(H+u):this.getAttribute("transform")}),y.attr("opacity",Mn).attr("transform",function(H){var P=this.parentNode.__axis;return f((P&&isFinite(P=P(H))?P:B(H))+u)})),x.remove(),w.attr("d",e===Te||e===zt?a?"M"+s*a+","+b+"H"+u+"V"+M+"H"+s*a:"M"+u+","+b+"V"+M:a?"M"+b+","+s*a+"V"+u+"H"+M+"V"+s*a:"M"+b+","+u+"H"+M),E.attr("opacity",1).attr("transform",function(H){return f(B(H)+u)}),J.attr(c+"2",s*l),A.attr(c,s*v).text(p),N.filter(xi).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===zt?"start":e===Te?"end":"middle"),N.each(function(){this.__axis=B})}return h.scale=function(m){return arguments.length?(t=m,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),h):n.slice()},h.tickValues=function(m){return arguments.length?(r=m==null?null:Array.from(m),h):r&&r.slice()},h.tickFormat=function(m){return arguments.length?(i=m,h):i},h.tickSize=function(m){return arguments.length?(l=a=+m,h):l},h.tickSizeInner=function(m){return arguments.length?(l=+m,h):l},h.tickSizeOuter=function(m){return arguments.length?(a=+m,h):a},h.tickPadding=function(m){return arguments.length?(o=+m,h):o},h.offset=function(m){return arguments.length?(u=+m,h):u},h}function An(e){return Nn(Jt,e)}function $n(e){return Nn(Te,e)}var Mi={value:()=>{}};function En(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new et(n)}function et(e){this._=e}function Ni(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}et.prototype=En.prototype={constructor:et,on:function(e,t){var n=this._,r=Ni(e+"",n),i,l=-1,a=r.length;if(arguments.length<2){for(;++l<a;)if((i=(e=r[l]).type)&&(i=Ai(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++l<a;)if(i=(e=r[l]).type)n[i]=Cn(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Cn(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new et(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,l;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(l=this._[e],r=0,i=l.length;r<i;++r)l[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,l=r.length;i<l;++i)r[i].value.apply(t,n)}};function Ai(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Cn(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Mi,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ot="http://www.w3.org/1999/xhtml";const Sn={svg:"http://www.w3.org/2000/svg",xhtml:Ot,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tt(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Sn.hasOwnProperty(t)?{space:Sn[t],local:e}:e}function $i(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ot&&t.documentElement.namespaceURI===Ot?t.createElement(e):t.createElementNS(n,e)}}function Ei(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Pn(e){var t=tt(e);return(t.local?Ei:$i)(t)}function Ci(){}function Xt(e){return e==null?Ci:function(){return this.querySelector(e)}}function Si(e){typeof e!="function"&&(e=Xt(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var l=t[i],a=l.length,o=r[i]=new Array(a),u,s,c=0;c<a;++c)(u=l[c])&&(s=e.call(u,u.__data__,c,l))&&("__data__"in u&&(s.__data__=u.__data__),o[c]=s);return new ee(r,this._parents)}function Pi(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function qi(){return[]}function qn(e){return e==null?qi:function(){return this.querySelectorAll(e)}}function Fi(e){return function(){return Pi(e.apply(this,arguments))}}function Li(e){typeof e=="function"?e=Fi(e):e=qn(e);for(var t=this._groups,n=t.length,r=[],i=[],l=0;l<n;++l)for(var a=t[l],o=a.length,u,s=0;s<o;++s)(u=a[s])&&(r.push(e.call(u,u.__data__,s,a)),i.push(u));return new ee(r,i)}function Fn(e){return function(){return this.matches(e)}}function Ln(e){return function(t){return t.matches(e)}}var Ri=Array.prototype.find;function Ii(e){return function(){return Ri.call(this.children,e)}}function Ti(){return this.firstElementChild}function Bi(e){return this.select(e==null?Ti:Ii(typeof e=="function"?e:Ln(e)))}var Hi=Array.prototype.filter;function Di(){return Array.from(this.children)}function zi(e){return function(){return Hi.call(this.children,e)}}function Ji(e){return this.selectAll(e==null?Di:zi(typeof e=="function"?e:Ln(e)))}function Oi(e){typeof e!="function"&&(e=Fn(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var l=t[i],a=l.length,o=r[i]=[],u,s=0;s<a;++s)(u=l[s])&&e.call(u,u.__data__,s,l)&&o.push(u);return new ee(r,this._parents)}function Rn(e){return new Array(e.length)}function Xi(){return new ee(this._enter||this._groups.map(Rn),this._parents)}function nt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}nt.prototype={constructor:nt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Vi(e){return function(){return e}}function Yi(e,t,n,r,i,l){for(var a=0,o,u=t.length,s=l.length;a<s;++a)(o=t[a])?(o.__data__=l[a],r[a]=o):n[a]=new nt(e,l[a]);for(;a<u;++a)(o=t[a])&&(i[a]=o)}function Gi(e,t,n,r,i,l,a){var o,u,s=new Map,c=t.length,f=l.length,h=new Array(c),m;for(o=0;o<c;++o)(u=t[o])&&(h[o]=m=a.call(u,u.__data__,o,t)+"",s.has(m)?i[o]=u:s.set(m,u));for(o=0;o<f;++o)m=a.call(e,l[o],o,l)+"",(u=s.get(m))?(r[o]=u,u.__data__=l[o],s.delete(m)):n[o]=new nt(e,l[o]);for(o=0;o<c;++o)(u=t[o])&&s.get(h[o])===u&&(i[o]=u)}function Ui(e){return e.__data__}function Ki(e,t){if(!arguments.length)return Array.from(this,Ui);var n=t?Gi:Yi,r=this._parents,i=this._groups;typeof e!="function"&&(e=Vi(e));for(var l=i.length,a=new Array(l),o=new Array(l),u=new Array(l),s=0;s<l;++s){var c=r[s],f=i[s],h=f.length,m=Wi(e.call(c,c&&c.__data__,s,r)),g=m.length,p=o[s]=new Array(g),v=a[s]=new Array(g),k=u[s]=new Array(h);n(c,f,p,v,k,m,t);for(var b=0,M=0,B,N;b<g;++b)if(B=p[b]){for(b>=M&&(M=b+1);!(N=v[M])&&++M<g;);B._next=N||null}}return a=new ee(a,r),a._enter=o,a._exit=u,a}function Wi(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Zi(){return new ee(this._exit||this._groups.map(Rn),this._parents)}function Qi(e,t,n){var r=this.enter(),i=this,l=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?l.remove():n(l),r&&i?r.merge(i).order():i}function ji(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,l=r.length,a=Math.min(i,l),o=new Array(i),u=0;u<a;++u)for(var s=n[u],c=r[u],f=s.length,h=o[u]=new Array(f),m,g=0;g<f;++g)(m=s[g]||c[g])&&(h[g]=m);for(;u<i;++u)o[u]=n[u];return new ee(o,this._parents)}function ea(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,l=r[i],a;--i>=0;)(a=r[i])&&(l&&a.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(a,l),l=a);return this}function ta(e){e||(e=na);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),l=0;l<r;++l){for(var a=n[l],o=a.length,u=i[l]=new Array(o),s,c=0;c<o;++c)(s=a[c])&&(u[c]=s);u.sort(t)}return new ee(i,this._parents).order()}function na(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ra(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ia(){return Array.from(this)}function aa(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,l=r.length;i<l;++i){var a=r[i];if(a)return a}return null}function la(){let e=0;for(const t of this)++e;return e}function oa(){return!this.node()}function sa(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],l=0,a=i.length,o;l<a;++l)(o=i[l])&&e.call(o,o.__data__,l,i);return this}function ua(e){return function(){this.removeAttribute(e)}}function ca(e){return function(){this.removeAttributeNS(e.space,e.local)}}function fa(e,t){return function(){this.setAttribute(e,t)}}function ha(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function da(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function ma(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function pa(e,t){var n=tt(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?ca:ua:typeof t=="function"?n.local?ma:da:n.local?ha:fa)(n,t))}function In(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ga(e){return function(){this.style.removeProperty(e)}}function _a(e,t,n){return function(){this.style.setProperty(e,t,n)}}function va(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function wa(e,t,n){return arguments.length>1?this.each((t==null?ga:typeof t=="function"?va:_a)(e,t,n==null?"":n)):ke(this.node(),e)}function ke(e,t){return e.style.getPropertyValue(t)||In(e).getComputedStyle(e,null).getPropertyValue(t)}function ya(e){return function(){delete this[e]}}function ba(e,t){return function(){this[e]=t}}function ka(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function xa(e,t){return arguments.length>1?this.each((t==null?ya:typeof t=="function"?ka:ba)(e,t)):this.node()[e]}function Tn(e){return e.trim().split(/^|\s+/)}function Vt(e){return e.classList||new Bn(e)}function Bn(e){this._node=e,this._names=Tn(e.getAttribute("class")||"")}Bn.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Hn(e,t){for(var n=Vt(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Dn(e,t){for(var n=Vt(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Ma(e){return function(){Hn(this,e)}}function Na(e){return function(){Dn(this,e)}}function Aa(e,t){return function(){(t.apply(this,arguments)?Hn:Dn)(this,e)}}function $a(e,t){var n=Tn(e+"");if(arguments.length<2){for(var r=Vt(this.node()),i=-1,l=n.length;++i<l;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Aa:t?Ma:Na)(n,t))}function Ea(){this.textContent=""}function Ca(e){return function(){this.textContent=e}}function Sa(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function Pa(e){return arguments.length?this.each(e==null?Ea:(typeof e=="function"?Sa:Ca)(e)):this.node().textContent}function qa(){this.innerHTML=""}function Fa(e){return function(){this.innerHTML=e}}function La(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function Ra(e){return arguments.length?this.each(e==null?qa:(typeof e=="function"?La:Fa)(e)):this.node().innerHTML}function Ia(){this.nextSibling&&this.parentNode.appendChild(this)}function Ta(){return this.each(Ia)}function Ba(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ha(){return this.each(Ba)}function Da(e){var t=typeof e=="function"?e:Pn(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function za(){return null}function Ja(e,t){var n=typeof e=="function"?e:Pn(e),r=t==null?za:typeof t=="function"?t:Xt(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Oa(){var e=this.parentNode;e&&e.removeChild(this)}function Xa(){return this.each(Oa)}function Va(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ya(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ga(e){return this.select(e?Ya:Va)}function Ua(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Ka(e){return function(t){e.call(this,t,this.__data__)}}function Wa(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Za(e){return function(){var t=this.__on;if(!!t){for(var n=0,r=-1,i=t.length,l;n<i;++n)l=t[n],(!e.type||l.type===e.type)&&l.name===e.name?this.removeEventListener(l.type,l.listener,l.options):t[++r]=l;++r?t.length=r:delete this.__on}}}function Qa(e,t,n){return function(){var r=this.__on,i,l=Ka(t);if(r){for(var a=0,o=r.length;a<o;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=l,i.options=n),i.value=t;return}}this.addEventListener(e.type,l,n),i={type:e.type,name:e.name,value:t,listener:l,options:n},r?r.push(i):this.__on=[i]}}function ja(e,t,n){var r=Wa(e+""),i,l=r.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var u=0,s=o.length,c;u<s;++u)for(i=0,c=o[u];i<l;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(o=t?Qa:Za,i=0;i<l;++i)this.each(o(r[i],t,n));return this}function zn(e,t,n){var r=In(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function el(e,t){return function(){return zn(this,e,t)}}function tl(e,t){return function(){return zn(this,e,t.apply(this,arguments))}}function nl(e,t){return this.each((typeof t=="function"?tl:el)(e,t))}function*rl(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,l=r.length,a;i<l;++i)(a=r[i])&&(yield a)}var Jn=[null];function ee(e,t){this._groups=e,this._parents=t}function Be(){return new ee([[document.documentElement]],Jn)}function il(){return this}ee.prototype=Be.prototype={constructor:ee,select:Si,selectAll:Li,selectChild:Bi,selectChildren:Ji,filter:Oi,data:Ki,enter:Xi,exit:Zi,join:Qi,merge:ji,selection:il,order:ea,sort:ta,call:ra,nodes:ia,node:aa,size:la,empty:oa,each:sa,attr:pa,style:wa,property:xa,classed:$a,text:Pa,html:Ra,raise:Ta,lower:Ha,append:Da,insert:Ja,remove:Xa,clone:Ga,datum:Ua,on:ja,dispatch:nl,[Symbol.iterator]:rl};function rt(e){return typeof e=="string"?new ee([[document.querySelector(e)]],[document.documentElement]):new ee([[e]],Jn)}function Yt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function On(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function He(){}var De=.7,it=1/De,xe="\\s*([+-]?\\d+)\\s*",ze="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",se="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",al=/^#([0-9a-f]{3,8})$/,ll=new RegExp(`^rgb\\(${xe},${xe},${xe}\\)$`),ol=new RegExp(`^rgb\\(${se},${se},${se}\\)$`),sl=new RegExp(`^rgba\\(${xe},${xe},${xe},${ze}\\)$`),ul=new RegExp(`^rgba\\(${se},${se},${se},${ze}\\)$`),cl=new RegExp(`^hsl\\(${ze},${se},${se}\\)$`),fl=new RegExp(`^hsla\\(${ze},${se},${se},${ze}\\)$`),Xn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yt(He,ne,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Vn,formatHex:Vn,formatHex8:hl,formatHsl:dl,formatRgb:Yn,toString:Yn});function Vn(){return this.rgb().formatHex()}function hl(){return this.rgb().formatHex8()}function dl(){return Zn(this).formatHsl()}function Yn(){return this.rgb().formatRgb()}function ne(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=al.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Gn(t):n===3?new W(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?at(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?at(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ll.exec(e))?new W(t[1],t[2],t[3],1):(t=ol.exec(e))?new W(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=sl.exec(e))?at(t[1],t[2],t[3],t[4]):(t=ul.exec(e))?at(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=cl.exec(e))?Wn(t[1],t[2]/100,t[3]/100,1):(t=fl.exec(e))?Wn(t[1],t[2]/100,t[3]/100,t[4]):Xn.hasOwnProperty(e)?Gn(Xn[e]):e==="transparent"?new W(NaN,NaN,NaN,0):null}function Gn(e){return new W(e>>16&255,e>>8&255,e&255,1)}function at(e,t,n,r){return r<=0&&(e=t=n=NaN),new W(e,t,n,r)}function ml(e){return e instanceof He||(e=ne(e)),e?(e=e.rgb(),new W(e.r,e.g,e.b,e.opacity)):new W}function Gt(e,t,n,r){return arguments.length===1?ml(e):new W(e,t,n,r==null?1:r)}function W(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Yt(W,Gt,On(He,{brighter(e){return e=e==null?it:Math.pow(it,e),new W(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?De:Math.pow(De,e),new W(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new W(ve(this.r),ve(this.g),ve(this.b),lt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Un,formatHex:Un,formatHex8:pl,formatRgb:Kn,toString:Kn}));function Un(){return`#${we(this.r)}${we(this.g)}${we(this.b)}`}function pl(){return`#${we(this.r)}${we(this.g)}${we(this.b)}${we((isNaN(this.opacity)?1:this.opacity)*255)}`}function Kn(){const e=lt(this.opacity);return`${e===1?"rgb(":"rgba("}${ve(this.r)}, ${ve(this.g)}, ${ve(this.b)}${e===1?")":`, ${e})`}`}function lt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ve(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function we(e){return e=ve(e),(e<16?"0":"")+e.toString(16)}function Wn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new re(e,t,n,r)}function Zn(e){if(e instanceof re)return new re(e.h,e.s,e.l,e.opacity);if(e instanceof He||(e=ne(e)),!e)return new re;if(e instanceof re)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),l=Math.max(t,n,r),a=NaN,o=l-i,u=(l+i)/2;return o?(t===l?a=(n-r)/o+(n<r)*6:n===l?a=(r-t)/o+2:a=(t-n)/o+4,o/=u<.5?l+i:2-l-i,a*=60):o=u>0&&u<1?0:a,new re(a,o,u,e.opacity)}function gl(e,t,n,r){return arguments.length===1?Zn(e):new re(e,t,n,r==null?1:r)}function re(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Yt(re,gl,On(He,{brighter(e){return e=e==null?it:Math.pow(it,e),new re(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?De:Math.pow(De,e),new re(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new W(Ut(e>=240?e-240:e+120,i,r),Ut(e,i,r),Ut(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new re(Qn(this.h),ot(this.s),ot(this.l),lt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lt(this.opacity);return`${e===1?"hsl(":"hsla("}${Qn(this.h)}, ${ot(this.s)*100}%, ${ot(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Qn(e){return e=(e||0)%360,e<0?e+360:e}function ot(e){return Math.max(0,Math.min(1,e||0))}function Ut(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Kt=e=>()=>e;function _l(e,t){return function(n){return e+n*t}}function vl(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function wl(e){return(e=+e)==1?jn:function(t,n){return n-t?vl(t,n,e):Kt(isNaN(t)?n:t)}}function jn(e,t){var n=t-e;return n?_l(e,n):Kt(isNaN(e)?t:e)}const st=function e(t){var n=wl(t);function r(i,l){var a=n((i=Gt(i)).r,(l=Gt(l)).r),o=n(i.g,l.g),u=n(i.b,l.b),s=jn(i.opacity,l.opacity);return function(c){return i.r=a(c),i.g=o(c),i.b=u(c),i.opacity=s(c),i+""}}return r.gamma=e,r}(1);function yl(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(l){for(i=0;i<n;++i)r[i]=e[i]*(1-l)+t[i]*l;return r}}function bl(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function kl(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),l=new Array(n),a;for(a=0;a<r;++a)i[a]=Qt(e[a],t[a]);for(;a<n;++a)l[a]=t[a];return function(o){for(a=0;a<r;++a)l[a]=i[a](o);return l}}function xl(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ie(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ml(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Qt(e[i],t[i]):r[i]=t[i];return function(l){for(i in n)r[i]=n[i](l);return r}}var Wt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zt=new RegExp(Wt.source,"g");function Nl(e){return function(){return e}}function Al(e){return function(t){return e(t)+""}}function er(e,t){var n=Wt.lastIndex=Zt.lastIndex=0,r,i,l,a=-1,o=[],u=[];for(e=e+"",t=t+"";(r=Wt.exec(e))&&(i=Zt.exec(t));)(l=i.index)>n&&(l=t.slice(n,l),o[a]?o[a]+=l:o[++a]=l),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,u.push({i:a,x:ie(r,i)})),n=Zt.lastIndex;return n<t.length&&(l=t.slice(n),o[a]?o[a]+=l:o[++a]=l),o.length<2?u[0]?Al(u[0].x):Nl(t):(t=u.length,function(s){for(var c=0,f;c<t;++c)o[(f=u[c]).i]=f.x(s);return o.join("")})}function Qt(e,t){var n=typeof t,r;return t==null||n==="boolean"?Kt(t):(n==="number"?ie:n==="string"?(r=ne(t))?(t=r,st):er:t instanceof ne?st:t instanceof Date?xl:bl(t)?yl:Array.isArray(t)?kl:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ml:ie)(e,t)}function ut(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var tr=180/Math.PI,jt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function nr(e,t,n,r,i,l){var a,o,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,u/=o),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:i,translateY:l,rotate:Math.atan2(t,e)*tr,skewX:Math.atan(u)*tr,scaleX:a,scaleY:o}}var ct;function $l(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?jt:nr(t.a,t.b,t.c,t.d,t.e,t.f)}function El(e){return e==null||(ct||(ct=document.createElementNS("http://www.w3.org/2000/svg","g")),ct.setAttribute("transform",e),!(e=ct.transform.baseVal.consolidate()))?jt:(e=e.matrix,nr(e.a,e.b,e.c,e.d,e.e,e.f))}function rr(e,t,n,r){function i(s){return s.length?s.pop()+" ":""}function l(s,c,f,h,m,g){if(s!==f||c!==h){var p=m.push("translate(",null,t,null,n);g.push({i:p-4,x:ie(s,f)},{i:p-2,x:ie(c,h)})}else(f||h)&&m.push("translate("+f+t+h+n)}function a(s,c,f,h){s!==c?(s-c>180?c+=360:c-s>180&&(s+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:ie(s,c)})):c&&f.push(i(f)+"rotate("+c+r)}function o(s,c,f,h){s!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:ie(s,c)}):c&&f.push(i(f)+"skewX("+c+r)}function u(s,c,f,h,m,g){if(s!==f||c!==h){var p=m.push(i(m)+"scale(",null,",",null,")");g.push({i:p-4,x:ie(s,f)},{i:p-2,x:ie(c,h)})}else(f!==1||h!==1)&&m.push(i(m)+"scale("+f+","+h+")")}return function(s,c){var f=[],h=[];return s=e(s),c=e(c),l(s.translateX,s.translateY,c.translateX,c.translateY,f,h),a(s.rotate,c.rotate,f,h),o(s.skewX,c.skewX,f,h),u(s.scaleX,s.scaleY,c.scaleX,c.scaleY,f,h),s=c=null,function(m){for(var g=-1,p=h.length,v;++g<p;)f[(v=h[g]).i]=v.x(m);return f.join("")}}}var Cl=rr($l,"px, ","px)","deg)"),Sl=rr(El,", ",")",")"),Me=0,Je=0,Oe=0,ir=1e3,ft,Xe,ht=0,ye=0,dt=0,Ve=typeof performance=="object"&&performance.now?performance:Date,ar=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function en(){return ye||(ar(Pl),ye=Ve.now()+dt)}function Pl(){ye=0}function mt(){this._call=this._time=this._next=null}mt.prototype=lr.prototype={constructor:mt,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?en():+n)+(t==null?0:+t),!this._next&&Xe!==this&&(Xe?Xe._next=this:ft=this,Xe=this),this._call=e,this._time=n,tn()},stop:function(){this._call&&(this._call=null,this._time=1/0,tn())}};function lr(e,t,n){var r=new mt;return r.restart(e,t,n),r}function ql(){en(),++Me;for(var e=ft,t;e;)(t=ye-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Me}function or(){ye=(ht=Ve.now())+dt,Me=Je=0;try{ql()}finally{Me=0,Ll(),ye=0}}function Fl(){var e=Ve.now(),t=e-ht;t>ir&&(dt-=t,ht=e)}function Ll(){for(var e,t=ft,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ft=n);Xe=e,tn(r)}function tn(e){if(!Me){Je&&(Je=clearTimeout(Je));var t=e-ye;t>24?(e<1/0&&(Je=setTimeout(or,e-Ve.now()-dt)),Oe&&(Oe=clearInterval(Oe))):(Oe||(ht=Ve.now(),Oe=setInterval(Fl,ir)),Me=1,ar(or))}}function sr(e,t,n){var r=new mt;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Rl=En("start","end","cancel","interrupt"),Il=[],ur=0,cr=1,nn=2,pt=3,fr=4,rn=5,gt=6;function _t(e,t,n,r,i,l){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;Tl(e,n,{name:t,index:r,group:i,on:Rl,tween:Il,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:ur})}function an(e,t){var n=ae(e,t);if(n.state>ur)throw new Error("too late; already scheduled");return n}function ue(e,t){var n=ae(e,t);if(n.state>pt)throw new Error("too late; already running");return n}function ae(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Tl(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=lr(l,0,n.time);function l(s){n.state=cr,n.timer.restart(a,n.delay,n.time),n.delay<=s&&a(s-n.delay)}function a(s){var c,f,h,m;if(n.state!==cr)return u();for(c in r)if(m=r[c],m.name===n.name){if(m.state===pt)return sr(a);m.state===fr?(m.state=gt,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[c]):+c<t&&(m.state=gt,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[c])}if(sr(function(){n.state===pt&&(n.state=fr,n.timer.restart(o,n.delay,n.time),o(s))}),n.state=nn,n.on.call("start",e,e.__data__,n.index,n.group),n.state===nn){for(n.state=pt,i=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(m=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=m);i.length=f+1}}function o(s){for(var c=s<n.duration?n.ease.call(null,s/n.duration):(n.timer.restart(u),n.state=rn,1),f=-1,h=i.length;++f<h;)i[f].call(e,c);n.state===rn&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=gt,n.timer.stop(),delete r[t];for(var s in r)return;delete e.__transition}}function Bl(e,t){var n=e.__transition,r,i,l=!0,a;if(!!n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){l=!1;continue}i=r.state>nn&&r.state<rn,r.state=gt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}l&&delete e.__transition}}function Hl(e){return this.each(function(){Bl(this,e)})}function Dl(e,t){var n,r;return function(){var i=ue(this,e),l=i.tween;if(l!==n){r=n=l;for(var a=0,o=r.length;a<o;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function zl(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var l=ue(this,e),a=l.tween;if(a!==r){i=(r=a).slice();for(var o={name:t,value:n},u=0,s=i.length;u<s;++u)if(i[u].name===t){i[u]=o;break}u===s&&i.push(o)}l.tween=i}}function Jl(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ae(this.node(),n).tween,i=0,l=r.length,a;i<l;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?Dl:zl)(n,e,t))}function ln(e,t,n){var r=e._id;return e.each(function(){var i=ue(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return ae(i,r).value[t]}}function hr(e,t){var n;return(typeof t=="number"?ie:t instanceof ne?st:(n=ne(t))?(t=n,st):er)(e,t)}function Ol(e){return function(){this.removeAttribute(e)}}function Xl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Vl(e,t,n){var r,i=n+"",l;return function(){var a=this.getAttribute(e);return a===i?null:a===r?l:l=t(r=a,n)}}function Yl(e,t,n){var r,i=n+"",l;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?l:l=t(r=a,n)}}function Gl(e,t,n){var r,i,l;return function(){var a,o=n(this),u;return o==null?void this.removeAttribute(e):(a=this.getAttribute(e),u=o+"",a===u?null:a===r&&u===i?l:(i=u,l=t(r=a,o)))}}function Ul(e,t,n){var r,i,l;return function(){var a,o=n(this),u;return o==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),u=o+"",a===u?null:a===r&&u===i?l:(i=u,l=t(r=a,o)))}}function Kl(e,t){var n=tt(e),r=n==="transform"?Sl:hr;return this.attrTween(e,typeof t=="function"?(n.local?Ul:Gl)(n,r,ln(this,"attr."+e,t)):t==null?(n.local?Xl:Ol)(n):(n.local?Yl:Vl)(n,r,t))}function Wl(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Zl(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Ql(e,t){var n,r;function i(){var l=t.apply(this,arguments);return l!==r&&(n=(r=l)&&Zl(e,l)),n}return i._value=t,i}function jl(e,t){var n,r;function i(){var l=t.apply(this,arguments);return l!==r&&(n=(r=l)&&Wl(e,l)),n}return i._value=t,i}function eo(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=tt(e);return this.tween(n,(r.local?Ql:jl)(r,t))}function to(e,t){return function(){an(this,e).delay=+t.apply(this,arguments)}}function no(e,t){return t=+t,function(){an(this,e).delay=t}}function ro(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?to:no)(t,e)):ae(this.node(),t).delay}function io(e,t){return function(){ue(this,e).duration=+t.apply(this,arguments)}}function ao(e,t){return t=+t,function(){ue(this,e).duration=t}}function lo(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?io:ao)(t,e)):ae(this.node(),t).duration}function oo(e,t){if(typeof t!="function")throw new Error;return function(){ue(this,e).ease=t}}function so(e){var t=this._id;return arguments.length?this.each(oo(t,e)):ae(this.node(),t).ease}function uo(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ue(this,e).ease=n}}function co(e){if(typeof e!="function")throw new Error;return this.each(uo(this._id,e))}function fo(e){typeof e!="function"&&(e=Fn(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var l=t[i],a=l.length,o=r[i]=[],u,s=0;s<a;++s)(u=l[s])&&e.call(u,u.__data__,s,l)&&o.push(u);return new he(r,this._parents,this._name,this._id)}function ho(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,l=Math.min(r,i),a=new Array(r),o=0;o<l;++o)for(var u=t[o],s=n[o],c=u.length,f=a[o]=new Array(c),h,m=0;m<c;++m)(h=u[m]||s[m])&&(f[m]=h);for(;o<r;++o)a[o]=t[o];return new he(a,this._parents,this._name,this._id)}function mo(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function po(e,t,n){var r,i,l=mo(t)?an:ue;return function(){var a=l(this,e),o=a.on;o!==r&&(i=(r=o).copy()).on(t,n),a.on=i}}function go(e,t){var n=this._id;return arguments.length<2?ae(this.node(),n).on.on(e):this.each(po(n,e,t))}function _o(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function vo(){return this.on("end.remove",_o(this._id))}function wo(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Xt(e));for(var r=this._groups,i=r.length,l=new Array(i),a=0;a<i;++a)for(var o=r[a],u=o.length,s=l[a]=new Array(u),c,f,h=0;h<u;++h)(c=o[h])&&(f=e.call(c,c.__data__,h,o))&&("__data__"in c&&(f.__data__=c.__data__),s[h]=f,_t(s[h],t,n,h,s,ae(c,n)));return new he(l,this._parents,t,n)}function yo(e){var t=this._name,n=this._id;typeof e!="function"&&(e=qn(e));for(var r=this._groups,i=r.length,l=[],a=[],o=0;o<i;++o)for(var u=r[o],s=u.length,c,f=0;f<s;++f)if(c=u[f]){for(var h=e.call(c,c.__data__,f,u),m,g=ae(c,n),p=0,v=h.length;p<v;++p)(m=h[p])&&_t(m,t,n,p,h,g);l.push(h),a.push(c)}return new he(l,a,t,n)}var bo=Be.prototype.constructor;function ko(){return new bo(this._groups,this._parents)}function xo(e,t){var n,r,i;return function(){var l=ke(this,e),a=(this.style.removeProperty(e),ke(this,e));return l===a?null:l===n&&a===r?i:i=t(n=l,r=a)}}function dr(e){return function(){this.style.removeProperty(e)}}function Mo(e,t,n){var r,i=n+"",l;return function(){var a=ke(this,e);return a===i?null:a===r?l:l=t(r=a,n)}}function No(e,t,n){var r,i,l;return function(){var a=ke(this,e),o=n(this),u=o+"";return o==null&&(u=o=(this.style.removeProperty(e),ke(this,e))),a===u?null:a===r&&u===i?l:(i=u,l=t(r=a,o))}}function Ao(e,t){var n,r,i,l="style."+t,a="end."+l,o;return function(){var u=ue(this,e),s=u.on,c=u.value[l]==null?o||(o=dr(t)):void 0;(s!==n||i!==c)&&(r=(n=s).copy()).on(a,i=c),u.on=r}}function $o(e,t,n){var r=(e+="")=="transform"?Cl:hr;return t==null?this.styleTween(e,xo(e,r)).on("end.style."+e,dr(e)):typeof t=="function"?this.styleTween(e,No(e,r,ln(this,"style."+e,t))).each(Ao(this._id,e)):this.styleTween(e,Mo(e,r,t),n).on("end.style."+e,null)}function Eo(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Co(e,t,n){var r,i;function l(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&Eo(e,a,n)),r}return l._value=t,l}function So(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Co(e,t,n==null?"":n))}function Po(e){return function(){this.textContent=e}}function qo(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function Fo(e){return this.tween("text",typeof e=="function"?qo(ln(this,"text",e)):Po(e==null?"":e+""))}function Lo(e){return function(t){this.textContent=e.call(this,t)}}function Ro(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Lo(i)),t}return r._value=e,r}function Io(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Ro(e))}function To(){for(var e=this._name,t=this._id,n=mr(),r=this._groups,i=r.length,l=0;l<i;++l)for(var a=r[l],o=a.length,u,s=0;s<o;++s)if(u=a[s]){var c=ae(u,t);_t(u,e,n,s,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new he(r,this._parents,e,n)}function Bo(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(l,a){var o={value:a},u={value:function(){--i===0&&l()}};n.each(function(){var s=ue(this,r),c=s.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(u)),s.on=t}),i===0&&l()})}var Ho=0;function he(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function mr(){return++Ho}var de=Be.prototype;he.prototype={constructor:he,select:wo,selectAll:yo,selectChild:de.selectChild,selectChildren:de.selectChildren,filter:fo,merge:ho,selection:ko,transition:To,call:de.call,nodes:de.nodes,node:de.node,size:de.size,empty:de.empty,each:de.each,on:go,attr:Kl,attrTween:eo,style:$o,styleTween:So,text:Fo,textTween:Io,remove:vo,tween:Jl,delay:ro,duration:lo,ease:so,easeVarying:co,end:Bo,[Symbol.iterator]:de[Symbol.iterator]};function Do(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var zo={time:null,delay:0,duration:250,ease:Do};function Jo(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Oo(e){var t,n;e instanceof he?(t=e._id,e=e._name):(t=mr(),(n=zo).time=en(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,l=0;l<i;++l)for(var a=r[l],o=a.length,u,s=0;s<o;++s)(u=a[s])&&_t(u,e,t,s,a,n||Jo(u,t));return new he(r,this._parents,e,t)}Be.prototype.interrupt=Hl,Be.prototype.transition=Oo;function Xo(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function vt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ne(e){return e=vt(Math.abs(e)),e?e[1]:NaN}function Vo(e,t){return function(n,r){for(var i=n.length,l=[],a=0,o=e[0],u=0;i>0&&o>0&&(u+o+1>r&&(o=Math.max(1,r-u)),l.push(n.substring(i-=o,i+o)),!((u+=o+1)>r));)o=e[a=(a+1)%e.length];return l.reverse().join(t)}}function Yo(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Go=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wt(e){if(!(t=Go.exec(e)))throw new Error("invalid format: "+e);var t;return new on({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}wt.prototype=on.prototype;function on(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}on.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Uo(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var pr;function Ko(e,t){var n=vt(e,t);if(!n)return e+"";var r=n[0],i=n[1],l=i-(pr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return l===a?r:l>a?r+new Array(l-a+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+vt(e,Math.max(0,t+l-1))[0]}function gr(e,t){var n=vt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const _r={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Xo,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>gr(e*100,t),r:gr,s:Ko,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function vr(e){return e}var wr=Array.prototype.map,yr=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Wo(e){var t=e.grouping===void 0||e.thousands===void 0?vr:Vo(wr.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?vr:Yo(wr.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"\u2212":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function s(f){f=wt(f);var h=f.fill,m=f.align,g=f.sign,p=f.symbol,v=f.zero,k=f.width,b=f.comma,M=f.precision,B=f.trim,N=f.type;N==="n"?(b=!0,N="g"):_r[N]||(M===void 0&&(M=12),B=!0,N="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var w=p==="$"?n:p==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",E=p==="$"?r:/[%p]/.test(N)?a:"",x=_r[N],y=/[defgprs%]/.test(N);M=M===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function J(A){var H=w,P=E,le,be,me;if(N==="c")P=x(A)+P,A="";else{A=+A;var pe=A<0||1/A<0;if(A=isNaN(A)?u:x(Math.abs(A),M),B&&(A=Uo(A)),pe&&+A==0&&g!=="+"&&(pe=!1),H=(pe?g==="("?g:o:g==="-"||g==="("?"":g)+H,P=(N==="s"?yr[8+pr/3]:"")+P+(pe&&g==="("?")":""),y){for(le=-1,be=A.length;++le<be;)if(me=A.charCodeAt(le),48>me||me>57){P=(me===46?i+A.slice(le+1):A.slice(le))+P,A=A.slice(0,le);break}}}b&&!v&&(A=t(A,1/0));var U=H.length+A.length+P.length,Z=U<k?new Array(k-U+1).join(h):"";switch(b&&v&&(A=t(Z+A,Z.length?k-P.length:1/0),Z=""),m){case"<":A=H+A+P+Z;break;case"=":A=H+Z+A+P;break;case"^":A=Z.slice(0,U=Z.length>>1)+H+A+P+Z.slice(U);break;default:A=Z+H+A+P;break}return l(A)}return J.toString=function(){return f+""},J}function c(f,h){var m=s((f=wt(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Ne(h)/3)))*3,p=Math.pow(10,-g),v=yr[8+g/3];return function(k){return m(p*k)+v}}return{format:s,formatPrefix:c}}var yt,br,kr;Zo({thousands:",",grouping:[3],currency:["$",""]});function Zo(e){return yt=Wo(e),br=yt.format,kr=yt.formatPrefix,yt}function Qo(e){return Math.max(0,-Ne(Math.abs(e)))}function jo(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ne(t)/3)))*3-Ne(Math.abs(e)))}function es(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ne(t)-Ne(e))+1}function sn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const xr=Symbol("implicit");function Mr(){var e=new bn,t=[],n=[],r=xr;function i(l){let a=e.get(l);if(a===void 0){if(r!==xr)return r;e.set(l,a=t.push(l)-1)}return n[a%n.length]}return i.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new bn;for(const a of l)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(l){return arguments.length?(n=Array.from(l),i):n.slice()},i.unknown=function(l){return arguments.length?(r=l,i):r},i.copy=function(){return Mr(t,n).unknown(r)},sn.apply(i,arguments),i}function Nr(){var e=Mr().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,l,a,o=!1,u=0,s=0,c=.5;delete e.unknown;function f(){var h=t().length,m=i<r,g=m?i:r,p=m?r:i;l=(p-g)/Math.max(1,h-u+s*2),o&&(l=Math.floor(l)),g+=(p-g-l*(h-u))*c,a=l*(1-u),o&&(g=Math.round(g),a=Math.round(a));var v=_i(h).map(function(k){return g+l*k});return n(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return a},e.step=function(){return l},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(u=Math.min(1,s=+h),f()):u},e.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),f()):u},e.paddingOuter=function(h){return arguments.length?(s=+h,f()):s},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},e.copy=function(){return Nr(t(),[r,i]).round(o).paddingInner(u).paddingOuter(s).align(c)},sn.apply(f(),arguments)}function ts(e){return function(){return e}}function ns(e){return+e}var Ar=[0,1];function Ae(e){return e}function un(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:ts(isNaN(t)?NaN:.5)}function rs(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function is(e,t,n){var r=e[0],i=e[1],l=t[0],a=t[1];return i<r?(r=un(i,r),l=n(a,l)):(r=un(r,i),l=n(l,a)),function(o){return l(r(o))}}function as(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),l=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=un(e[a],e[a+1]),l[a]=n(t[a],t[a+1]);return function(o){var u=fi(e,o,1,r)-1;return l[u](i[u](o))}}function ls(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function os(){var e=Ar,t=Ar,n=Qt,r,i,l,a=Ae,o,u,s;function c(){var h=Math.min(e.length,t.length);return a!==Ae&&(a=rs(e[0],e[h-1])),o=h>2?as:is,u=s=null,f}function f(h){return h==null||isNaN(h=+h)?l:(u||(u=o(e.map(r),t,n)))(r(a(h)))}return f.invert=function(h){return a(i((s||(s=o(t,e.map(r),ie)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,ns),c()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=ut,c()},f.clamp=function(h){return arguments.length?(a=h?!0:Ae,c()):a!==Ae},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(l=h,f):l},function(h,m){return r=h,i=m,c()}}function ss(){return os()(Ae,Ae)}function us(e,t,n,r){var i=gi(e,t,n),l;switch(r=wt(r==null?",f":r),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(l=jo(i,a))&&(r.precision=l),kr(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=es(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=Qo(i))&&(r.precision=l-(r.type==="%")*2);break}}return br(r)}function cs(e){var t=e.domain;return e.ticks=function(n){var r=t();return pi(r[0],r[r.length-1],n==null?10:n)},e.tickFormat=function(n,r){var i=t();return us(i[0],i[i.length-1],n==null?10:n,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,l=r.length-1,a=r[i],o=r[l],u,s,c=10;for(o<a&&(s=a,a=o,o=s,s=i,i=l,l=s);c-- >0;){if(s=xn(a,o,n),s===u)return r[i]=a,r[l]=o,t(r);if(s>0)a=Math.floor(a/s)*s,o=Math.ceil(o/s)*s;else if(s<0)a=Math.ceil(a*s)/s,o=Math.floor(o*s)/s;else break;u=s}return e},e}function bt(){var e=ss();return e.copy=function(){return ls(e,bt())},sn.apply(e,arguments),cs(e)}function $e(e,t,n){this.k=e,this.x=t,this.y=n}$e.prototype={constructor:$e,scale:function(e){return e===1?this:new $e(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new $e(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new $e(1,0,0),$e.prototype;const Ee=[];function $r(e,t=R){let n;const r=new Set;function i(o){if(K(e,o)&&(e=o,n)){const u=!Ee.length;for(const s of r)s[1](),Ee.push(s,e);if(u){for(let s=0;s<Ee.length;s+=2)Ee[s][0](Ee[s+1]);Ee.length=0}}}function l(o){i(o(e))}function a(o,u=R){const s=[o,u];return r.add(s),r.size===1&&(n=t(i)||R),o(e),()=>{r.delete(s),r.size===0&&(n(),n=null)}}return{set:i,update:l,subscribe:a}}const Ce=[{methodId:"approval",methodName:"Approval",description:"M\xE9thode de vote o\xF9 les participants doivent indiquer s'ils \xE9taient favorable ou non au candidat, pour chaque candidat.",results:[{name:"Emmanuel Macron",value:13.61},{name:"Marine Le Pen",value:1.57},{name:"Fran\xE7ois Fillon",value:3.61},{name:"Jean-Luc M\xE9lenchon",value:25.16},{name:"Beno\xEEt Hamon",value:23.92},{name:"Nathalie Arthaud",value:7.07},{name:"Philippe Poutou",value:13.55},{name:"Jacques Cheminade",value:2.01},{name:"Fran\xE7ois Asselineau",value:2.44},{name:"Nicolas Dupont-Aignan",value:3.09},{name:"Jean Lassalle",value:3.97}],unit:"PERCENT"},{methodId:"ev012",methodName:"Evaluaion 012",description:"M\xE9thode de vote o\xF9 les participants doivent indiquer doivent attribuer une note \xE0 chaque candidat, note allant 0 \xE0 2.",results:[{name:"Emmanuel Macron",value:19.63},{name:"Marine Le Pen",value:1.46},{name:"Fran\xE7ois Fillon",value:3.86},{name:"Jean-Luc M\xE9lenchon",value:38.46},{name:"Beno\xEEt Hamon",value:17.18},{name:"Nathalie Arthaud",value:.26},{name:"Philippe Poutou",value:1.89},{name:"Jacques Cheminade",value:.138},{name:"Fran\xE7ois Asselineau",value:1.44},{name:"Nicolas Dupont-Aignan",value:.7852194},{name:"Jean Lassalle",value:.538}],unit:"PERCENT"},{methodId:"ev0123",methodName:"Evaluaion 0123",description:"M\xE9thode de vote o\xF9 les participants doivent indiquer doivent attribuer une note \xE0 chaque candidat, note allant 0 \xE0 3.",results:[{name:"Emmanuel Macron",value:19.46},{name:"Marine Le Pen",value:1.29},{name:"Fran\xE7ois Fillon",value:3.6},{name:"Jean-Luc M\xE9lenchon",value:38.16},{name:"Beno\xEEt Hamon",value:17.32},{name:"Nathalie Arthaud",value:.29},{name:"Philippe Poutou",value:1.95},{name:"Jacques Cheminade",value:.12},{name:"Fran\xE7ois Asselineau",value:1.4},{name:"Nicolas Dupont-Aignan",value:1.01},{name:"Jean Lassalle",value:.52}],unit:"PERCENT"},{methodId:"ev1012",methodName:"Evaluaion -1012",description:"M\xE9thode de vote o\xF9 les participants doivent indiquer doivent attribuer une note \xE0 chaque candidat, note allant -1 \xE0 2.",results:[{name:"Emmanuel Macron",value:19.44},{name:"Marine Le Pen",value:1.18},{name:"Fran\xE7ois Fillon",value:3.95},{name:"Jean-Luc M\xE9lenchon",value:38.26},{name:"Beno\xEEt Hamon",value:16.94},{name:"Nathalie Arthaud",value:.26},{name:"Philippe Poutou",value:1.92},{name:"Jacques Cheminade",value:.16},{name:"Fran\xE7ois Asselineau",value:1.32},{name:"Nicolas Dupont-Aignan",value:1.11},{name:"Jean Lassalle",value:.52}],unit:"PERCENT"},{methodId:"ev101",methodName:"Evaluaion -101",description:"M\xE9thode de vote o\xF9 les participants doivent indiquer doivent attribuer une note \xE0 chaque candidat, note allant -1 \xE0 1.",results:[{name:"Emmanuel Macron",value:19.66},{name:"Marine Le Pen",value:1.5},{name:"Fran\xE7ois Fillon",value:3.98},{name:"Jean-Luc M\xE9lenchon",value:38.42},{name:"Beno\xEEt Hamon",value:16.96},{name:"Nathalie Arthaud",value:.28},{name:"Philippe Poutou",value:1.73},{name:"Jacques Cheminade",value:.16},{name:"Fran\xE7ois Asselineau",value:1.21},{name:"Nicolas Dupont-Aignan",value:.87},{name:"Jean Lassalle",value:.51}],unit:"PERCENT"},{methodId:"stv4-11",methodName:"STV4-11",description:"M\xE9thode de vote o\xF9 les participants Les participants sont invit\xE9s \xE0 classer exactement 1 et 11 candidats. Signification des scores :11 = premier / 10 = deuxi\xE8me / 9 = troisi\xE8me / 8 = quatri\xE8me / ... / 1 = dernier candidat / rien = non class\xE9.",results:[{name:"Emmanuel Macron",value:19.93},{name:"Marine Le Pen",value:1.41},{name:"Fran\xE7ois Fillon",value:3.96},{name:"Jean-Luc M\xE9lenchon",value:37.89},{name:"Beno\xEEt Hamon",value:16.72},{name:"Nathalie Arthaud",value:.33},{name:"Philippe Poutou",value:1.75},{name:"Jacques Cheminade",value:.18},{name:"Fran\xE7ois Asselineau",value:1.28},{name:"Nicolas Dupont-Aignan",value:.93},{name:"Jean Lassalle",value:.51}],unit:"PERCENT"},{methodId:"stv1-11",methodName:"STV1-11",description:"M\xE9thode de vote o\xF9 les participants Les participants sont invit\xE9s \xE0 classer exactement 1 et 11 candidats. Signification des scores :11 = premier / 10 = deuxi\xE8me / 9 = troisi\xE8me / 8 = quatri\xE8me / ... / 1 = dernier candidat / rien = non class\xE9.",results:[{name:"Emmanuel Macron",value:19.25},{name:"Marine Le Pen",value:1.38},{name:"Fran\xE7ois Fillon",value:3.85},{name:"Jean-Luc M\xE9lenchon",value:38.25},{name:"Beno\xEEt Hamon",value:17.1},{name:"Nathalie Arthaud",value:.22},{name:"Philippe Poutou",value:1.98},{name:"Jacques Cheminade",value:.14},{name:"Fran\xE7ois Asselineau",value:1.4},{name:"Nicolas Dupont-Aignan",value:1.03},{name:"Jean Lassalle",value:.58}],unit:"PERCENT"},{methodId:"ev-continuous",methodName:"Evaluation continue",description:"M\xE9thode de vote o\xF9 les participants doivent indiquer doivent attribuer une note \xE0 chaque candidat, note allant 0 \xE0 100.",results:[{name:"Emmanuel Macron",value:19.6},{name:"Marine Le Pen",value:1.37},{name:"Fran\xE7ois Fillon",value:3.87},{name:"Jean-Luc M\xE9lenchon",value:38.19},{name:"Beno\xEEt Hamon",value:16.98},{name:"Nathalie Arthaud",value:.28},{name:"Philippe Poutou",value:1.88},{name:"Jacques Cheminade",value:.14},{name:"Fran\xE7ois Asselineau",value:1.3},{name:"Nicolas Dupont-Aignan",value:.97},{name:"Jean Lassalle",value:.52}],unit:"PERCENT"},{methodId:"condorcet",methodName:"Condorcet",description:"Des paires al\xE9atoires de candidats sont pr\xE9sent\xE9es aux participants. Pour chaque paire, ils doivent choisir qui, selon eux, \xE9tait le meilleur candidat des deux.",results:[{name:"Emmanuel Macron",value:19.63},{name:"Marine Le Pen",value:1.37},{name:"Fran\xE7ois Fillon",value:3.87},{name:"Jean-Luc M\xE9lenchon",value:38.23},{name:"Beno\xEEt Hamon",value:16.97},{name:"Nathalie Arthaud",value:.28},{name:"Philippe Poutou",value:1.88},{name:"Jacques Cheminade",value:.14},{name:"Fran\xE7ois Asselineau",value:1.3},{name:"Nicolas Dupont-Aignan",value:.97},{name:"Jean Lassalle",value:.53}],unit:"PERCENT"}],kt=[{name:"Emmanuel Macron",color:"#ffd600",correction:1.03},{name:"Marine Le Pen",color:"#0D378A",correction:12.81},{name:"Fran\xE7ois Fillon",color:"#0066cc",correction:4.33},{name:"Jean-Luc M\xE9lenchon",color:"#cc2443",correction:.44},{name:"Beno\xEEt Hamon",color:"#FF8080",correction:.32},{name:"Nathalie Arthaud",color:"#bb0000",correction:1.79},{name:"Philippe Poutou",color:"#dd0000",correction:.49},{name:"Jacques Cheminade",color:"#26c4ec",correction:1.09},{name:"Fran\xE7ois Asselineau",color:"#118088",correction:.64},{name:"Nicolas Dupont-Aignan",color:"#0082C4",correction:4.1},{name:"Jean Lassalle",color:"#a5c1df",correction:1.98}],Er=kt.map(e=>({name:e.name,color:e.color,data:Ce.map(t=>({methodId:t.methodId,value:t.results.find(n=>n.name===e.name).value}))})),ce=$r({biasCorrection:!1,comparison:0,methods:new Array(Ce.length).fill(!1,2).fill(!0,0,2),methods2:[0,1]}),xt=$r(null);function Se(e){return e%1===0?e:e.toFixed(2)+"%"}const ou="";function Cr(e,t,n){const r=e.slice();r[22]=t[n];const i=ne(r[22].color).darker(.4).formatHex();return r[23]=i,r}function Sr(e,t,n){const r=e.slice();r[26]=t[n],r[31]=n;const i=r[10].methods[r[31]];r[27]=i;const l=r[5].bandwidth()/r[11];r[28]=l;const a=(()=>{let o=0;for(let u=0;u<r[31];u++)o+=r[10].methods[u]?1:0;return o})();return r[29]=a,r}function Pr(e){let t,n,r,i,l,a,o=Se(e[26].value)+"",u,s,c;return{c(){t=I("g"),n=I("line"),a=I("text"),u=V(o),d(n,"x1",r=e[5](e[22].name)+e[29]*e[28]+e[28]/2),d(n,"y1",28),d(n,"x2",i=e[5](e[22].name)+e[29]*e[28]+e[28]/2),d(n,"y2",l=e[6](e[26].value)-2),d(n,"class","svelte-1f6mogu"),d(a,"x",s=e[5](e[22].name)+e[29]*e[28]+e[28]/2),d(a,"y",15),d(a,"fill",c=e[23]),d(a,"dominant-baseline","middle"),d(a,"text-anchor","middle"),d(t,"class","tooltip svelte-1f6mogu")},m(f,h){F(f,t,h),_(t,n),_(t,a),_(a,u)},p(f,h){h[0]&3105&&r!==(r=f[5](f[22].name)+f[29]*f[28]+f[28]/2)&&d(n,"x1",r),h[0]&3105&&i!==(i=f[5](f[22].name)+f[29]*f[28]+f[28]/2)&&d(n,"x2",i),h[0]&65&&l!==(l=f[6](f[26].value)-2)&&d(n,"y2",l),h[0]&1&&o!==(o=Se(f[26].value)+"")&&te(u,o),h[0]&3105&&s!==(s=f[5](f[22].name)+f[29]*f[28]+f[28]/2)&&d(a,"x",s),h[0]&1&&c!==(c=f[23])&&d(a,"fill",c)},d(f){f&&q(t)}}}function qr(e){let t,n,r,i,l,a,o,u,s,c,f,h,m;function g(){return e[18](e[26],e[23])}let p=e[27]&&Pr(e);return{c(){t=I("rect"),a=I("rect"),p&&p.c(),f=pn(),d(t,"x",n=e[5](e[22].name)+e[29]*e[28]),d(t,"y",r=e[27]?e[6](e[26].value):e[7]-e[14].bottom),d(t,"width",i=e[27]?e[28]:0),d(t,"height",l=e[27]?e[6](0)-e[6](e[26].value)-1:0),z(t,"transition","all 0.5s ease-in-out"),d(a,"class","bar-zone svelte-1f6mogu"),d(a,"x",o=e[5](e[22].name)+e[29]*e[28]),d(a,"y",u=e[27]?e[14].top:e[7]-e[14].bottom),d(a,"width",s=e[27]?e[28]:0),d(a,"height",c=e[27]?e[6](0)-e[14].bottom:0)},m(v,k){F(v,t,k),F(v,a,k),p&&p.m(v,k),F(v,f,k),h||(m=[Y(a,"mouseenter",g),Y(a,"mouseleave",e[19])],h=!0)},p(v,k){e=v,k[0]&3105&&n!==(n=e[5](e[22].name)+e[29]*e[28])&&d(t,"x",n),k[0]&1217&&r!==(r=e[27]?e[6](e[26].value):e[7]-e[14].bottom)&&d(t,"y",r),k[0]&3104&&i!==(i=e[27]?e[28]:0)&&d(t,"width",i),k[0]&1089&&l!==(l=e[27]?e[6](0)-e[6](e[26].value)-1:0)&&d(t,"height",l),k[0]&3105&&o!==(o=e[5](e[22].name)+e[29]*e[28])&&d(a,"x",o),k[0]&1152&&u!==(u=e[27]?e[14].top:e[7]-e[14].bottom)&&d(a,"y",u),k[0]&3104&&s!==(s=e[27]?e[28]:0)&&d(a,"width",s),k[0]&1088&&c!==(c=e[27]?e[6](0)-e[14].bottom:0)&&d(a,"height",c),e[27]?p?p.p(e,k):(p=Pr(e),p.c(),p.m(f.parentNode,f)):p&&(p.d(1),p=null)},d(v){v&&q(t),v&&q(a),p&&p.d(v),v&&q(f),h=!1,oe(m)}}}function Fr(e){let t,n,r=e[22].data,i=[];for(let l=0;l<r.length;l+=1)i[l]=qr(Sr(e,r,l));return{c(){t=I("g");for(let l=0;l<i.length;l+=1)i[l].c();d(t,"fill",n=e[22].color),z(t,"stroke",e[23]),d(t,"stroke-width",3),d(t,"stroke-linejoin","round"),d(t,"class","svelte-1f6mogu")},m(l,a){F(l,t,a);for(let o=0;o<i.length;o+=1)i[o].m(t,null)},p(l,a){if(a[0]&23777){r=l[22].data;let o;for(o=0;o<r.length;o+=1){const u=Sr(l,r,o);i[o]?i[o].p(u,a):(i[o]=qr(u),i[o].c(),i[o].m(t,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}a[0]&1&&n!==(n=l[22].color)&&d(t,"fill",n),a[0]&1&&z(t,"stroke",l[23])},d(l){l&&q(t),qe(i,l)}}}function fs(e){let t,n,r,i,l,a,o;Ie(e[17]);let u=e[0],s=[];for(let c=0;c<u.length;c+=1)s[c]=Fr(Cr(e,u,c));return{c(){t=I("svg");for(let c=0;c<s.length;c+=1)s[c].c();n=I("g"),r=I("g"),d(n,"transform","translate("+e[14].left+", 0)"),d(n,"class","svelte-1f6mogu"),d(r,"transform",i="translate(0, "+(e[7]-e[14].bottom)+")"),d(r,"class","svelte-1f6mogu"),d(t,"viewBox",l="0 0 "+e[8]+" "+e[7]),z(t,"max-width",e[8]+"px"),z(t,"margin-top",e[9].vertical-e[13]/2+"px"),d(t,"class","svelte-1f6mogu")},m(c,f){F(c,t,f);for(let h=0;h<s.length;h+=1)s[h].m(t,null);_(t,n),e[20](n),_(t,r),e[21](r),a||(o=Y(window,"resize",e[17]),a=!0)},p(c,f){if(f[0]&23777){u=c[0];let h;for(h=0;h<u.length;h+=1){const m=Cr(c,u,h);s[h]?s[h].p(m,f):(s[h]=Fr(m),s[h].c(),s[h].m(t,n))}for(;h<s.length;h+=1)s[h].d(1);s.length=u.length}f[0]&128&&i!==(i="translate(0, "+(c[7]-c[14].bottom)+")")&&d(r,"transform",i),f[0]&384&&l!==(l="0 0 "+c[8]+" "+c[7])&&d(t,"viewBox",l),f[0]&256&&z(t,"max-width",c[8]+"px"),f[0]&512&&z(t,"margin-top",c[9].vertical-c[13]/2+"px")},i:R,o:R,d(c){c&&q(t),qe(s,c),e[20](null),e[21](null),a=!1,o()}}}function hs(e,t,n){let r,i,l,a,o,u,s,c,f,h;ge(e,ce,y=>n(10,f=y)),ge(e,xt,y=>n(12,h=y));let{dataByCandidate:m}=t,g=800,p=600,v=60,k={top:40,right:5,bottom:40,left:40},b,M;function B(){n(2,p=window.innerHeight),n(1,g=window.innerWidth)}const N=(y,J)=>{Pe(xt,h={methodId:y.methodId,color:J},h)},w=()=>{Pe(xt,h=null,h)};function E(y){fe[y?"unshift":"push"](()=>{b=y,n(3,b)})}function x(y){fe[y?"unshift":"push"](()=>{M=y,n(4,M)})}return e.$$set=y=>{"dataByCandidate"in y&&n(0,m=y.dataByCandidate)},e.$$.update=()=>{e.$$.dirty[0]&4&&n(9,r={horizontal:200,vertical:p/7}),e.$$.dirty[0]&514&&n(8,i=g-r.horizontal*2),e.$$.dirty[0]&516&&n(7,l=p-r.vertical*2),e.$$.dirty[0]&1024&&n(11,a=f.methods.filter(y=>y).length),e.$$.dirty[0]&257&&n(5,o=Nr().domain(m.map(y=>y.name)).range([k.left,i-k.right]).padding(.1)),e.$$.dirty[0]&1153&&n(6,u=bt().domain([0,je(m,y=>je(y.data.filter((J,A)=>f.methods[A]),J=>J.value))]).range([l-k.bottom,k.top]).interpolate(ut)),e.$$.dirty[0]&72&&n(16,s=rt(b).call($n(u).tickFormat(y=>`${y}%`))),e.$$.dirty[0]&48&&n(15,c=rt(M).call(An(o))),e.$$.dirty[0]&65536&&s.selectAll("path, line").attr("style","stroke: var(--primary)"),e.$$.dirty[0]&32768&&c.selectAll("path, line").attr("style","stroke: var(--primary)"),e.$$.dirty[0]&32768&&c.selectAll(".tick:nth-child(odd) text").attr("dy",18),e.$$.dirty[0]&32768&&c.selectAll(".tick:nth-child(odd) line").attr("y2",16)},[m,g,p,b,M,o,u,l,i,r,f,a,h,v,k,c,s,B,N,w,E,x]}class ds extends j{constructor(t){super(),Q(this,t,hs,fs,K,{dataByCandidate:0},null,[-1,-1])}}const su="";function Lr(e,t,n){const r=e.slice();r[22]=t[n],r[26]=n;const i=ne(r[22].color).darker(.6).formatHex();r[23]=i;const l=ne(r[22].color).darker(.4).formatHex();return r[24]=l,r}function Rr(e,t,n){const r=e.slice();r[22]=t[n],r[26]=n;const i=r[7](r[1].results[r[26]].value);r[27]=i;const l=r[8](r[2].results[r[26]].value);r[28]=l;const a=ne(r[22].color).darker(.4).formatHex();return r[24]=a,r}function Ir(e){let t,n,r,i,l,a,o,u,s,c,f,h=e[22].name+"",m,g,p,v,k,b,M,B,N,w,E,x,y=Se(e[2].results[e[26]].value)+"",J,A,H,P,le,be,me,pe,U,Z=Se(e[1].results[e[26]].value)+"",cn,Mt,Nt,At,$t,Et,Ct;return{c(){t=I("g"),n=I("circle"),a=I("g"),o=I("line"),f=I("text"),m=V(h),k=I("g"),b=I("line"),w=I("rect"),x=I("text"),J=V(y),P=I("line"),U=I("text"),cn=V(Z),d(n,"cx",r=e[27]),d(n,"cy",i=e[28]),d(n,"r",4),d(n,"stroke",l=e[24]),d(n,"stroke-width","2"),d(n,"class","svelte-vmkurr"),Ye(n,"active",e[12]===e[22].name),z(n,"transition","all 0.5s ease-in-out"),d(o,"x1",u=e[27]),d(o,"y1",28),d(o,"x2",s=e[27]),d(o,"y2",c=e[28]),d(o,"class","svelte-vmkurr"),d(f,"fill",g=e[24]),d(f,"x",p=e[27]),d(f,"y",15),d(f,"dominant-baseline","middle"),d(f,"text-anchor",v=e[27]<100?"start":e[10]-e[27]<100?"end":"middle"),d(b,"x1",e[14].left-5),d(b,"y1",M=e[28]),d(b,"x2",B=e[27]),d(b,"y2",N=e[28]),d(b,"stroke-width",2),d(b,"class","svelte-vmkurr"),d(w,"fill","white"),d(w,"stroke-width",0),d(w,"x",0),d(w,"y",E=e[28]-10),d(w,"width",e[14].left-8),d(w,"height",16),d(x,"x",e[14].left-8),d(x,"y",A=e[28]),d(x,"dominant-baseline","middle"),d(x,"text-anchor","end"),d(x,"fill",H=e[24]),d(P,"x1",le=e[27]),d(P,"y1",be=e[28]),d(P,"x2",me=e[27]),d(P,"y2",pe=e[9]-18),d(P,"stroke-width",2),d(P,"class","svelte-vmkurr"),d(U,"x",Mt=e[27]),d(U,"y",Nt=e[9]-5),d(U,"text-anchor","middle"),d(U,"fill",At=e[24]),d(k,"class","percentages svelte-vmkurr"),d(a,"class","tooltip svelte-vmkurr"),d(a,"stroke",$t=e[22].color),d(a,"fill",Et=e[22].color),d(a,"font-weight",700),d(t,"fill",Ct=e[22].color),d(t,"class","svelte-vmkurr")},m($,S){F($,t,S),_(t,n),_(t,a),_(a,o),_(a,f),_(f,m),_(a,k),_(k,b),_(k,w),_(k,x),_(x,J),_(k,P),_(k,U),_(U,cn)},p($,S){S&130&&r!==(r=$[27])&&d(n,"cx",r),S&260&&i!==(i=$[28])&&d(n,"cy",i),S&1&&l!==(l=$[24])&&d(n,"stroke",l),S&4097&&Ye(n,"active",$[12]===$[22].name),S&130&&u!==(u=$[27])&&d(o,"x1",u),S&130&&s!==(s=$[27])&&d(o,"x2",s),S&260&&c!==(c=$[28])&&d(o,"y2",c),S&1&&h!==(h=$[22].name+"")&&te(m,h),S&1&&g!==(g=$[24])&&d(f,"fill",g),S&130&&p!==(p=$[27])&&d(f,"x",p),S&1154&&v!==(v=$[27]<100?"start":$[10]-$[27]<100?"end":"middle")&&d(f,"text-anchor",v),S&260&&M!==(M=$[28])&&d(b,"y1",M),S&130&&B!==(B=$[27])&&d(b,"x2",B),S&260&&N!==(N=$[28])&&d(b,"y2",N),S&260&&E!==(E=$[28]-10)&&d(w,"y",E),S&4&&y!==(y=Se($[2].results[$[26]].value)+"")&&te(J,y),S&260&&A!==(A=$[28])&&d(x,"y",A),S&1&&H!==(H=$[24])&&d(x,"fill",H),S&130&&le!==(le=$[27])&&d(P,"x1",le),S&260&&be!==(be=$[28])&&d(P,"y1",be),S&130&&me!==(me=$[27])&&d(P,"x2",me),S&512&&pe!==(pe=$[9]-18)&&d(P,"y2",pe),S&2&&Z!==(Z=Se($[1].results[$[26]].value)+"")&&te(cn,Z),S&130&&Mt!==(Mt=$[27])&&d(U,"x",Mt),S&512&&Nt!==(Nt=$[9]-5)&&d(U,"y",Nt),S&1&&At!==(At=$[24])&&d(U,"fill",At),S&1&&$t!==($t=$[22].color)&&d(a,"stroke",$t),S&1&&Et!==(Et=$[22].color)&&d(a,"fill",Et),S&1&&Ct!==(Ct=$[22].color)&&d(t,"fill",Ct)},d($){$&&q(t)}}}function Tr(e){let t,n,r,i,l,a,o,u=e[22].name+"",s,c,f,h;function m(){return e[20](e[22])}return{c(){t=C("div"),n=I("svg"),r=I("circle"),a=D(),o=C("span"),s=V(u),c=D(),d(r,"fill",i=e[22].color),d(r,"cx","5.1"),d(r,"cy","5.1"),d(r,"r","4"),d(r,"stroke",l=e[24]),d(r,"stroke-width","2"),d(n,"viewBox","0 0 10.2 10.2"),z(n,"width","10.2px"),z(o,"color",e[23]),d(t,"class","candidate-legend svelte-vmkurr")},m(g,p){F(g,t,p),_(t,n),_(n,r),_(t,a),_(t,o),_(o,s),_(t,c),f||(h=[Y(t,"mouseenter",m),Y(t,"mouseleave",e[21])],f=!0)},p(g,p){e=g,p&1&&i!==(i=e[22].color)&&d(r,"fill",i),p&1&&l!==(l=e[24])&&d(r,"stroke",l),p&1&&u!==(u=e[22].name+"")&&te(s,u),p&1&&z(o,"color",e[23])},d(g){g&&q(t),f=!1,oe(h)}}}function ms(e){let t,n,r,i=e[1].methodName+"",l,a,o,u=e[2].methodName+"",s,c,f,h,m,g,p,v,k;Ie(e[17]);let b=e[0],M=[];for(let w=0;w<b.length;w+=1)M[w]=Ir(Rr(e,b,w));let B=e[0],N=[];for(let w=0;w<B.length;w+=1)N[w]=Tr(Lr(e,B,w));return{c(){t=C("div"),n=I("svg"),r=I("text"),l=V(i),o=I("text"),s=V(u),c=I("g"),f=I("g");for(let w=0;w<M.length;w+=1)M[w].c();g=D(),p=C("aside");for(let w=0;w<N.length;w+=1)N[w].c();d(r,"text-anchor","end"),d(r,"x",e[10]),d(r,"y",a=e[9]-5),d(r,"class","svelte-vmkurr"),d(o,"text-anchor","start"),d(o,"x",0),d(o,"y",23),d(o,"dominant-baseline","hanging"),d(o,"class","svelte-vmkurr"),d(c,"transform","translate("+e[14].left+", 0)"),d(c,"class","svelte-vmkurr"),d(f,"transform",h="translate(0, "+(e[9]-e[14].bottom)+")"),d(f,"class","svelte-vmkurr"),d(n,"viewBox",m="0 0 "+e[10]+" "+e[9]),z(n,"max-width",e[10]+"px"),z(n,"margin-top",e[11].vertical-e[13]/2+"px"),d(n,"class","svelte-vmkurr"),d(p,"class","legend svelte-vmkurr"),d(t,"class","container"),z(t,"width",e[10]+"px")},m(w,E){F(w,t,E),_(t,n),_(n,r),_(r,l),_(n,o),_(o,s),_(n,c),e[18](c),_(n,f),e[19](f);for(let x=0;x<M.length;x+=1)M[x].m(n,null);_(t,g),_(t,p);for(let x=0;x<N.length;x+=1)N[x].m(p,null);v||(k=Y(window,"resize",e[17]),v=!0)},p(w,[E]){if(E&2&&i!==(i=w[1].methodName+"")&&te(l,i),E&1024&&d(r,"x",w[10]),E&512&&a!==(a=w[9]-5)&&d(r,"y",a),E&4&&u!==(u=w[2].methodName+"")&&te(s,u),E&512&&h!==(h="translate(0, "+(w[9]-w[14].bottom)+")")&&d(f,"transform",h),E&22407){b=w[0];let x;for(x=0;x<b.length;x+=1){const y=Rr(w,b,x);M[x]?M[x].p(y,E):(M[x]=Ir(y),M[x].c(),M[x].m(n,null))}for(;x<M.length;x+=1)M[x].d(1);M.length=b.length}if(E&1536&&m!==(m="0 0 "+w[10]+" "+w[9])&&d(n,"viewBox",m),E&1024&&z(n,"max-width",w[10]+"px"),E&2048&&z(n,"margin-top",w[11].vertical-w[13]/2+"px"),E&4097){B=w[0];let x;for(x=0;x<B.length;x+=1){const y=Lr(w,B,x);N[x]?N[x].p(y,E):(N[x]=Tr(y),N[x].c(),N[x].m(p,null))}for(;x<N.length;x+=1)N[x].d(1);N.length=B.length}E&1024&&z(t,"width",w[10]+"px")},i:R,o:R,d(w){w&&q(t),e[18](null),e[19](null),qe(M,w),qe(N,w),v=!1,k()}}}let Br=2;function ps(e,t,n){let r,i,l,a,o,u,s,{candidates:c}=t,{dataX:f}=t,{dataY:h}=t,m=800,g=600,p=60,v={top:40,right:15,bottom:40,left:60},k,b,M=null;function B(){n(4,g=window.innerHeight),n(3,m=window.innerWidth)}function N(y){fe[y?"unshift":"push"](()=>{k=y,n(5,k)})}function w(y){fe[y?"unshift":"push"](()=>{b=y,n(6,b)})}const E=y=>n(12,M=y.name),x=()=>n(12,M=null);return e.$$set=y=>{"candidates"in y&&n(0,c=y.candidates),"dataX"in y&&n(1,f=y.dataX),"dataY"in y&&n(2,h=y.dataY)},e.$$.update=()=>{e.$$.dirty&16&&n(11,r={horizontal:200,vertical:g/5}),e.$$.dirty&2056&&n(10,i=m-r.horizontal*2),e.$$.dirty&2064&&n(9,l=g-r.vertical*2-55),e.$$.dirty&1026&&n(7,a=bt().domain([0,je(f.results,y=>y.value)+Br]).range([v.left,i-v.right]).interpolate(ut)),e.$$.dirty&516&&n(8,o=bt().domain([0,je(h.results,y=>y.value)+Br]).range([l-v.bottom,v.top]).interpolate(ut)),e.$$.dirty&288&&n(16,u=rt(k).call($n(o).tickFormat(y=>`${y}%`))),e.$$.dirty&192&&n(15,s=rt(b).call(An(a).tickFormat(y=>`${y}%`))),e.$$.dirty&65536&&u.selectAll("path, line").attr("style","stroke: var(--primary)"),e.$$.dirty&32768&&s.selectAll("path, line").attr("style","stroke: var(--primary)")},[c,f,h,m,g,k,b,a,o,l,i,r,M,p,v,s,u,B,N,w,E,x]}class gs extends j{constructor(t){super(),Q(this,t,ps,ms,K,{candidates:0,dataX:1,dataY:2})}}const uu="";function _s(e){let t,n,r,i,l,a,o,u;return{c(){t=C("div"),n=C("input"),r=D(),i=C("label"),l=V(e[1]),d(n,"type","checkbox"),n.disabled=e[3],d(n,"name",e[2]),d(n,"id",e[2]),d(n,"class","svelte-e23efo"),d(i,"for",e[2]),d(i,"style",a=e[4]&&e[4].methodId===e[2]?`color: ${e[4].color}; font-weight: 600`:""),d(i,"class","svelte-e23efo"),d(t,"class","svelte-e23efo")},m(s,c){F(s,t,c),_(t,n),n.checked=e[0],_(t,r),_(t,i),_(i,l),o||(u=Y(n,"change",e[5]),o=!0)},p(s,[c]){c&8&&(n.disabled=s[3]),c&4&&d(n,"name",s[2]),c&4&&d(n,"id",s[2]),c&1&&(n.checked=s[0]),c&2&&te(l,s[1]),c&4&&d(i,"for",s[2]),c&20&&a!==(a=s[4]&&s[4].methodId===s[2]?`color: ${s[4].color}; font-weight: 600`:"")&&d(i,"style",a)},i:R,o:R,d(s){s&&q(t),o=!1,u()}}}function vs(e,t,n){let r;ge(e,xt,s=>n(4,r=s));let{checked:i}=t,{label:l}=t,{name:a}=t,{disabled:o=!1}=t;function u(){i=this.checked,n(0,i)}return e.$$set=s=>{"checked"in s&&n(0,i=s.checked),"label"in s&&n(1,l=s.label),"name"in s&&n(2,a=s.name),"disabled"in s&&n(3,o=s.disabled)},[i,l,a,o,r,u]}class Hr extends j{constructor(t){super(),Q(this,t,vs,_s,K,{checked:0,label:1,name:2,disabled:3})}}const cu="";function ws(e){let t,n,r,i,l,a;const o=e[3].default,u=St(o,e,e[2],null);return{c(){t=C("button"),t.textContent="?",n=D(),r=C("dialog"),u&&u.c(),d(t,"class","svelte-1uawb6t"),d(r,"class","svelte-1uawb6t")},m(s,c){F(s,t,c),F(s,n,c),F(s,r,c),u&&u.m(r,null),e[5](r),i=!0,l||(a=[Y(t,"click",e[4]),Y(r,"keypress",ys),Y(r,"click",e[1])],l=!0)},p(s,[c]){u&&u.p&&(!i||c&4)&&qt(u,o,s,s[2],i?Pt(o,s[2],c,null):Ft(s[2]),null)},i(s){i||(L(u,s),i=!0)},o(s){T(u,s),i=!1},d(s){s&&q(t),s&&q(n),s&&q(r),u&&u.d(s),e[5](null),l=!1,oe(a)}}}const ys=()=>{};function bs(e,t,n){let{$$slots:r={},$$scope:i}=t,l;function a(s){if(!s.target||s.target.tagName!=="DIALOG")return;const f=s.target.getBoundingClientRect();(f.top<=s.clientY&&s.clientY<=f.top+f.height&&f.left<=s.clientX&&s.clientX<=f.left+f.width)===!1&&l.close()}const o=()=>l.showModal();function u(s){fe[s?"unshift":"push"](()=>{l=s,n(0,l)})}return e.$$set=s=>{"$$scope"in s&&n(2,i=s.$$scope)},[l,a,i,r,o,u]}class ks extends j{constructor(t){super(),Q(this,t,bs,ws,K,{})}}const fu="",xs=e=>({}),Dr=e=>({});function Ms(e){let t;return{c(){t=V(e[0])},m(n,r){F(n,t,r)},p(n,r){r&1&&te(t,n[0])},d(n){n&&q(t)}}}function Ns(e){let t;const n=e[1].help,r=St(n,e,e[2],Dr),i=r||Ms(e);return{c(){i&&i.c()},m(l,a){i&&i.m(l,a),t=!0},p(l,a){r?r.p&&(!t||a&4)&&qt(r,n,l,l[2],t?Pt(n,l[2],a,xs):Ft(l[2]),Dr):i&&i.p&&(!t||a&1)&&i.p(l,t?a:-1)},i(l){t||(L(i,l),t=!0)},o(l){T(i,l),t=!1},d(l){i&&i.d(l)}}}function As(e){let t,n,r,i;const l=e[1].default,a=St(l,e,e[2],null);return r=new ks({props:{$$slots:{default:[Ns]},$$scope:{ctx:e}}}),{c(){t=C("div"),a&&a.c(),n=D(),G(r.$$.fragment),d(t,"class","svelte-1ea00u6")},m(o,u){F(o,t,u),a&&a.m(t,null),_(t,n),O(r,t,null),i=!0},p(o,[u]){a&&a.p&&(!i||u&4)&&qt(a,l,o,o[2],i?Pt(l,o[2],u,null):Ft(o[2]),null);const s={};u&5&&(s.$$scope={dirty:u,ctx:o}),r.$set(s)},i(o){i||(L(a,o),L(r.$$.fragment,o),i=!0)},o(o){T(a,o),T(r.$$.fragment,o),i=!1},d(o){o&&q(t),a&&a.d(o),X(r)}}}function $s(e,t,n){let{$$slots:r={},$$scope:i}=t,{help:l=void 0}=t;return e.$$set=a=>{"help"in a&&n(0,l=a.help),"$$scope"in a&&n(2,i=a.$$scope)},[l,r,i]}class zr extends j{constructor(t){super(),Q(this,t,$s,As,K,{help:0})}}const hu="";function Es(e){let t,n,r,i;return{c(){t=C("button"),n=V(e[1]),d(t,"class","svelte-36erlh"),Ye(t,"active",e[2].comparison===e[0])},m(l,a){F(l,t,a),_(t,n),r||(i=Y(t,"click",e[3]),r=!0)},p(l,[a]){a&2&&te(n,l[1]),a&5&&Ye(t,"active",l[2].comparison===l[0])},i:R,o:R,d(l){l&&q(t),r=!1,i()}}}function Cs(e,t,n){let r;ge(e,ce,o=>n(2,r=o));let{id:i}=t,{name:l}=t;function a(){Pe(ce,r.comparison=i,r)}return e.$$set=o=>{"id"in o&&n(0,i=o.id),"name"in o&&n(1,l=o.name)},[i,l,r,a]}class Jr extends j{constructor(t){super(),Q(this,t,Cs,Es,K,{id:0,name:1})}}const du="";function Ss(e){let t,n,r,i,l;return n=new Jr({props:{id:0,name:"Multi-graphe"}}),i=new Jr({props:{id:1,name:"Bi-graphe"}}),{c(){t=C("div"),G(n.$$.fragment),r=D(),G(i.$$.fragment),d(t,"class","svelte-z7dyga")},m(a,o){F(a,t,o),O(n,t,null),_(t,r),O(i,t,null),l=!0},p:R,i(a){l||(L(n.$$.fragment,a),L(i.$$.fragment,a),l=!0)},o(a){T(n.$$.fragment,a),T(i.$$.fragment,a),l=!1},d(a){a&&q(t),X(n),X(i)}}}class Ps extends j{constructor(t){super(),Q(this,t,null,Ss,K,{})}}const mu="";function qs(e){let t,n,r,i,l,a,o,u,s,c,f,h,m;return{c(){t=C("div"),n=C("input"),l=D(),a=C("input"),s=D(),c=C("span"),f=V(e[0]),d(n,"type","radio"),d(n,"name","method1"),d(n,"id",r="method1-"+e[1]),n.checked=i=e[3].methods2[0]===e[2],d(n,"class","svelte-rlcz88"),d(a,"type","radio"),d(a,"name","method2"),d(a,"id",o="method2-"+e[1]),a.checked=u=e[3].methods2[1]===e[2],d(a,"class","svelte-rlcz88"),d(t,"class","svelte-rlcz88")},m(g,p){F(g,t,p),_(t,n),_(t,l),_(t,a),_(t,s),_(t,c),_(c,f),h||(m=[Y(n,"change",e[4]),Y(a,"change",e[5])],h=!0)},p(g,[p]){p&2&&r!==(r="method1-"+g[1])&&d(n,"id",r),p&12&&i!==(i=g[3].methods2[0]===g[2])&&(n.checked=i),p&2&&o!==(o="method2-"+g[1])&&d(a,"id",o),p&12&&u!==(u=g[3].methods2[1]===g[2])&&(a.checked=u),p&1&&te(f,g[0])},i:R,o:R,d(g){g&&q(t),h=!1,oe(m)}}}function Fs(e,t,n){let r;ge(e,ce,s=>n(3,r=s));let{label:i}=t,{name:l}=t,{index:a}=t;function o(){Pe(ce,r.methods2=[a,r.methods2[1]],r)}function u(){Pe(ce,r.methods2=[r.methods2[0],a],r)}return e.$$set=s=>{"label"in s&&n(0,i=s.label),"name"in s&&n(1,l=s.name),"index"in s&&n(2,a=s.index)},[i,l,a,r,o,u]}class Ls extends j{constructor(t){super(),Q(this,t,Fs,qs,K,{label:0,name:1,index:2})}}const pu="";function Or(e,t,n){const r=e.slice();return r[3]=t[n],r[4]=t,r[5]=n,r}function Rs(e){let t,n,r;function i(a){e[1](a)}let l={label:"Corriger les biais",name:"biasCorrection"};return e[0].biasCorrection!==void 0&&(l.checked=e[0].biasCorrection),t=new Hr({props:l}),fe.push(()=>wn(t,"checked",i)),{c(){G(t.$$.fragment)},m(a,o){O(t,a,o),r=!0},p(a,o){const u={};!n&&o&1&&(n=!0,u.checked=a[0].biasCorrection,_n(()=>n=!1)),t.$set(u)},i(a){r||(L(t.$$.fragment,a),r=!0)},o(a){T(t.$$.fragment,a),r=!1},d(a){X(t,a)}}}function Is(e){let t;return{c(){t=C("div"),t.innerHTML=`<h1 style="margin-top: 0" class="svelte-16x6fbn">Correction des biais</h1> 
			<p style="margin: 0" class="svelte-16x6fbn">Les donn\xE9es ont \xE9t\xE9 r\xE9colt\xE9es sur un sous-ensemble de la population qui
				n\u2019est pas parfaitement repr\xE9sentatif des opinions de la population
				compl\xE8te. Ce biais est corrig\xE9 de la mani\xE8re suivante\xA0: on demande
				aux votants leur vote r\xE9el \xE0 l\u2019\xE9lection pr\xE9sidentielle, ce qui donne un
				premier classement des candidats. Ensuite, on r\xE9cup\xE8re les r\xE9sultats
				officiels de l\u2019\xE9lection, et on compare.</p> 
			<p style="margin-bottom: 0" class="svelte-16x6fbn">Si un candidat a une proportion des votes plus \xE9lev\xE9e dans l\u2019\xE9lection
				officielle, alors il est sous-repr\xE9sent\xE9 dans nos donn\xE9es. Dans le cas
				inverse, il est sur-repr\xE9sent\xE9. On calcule ainsi pour chaque candidat un
				coefficient qui permet de redresser les donn\xE9es, et de faire en sorte
				que celles-ci soient plus repr\xE9sentatives de l\u2019avis global de la
				population.</p>`,d(t,"slot","help"),d(t,"class","svelte-16x6fbn")},m(n,r){F(n,t,r)},p:R,d(n){n&&q(t)}}}function Xr(e){let t;return{c(){t=C("div"),t.innerHTML=`<p class="svelte-16x6fbn">x</p> 
				<p class="svelte-16x6fbn">y</p> 
				<p class="svelte-16x6fbn">scrutin</p>`,d(t,"class","svelte-16x6fbn")},m(n,r){F(n,t,r)},d(n){n&&q(t)}}}function Ts(e){let t,n;return t=new Ls({props:{label:e[3].methodName,name:e[3].methodId,index:e[5]}}),{c(){G(t.$$.fragment)},m(r,i){O(t,r,i),n=!0},p:R,i(r){n||(L(t.$$.fragment,r),n=!0)},o(r){T(t.$$.fragment,r),n=!1},d(r){X(t,r)}}}function Bs(e){let t,n,r;function i(a){e[2](a,e[5])}let l={label:e[3].methodName,name:e[3].methodId,disabled:e[0].methods[e[5]]&&e[0].methods.filter(Yr).length===1};return e[0].methods[e[5]]!==void 0&&(l.checked=e[0].methods[e[5]]),t=new Hr({props:l}),fe.push(()=>wn(t,"checked",i)),{c(){G(t.$$.fragment)},m(a,o){O(t,a,o),r=!0},p(a,o){e=a;const u={};o&1&&(u.disabled=e[0].methods[e[5]]&&e[0].methods.filter(Yr).length===1),!n&&o&1&&(n=!0,u.checked=e[0].methods[e[5]],_n(()=>n=!1)),t.$set(u)},i(a){r||(L(t.$$.fragment,a),r=!0)},o(a){T(t.$$.fragment,a),r=!1},d(a){X(t,a)}}}function Hs(e){let t,n,r,i;const l=[Bs,Ts],a=[];function o(u,s){return u[0].comparison===0?0:1}return t=o(e),n=a[t]=l[t](e),{c(){n.c(),r=D()},m(u,s){a[t].m(u,s),F(u,r,s),i=!0},p(u,s){let c=t;t=o(u),t===c?a[t].p(u,s):(We(),T(a[c],1,1,()=>{a[c]=null}),Ze(),n=a[t],n?n.p(u,s):(n=a[t]=l[t](u),n.c()),L(n,1),n.m(r.parentNode,r))},i(u){i||(L(n),i=!0)},o(u){T(n),i=!1},d(u){a[t].d(u),u&&q(r)}}}function Ds(e){let t,n,r=e[3].methodName+"",i,l,a,o=e[3].description+"",u,s;return{c(){t=C("div"),n=C("h1"),i=V(r),l=D(),a=C("p"),u=V(o),s=D(),z(n,"margin-top","0"),d(n,"class","svelte-16x6fbn"),z(a,"margin","0"),d(a,"class","svelte-16x6fbn"),d(t,"slot","help"),d(t,"class","help svelte-16x6fbn")},m(c,f){F(c,t,f),_(t,n),_(n,i),_(t,l),_(t,a),_(a,u),_(t,s)},p:R,d(c){c&&q(t)}}}function Vr(e){let t,n;return t=new zr({props:{help:e[3].description,$$slots:{help:[Ds],default:[Hs]},$$scope:{ctx:e}}}),{c(){G(t.$$.fragment)},m(r,i){O(t,r,i),n=!0},p(r,i){const l={};i&65&&(l.$$scope={dirty:i,ctx:r}),t.$set(l)},i(r){n||(L(t.$$.fragment,r),n=!0)},o(r){T(t.$$.fragment,r),n=!1},d(r){X(t,r)}}}function zs(e){let t,n,r,i,l,a,o,u,s,c;i=new zr({props:{$$slots:{help:[Is],default:[Rs]},$$scope:{ctx:e}}}),a=new Ps({});let f=e[0].comparison===1&&Xr(),h=Ce,m=[];for(let p=0;p<h.length;p+=1)m[p]=Vr(Or(e,h,p));const g=p=>T(m[p],1,1,()=>{m[p]=null});return{c(){t=C("div"),n=C("h1"),n.textContent="Comparaison des m\xE9thodes de scrutin",r=D(),G(i.$$.fragment),l=D(),G(a.$$.fragment),o=D(),u=C("div"),f&&f.c(),s=D();for(let p=0;p<m.length;p+=1)m[p].c();d(n,"class","svelte-16x6fbn"),d(u,"class","rankings svelte-16x6fbn"),d(t,"class","sidebar svelte-16x6fbn")},m(p,v){F(p,t,v),_(t,n),_(t,r),O(i,t,null),_(t,l),O(a,t,null),_(t,o),_(t,u),f&&f.m(u,null),_(u,s);for(let k=0;k<m.length;k+=1)m[k].m(u,null);c=!0},p(p,[v]){const k={};if(v&65&&(k.$$scope={dirty:v,ctx:p}),i.$set(k),p[0].comparison===1?f||(f=Xr(),f.c(),f.m(u,s)):f&&(f.d(1),f=null),v&1){h=Ce;let b;for(b=0;b<h.length;b+=1){const M=Or(p,h,b);m[b]?(m[b].p(M,v),L(m[b],1)):(m[b]=Vr(M),m[b].c(),L(m[b],1),m[b].m(u,null))}for(We(),b=h.length;b<m.length;b+=1)g(b);Ze()}},i(p){if(!c){L(i.$$.fragment,p),L(a.$$.fragment,p);for(let v=0;v<h.length;v+=1)L(m[v]);c=!0}},o(p){T(i.$$.fragment,p),T(a.$$.fragment,p),m=m.filter(Boolean);for(let v=0;v<m.length;v+=1)T(m[v]);c=!1},d(p){p&&q(t),X(i),X(a),f&&f.d(),qe(m,p)}}}const Yr=e=>e;function Js(e,t,n){let r;ge(e,ce,a=>n(0,r=a));function i(a){e.$$.not_equal(r.biasCorrection,a)&&(r.biasCorrection=a,ce.set(r))}function l(a,o){e.$$.not_equal(r.methods[o],a)&&(r.methods[o]=a,ce.set(r))}return[r,i,l]}class Os extends j{constructor(t){super(),Q(this,t,Js,zs,K,{})}}const gu="";function Xs(e){let t,n;return t=new gs({props:{candidates:kt,dataX:e[1][e[0].methods2[0]],dataY:e[1][e[0].methods2[1]]}}),{c(){G(t.$$.fragment)},m(r,i){O(t,r,i),n=!0},p(r,i){const l={};i&3&&(l.dataX=r[1][r[0].methods2[0]]),i&3&&(l.dataY=r[1][r[0].methods2[1]]),t.$set(l)},i(r){n||(L(t.$$.fragment,r),n=!0)},o(r){T(t.$$.fragment,r),n=!1},d(r){X(t,r)}}}function Vs(e){let t,n;return t=new ds({props:{dataByCandidate:e[2]}}),{c(){G(t.$$.fragment)},m(r,i){O(t,r,i),n=!0},p(r,i){const l={};i&4&&(l.dataByCandidate=r[2]),t.$set(l)},i(r){n||(L(t.$$.fragment,r),n=!0)},o(r){T(t.$$.fragment,r),n=!1},d(r){X(t,r)}}}function Ys(e){let t,n,r,i,l,a,o;n=new Os({});const u=[Vs,Xs],s=[];function c(f,h){return f[0].comparison===0?0:1}return l=c(e),a=s[l]=u[l](e),{c(){t=C("main"),G(n.$$.fragment),r=D(),i=C("div"),a.c(),d(i,"class","graph svelte-1kxebne"),d(t,"class","svelte-1kxebne")},m(f,h){F(f,t,h),O(n,t,null),_(t,r),_(t,i),s[l].m(i,null),o=!0},p(f,[h]){let m=l;l=c(f),l===m?s[l].p(f,h):(We(),T(s[m],1,1,()=>{s[m]=null}),Ze(),a=s[l],a?a.p(f,h):(a=s[l]=u[l](f),a.c()),L(a,1),a.m(i,null))},i(f){o||(L(n.$$.fragment,f),L(a),o=!0)},o(f){T(n.$$.fragment,f),T(a),o=!1},d(f){f&&q(t),X(n),s[l].d()}}}function Gs(e,t,n){let r,i,l;return ge(e,ce,a=>n(0,l=a)),e.$$.update=()=>{e.$$.dirty&1&&n(2,r=l.biasCorrection?Er.map(({name:a,color:o,data:u})=>({name:a,color:o,data:u.map(({methodId:s,value:c})=>({methodId:s,value:c*kt.find(f=>f.name===a).correction}))})):Er),e.$$.dirty&1&&n(1,i=l.biasCorrection?Ce.map(({methodId:a,methodName:o,description:u,results:s,unit:c})=>({methodId:a,methodName:o,description:u,unit:c,results:s.map(({name:f,value:h})=>({name:f,value:h*kt.find(m=>m.name===f).correction}))})):Ce)},[l,i,r]}class Us extends j{constructor(t){super(),Q(this,t,Gs,Ys,K,{})}}const _u="";function Ks(e){let t;return{c(){t=C("main"),t.innerHTML=`<h1 class="svelte-hfl0d2">Challenge Open Data \u2014 Rapport</h1> 

	<p>Membres de l\u2019\xE9quipe\xA0:</p> 
	<ul class="svelte-hfl0d2"><li>Ariane DAUVERGNE</li> 
		<li>Gwennan ELIEZER</li> 
		<li>Jean LE MENN</li> 
		<li>Maxime LHERMITE</li> 
		<li>Habibata SAMAKE</li> 
		<li>Sym\xE9on SMITH</li></ul> 

	<h2 class="svelte-hfl0d2">Introduction</h2> 

	<p>Le but de ce Challenge Open Data est de produire un visuel sur diff\xE9rentes
		m\xE9thodes de votes gr\xE2ce \xE0 une exp\xE9rience r\xE9alis\xE9e en ligne, offrant ainsi
		l&#39;occasion de comprendre les opinions des participants sur les candidats \xE0
		la pr\xE9sidentielle de 2017 et de faire un lien avec les r\xE9sultats du vote
		officiel.</p> 

	<h2 class="svelte-hfl0d2">Jeu de donn\xE9es et repr\xE9sentation sur l&#39;application</h2> 

	<p>Le jeu de donn\xE9es s\xE9lectionn\xE9 pour ce challenge est issu
		d\u2019une exp\xE9rimentation en ligne sur les votes des \xE9lections pr\xE9sidentielles de
		2017 en France. Pr\xE8s de 37739 personnes ont particip\xE9 \xE0 l\u2019exp\xE9rience. Il leur
		a \xE9t\xE9 demand\xE9 de remplir des bulletins de vote repr\xE9sentant diff\xE9rentes m\xE9thodes
		de vote. Les participants ont \xE9galement r\xE9pondu \xE0 diff\xE9rents questionnaires concernant
		par exemple leur jugement de la pertinence d\u2019une telle d\xE9marche ou leur niveau
		de satisfaction quant \xE0 leur vote r\xE9ellement exprim\xE9 au premier tour des \xE9lections
		pr\xE9sidentielles. Bien que nous disposions aussi d\u2019indicateurs socio-professionnels
		(sexe, tranche d\u2019\xE2ge, niveau d\u2019\xE9ducation, etc), nous avons d\xE9cid\xE9 de nous concentrer
		uniquement sur les donn\xE9es exprim\xE9es dans les bulletins de vote sans consid\xE9rer
		ces autres facteurs.</p> 
	<p>En effet, nous avons pour objectif de r\xE9aliser des visualisations de donn\xE9es
		permettant de comparer et de mettre en opposition les diff\xE9rentes m\xE9thodes
		de vote et leur influence sur le classement final des candidats. Afin de
		pouvoir r\xE9aliser cela, nous devons dans un premier temps traiter les donn\xE9es
		afin de les homog\xE9n\xE9iser pour pouvoir les rendre exploitables. \xC0 cet effet,
		apr\xE8s pr\xE9-traitement de nos donn\xE9es, nous ne retenons que les scores finaux
		qu&#39;ont obtenu les candidats selons les m\xE9thodes de vote.</p> 

	<h2 class="svelte-hfl0d2">Architecture de l&#39;application</h2> 

	<p>L\u2019application est structur\xE9e en deux couches\xA0: une couche de
		pr\xE9-traitement des donn\xE9es, permettant de mettre en forme les donn\xE9es et de
		les rendre plus digestes, et une couche applicative qui reprend ces donn\xE9es,
		applique si besoin des traitements plus l\xE9gers, et les affiche sous forme de
		graphes interactifs.</p> 
	<p>La partie de pr\xE9-traitement des donn\xE9es consiste en un script qui r\xE9cup\xE8re
		pour chaque scrutin les r\xE9sultats finaux des candidats et les rassemble en
		un jeu de donn\xE9es au format bien d\xE9fini. Ces donn\xE9es sont ensuite ins\xE9r\xE9es
		dans l\u2019application dans une variable JavaScript directement, pour diminuer
		les temps de traitements \xE9ventuels qui pourraient \xEAtre li\xE9s \xE0 la
		r\xE9cup\xE9ration depuis un fichier ou un serveur.</p> 
	<p>L\u2019application web utilise cette variable pour afficher le
		\xAB\xA0Bi-graphe\xA0\xBB car celui-ci n\xE9cessite de conna\xEEtre les r\xE9sultats
		par m\xE9thode de vote. Par contre, le \xAB\xA0Multi-graphe\xA0\xBB a besoin
		d\u2019avoir les donn\xE9es mises en forme par candidat (puisqu\u2019il affiche les
		r\xE9sultats de chaque m\xE9thode s\xE9lectionn\xE9e, pour chaque candidat). Cette mise
		en forme est r\xE9alis\xE9e au lancement de l\u2019application et stock\xE9e dans une
		autre variable.</p> 

	<h3 class="svelte-hfl0d2">Technologies utilis\xE9es</h3> 

	<ul class="svelte-hfl0d2"><li><strong>Script de pr\xE9-traitement\xA0:</strong> Python.
			<br/></li> 
		<li><strong>Application web\xA0:</strong> 
			<a target="_BLANK" href="https://svelte.dev" class="svelte-hfl0d2">Svelte</a>.
			<br/>
			Svelte est un framework web qui compile un langage proche des langages du web
			(HTML, CSS, JavaScript) en JavaScript extr\xEAmement optimis\xE9. Il donne un moyen
			simplifi\xE9 de g\xE9rer l\u2019\xE9tat d\u2019une application web, et d\u2019interagir avec le DOM.</li> 
		<li><strong>Gestion des graphiques\xA0:</strong> 
			<a target="_BLANK" href="https://d3js.org" class="svelte-hfl0d2">D3.js</a>.
			<br/>
			Cette biblioth\xE8que JavaScript renomm\xE9e nous a permis de simplifier la gestion
			de l\u2019affichage des graphiques, en simplifiant le calcul et l\u2019affichage des
			axes, ainsi que les positions SVG des diff\xE9rents \xE9l\xE9ments constituants ces
			graphes.</li></ul> 

	<h3 class="svelte-hfl0d2">Analyse GreenIT</h3> 

	<p>L\u2019application web sur laquelle vous vous trouvez r\xE9colte le score de
		<strong>A</strong> par l\u2019analyse de GreenIT, avec un EcoIndex autour de
		<strong>95</strong>, une \xE9mission autour de
		<strong>1,1 gCO2e</strong> pour une taille totale d\u2019environ
		<strong>150 Ko</strong>. L\u2019analyse des bonnes pratiques r\xE9v\xE8le uniquement
		des aspects sur lesquels nous n\u2019avons pas de contr\xF4le d\xFB au choix de ne pas
		utiliser de serveur (headers de caching et compression des ressources) ou \xE0
		l\u2019utilisation du service Google Fonts pour la police de l\u2019application.</p> 
	<p>Ce score est d\xFB \xE0 l\u2019efficacit\xE9 de Svelte, mais la taille de la page peut
		\xE9tonner\xA0: en effet, un framework JavaScript tel que Svelte cr\xE9e un
		unique script qui s\u2019occupe de cr\xE9er de lui-m\xEAme tous les \xE9l\xE9ments de la
		page, plut\xF4t que ceux-ci soient cr\xE9\xE9s en HTML par le d\xE9veloppeur. De plus,
		ce script emporte toutes les d\xE9pendances du projet\xA0: notamment, les
		\xE9l\xE9ments utilis\xE9s de la biblioth\xE8que D3 composent une bonne partie de la
		taille du script g\xE9n\xE9r\xE9.</p> 

	<h2 class="svelte-hfl0d2">Conclusion</h2>`,d(t,"class","svelte-hfl0d2")},m(n,r){F(n,t,r)},p:R,i:R,o:R,d(n){n&&q(t)}}}class Ws extends j{constructor(t){super(),Q(this,t,null,Ks,K,{})}}function Zs(e){let t,n;return t=new Us({}),{c(){G(t.$$.fragment)},m(r,i){O(t,r,i),n=!0},i(r){n||(L(t.$$.fragment,r),n=!0)},o(r){T(t.$$.fragment,r),n=!1},d(r){X(t,r)}}}function Qs(e){let t,n;return t=new Ws({}),{c(){G(t.$$.fragment)},m(r,i){O(t,r,i),n=!0},i(r){n||(L(t.$$.fragment,r),n=!0)},o(r){T(t.$$.fragment,r),n=!1},d(r){X(t,r)}}}function js(e){let t,n,r,i,l,a;t=new li({}),t.$on("showReportPage",e[1]),t.$on("showGraphPage",e[2]);const o=[Qs,Zs],u=[];function s(c,f){return c[0]?0:1}return r=s(e),i=u[r]=o[r](e),{c(){G(t.$$.fragment),n=D(),i.c(),l=pn()},m(c,f){O(t,c,f),F(c,n,f),u[r].m(c,f),F(c,l,f),a=!0},p(c,[f]){let h=r;r=s(c),r!==h&&(We(),T(u[h],1,1,()=>{u[h]=null}),Ze(),i=u[r],i||(i=u[r]=o[r](c),i.c()),L(i,1),i.m(l.parentNode,l))},i(c){a||(L(t.$$.fragment,c),L(i),a=!0)},o(c){T(t.$$.fragment,c),T(i),a=!1},d(c){X(t,c),c&&q(n),u[r].d(c),c&&q(l)}}}function eu(e,t,n){let r=!1;return[r,()=>n(0,r=!0),()=>n(0,r=!1)]}class tu extends j{constructor(t){super(),Q(this,t,eu,js,K,{})}}return new tu({target:document.getElementById("app")})}();
