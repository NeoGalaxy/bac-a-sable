var global=function(){"use strict";const iu="",ou="";function I(){}function Ur(e,t){for(const n in t)e[n]=t[n];return e}function fn(e){return e()}function cn(){return Object.create(null)}function ae(e){e.forEach(fn)}function hn(e){return typeof e=="function"}function K(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Kr(e){return Object.keys(e).length===0}function Wr(e,...t){if(e==null)return I;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function ge(e,t,n){e.$$.on_destroy.push(Wr(t,n))}function Ct(e,t,n,r){if(e){const i=dn(e,t,n,r);return e[0](i)}}function dn(e,t,n,r){return e[1]&&r?Ur(n.ctx.slice(),e[1](r(t))):n.ctx}function St(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(t.dirty===void 0)return i;if(typeof i=="object"){const l=[],o=Math.max(t.dirty.length,i.length);for(let a=0;a<o;a+=1)l[a]=t.dirty[a]|i[a];return l}return t.dirty|i}return t.dirty}function qt(e,t,n,r,i,l){if(i){const o=dn(t,n,r,l);e.p(o,i)}}function Pt(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function qe(e,t,n){return e.set(n),t}function _(e,t){e.appendChild(t)}function F(e,t,n){e.insertBefore(t,n||null)}function P(e){e.parentNode&&e.parentNode.removeChild(e)}function Pe(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function C(e){return document.createElement(e)}function L(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function G(e){return document.createTextNode(e)}function D(){return G(" ")}function mn(){return G("")}function Y(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function pn(e){return function(t){return t.preventDefault(),e.call(this,t)}}function d(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Zr(e){return Array.from(e.childNodes)}function te(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function z(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function Ye(e,t,n){e.classList[n?"add":"remove"](t)}function Qr(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,r,t),i}let Fe;function Re(e){Fe=e}function jr(){if(!Fe)throw new Error("Function called outside component initialization");return Fe}function ei(){const e=jr();return(t,n,{cancelable:r=!1}={})=>{const i=e.$$.callbacks[t];if(i){const l=Qr(t,n,{cancelable:r});return i.slice().forEach(o=>{o.call(e,l)}),!l.defaultPrevented}return!0}}const Ie=[],ce=[],Je=[],Ft=[],ti=Promise.resolve();let Rt=!1;function ni(){Rt||(Rt=!0,ti.then(_n))}function Le(e){Je.push(e)}function gn(e){Ft.push(e)}const It=new Set;let Ue=0;function _n(){const e=Fe;do{for(;Ue<Ie.length;){const t=Ie[Ue];Ue++,Re(t),ri(t.$$)}for(Re(null),Ie.length=0,Ue=0;ce.length;)ce.pop()();for(let t=0;t<Je.length;t+=1){const n=Je[t];It.has(n)||(It.add(n),n())}Je.length=0}while(Ie.length);for(;Ft.length;)Ft.pop()();Rt=!1,It.clear(),Re(e)}function ri(e){if(e.fragment!==null){e.update(),ae(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Le)}}const Ke=new Set;let _e;function We(){_e={r:0,c:[],p:_e}}function Ze(){_e.r||ae(_e.c),_e=_e.p}function R(e,t){e&&e.i&&(Ke.delete(e),e.i(t))}function T(e,t,n,r){if(e&&e.o){if(Ke.has(e))return;Ke.add(e),_e.c.push(()=>{Ke.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function vn(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function J(e){e&&e.c()}function X(e,t,n,r){const{fragment:i,after_update:l}=e.$$;i&&i.m(t,n),r||Le(()=>{const o=e.$$.on_mount.map(fn).filter(hn);e.$$.on_destroy?e.$$.on_destroy.push(...o):ae(o),e.$$.on_mount=[]}),l.forEach(Le)}function V(e,t){const n=e.$$;n.fragment!==null&&(ae(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ii(e,t){e.$$.dirty[0]===-1&&(Ie.push(e),ni(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Q(e,t,n,r,i,l,o,a=[-1]){const u=Fe;Re(e);const s=e.$$={fragment:null,ctx:[],props:l,update:I,not_equal:i,bound:cn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:cn(),dirty:a,skip_bound:!1,root:t.target||u.$$.root};o&&o(s.root);let f=!1;if(s.ctx=n?n(e,t.props||{},(c,h,...m)=>{const g=m.length?m[0]:h;return s.ctx&&i(s.ctx[c],s.ctx[c]=g)&&(!s.skip_bound&&s.bound[c]&&s.bound[c](g),f&&ii(e,c)),h}):[],s.update(),f=!0,ae(s.before_update),s.fragment=r?r(s.ctx):!1,t.target){if(t.hydrate){const c=Zr(t.target);s.fragment&&s.fragment.l(c),c.forEach(P)}else s.fragment&&s.fragment.c();t.intro&&R(e.$$.fragment),X(e,t.target,t.anchor,t.customElement),_n()}Re(u)}class j{$destroy(){V(this,1),this.$destroy=I}$on(t,n){if(!hn(n))return I;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Kr(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const lu="";function oi(e){let t,n,r,i,l,o,a,u,s;return{c(){t=C("nav"),n=C("ul"),r=C("li"),i=C("a"),i.textContent="\u{1F5F3}\uFE0F Challenge Open Data",l=D(),o=C("li"),a=C("a"),a.textContent="Rapport",d(i,"href","./index.html"),d(i,"class","svelte-vawjto"),d(r,"class","svelte-vawjto"),d(a,"href","./index.html"),d(a,"class","svelte-vawjto"),d(o,"class","svelte-vawjto"),d(n,"class","svelte-vawjto"),d(t,"class","svelte-vawjto")},m(f,c){F(f,t,c),_(t,n),_(n,r),_(r,i),_(n,l),_(n,o),_(o,a),u||(s=[Y(i,"click",pn(e[1])),Y(a,"click",pn(e[2]))],u=!0)},p:I,i:I,o:I,d(f){f&&P(t),u=!1,ae(s)}}}function li(e){const t=ei();return[t,()=>t("showGraphPage"),()=>t("showReportPage")]}class ai extends j{constructor(t){super(),Q(this,t,li,oi,K,{})}}function Qe(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function si(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yn(e){let t,n,r;e.length!==2?(t=Qe,n=(a,u)=>Qe(e(a),u),r=(a,u)=>e(a)-u):(t=e===Qe||e===si?e:ui,n=e,r=e);function i(a,u,s=0,f=a.length){if(s<f){if(t(u,u)!==0)return f;do{const c=s+f>>>1;n(a[c],u)<0?s=c+1:f=c}while(s<f)}return s}function l(a,u,s=0,f=a.length){if(s<f){if(t(u,u)!==0)return f;do{const c=s+f>>>1;n(a[c],u)<=0?s=c+1:f=c}while(s<f)}return s}function o(a,u,s=0,f=a.length){const c=i(a,u,s,f-1);return c>s&&r(a[c-1],u)>-r(a[c],u)?c-1:c}return{left:i,center:o,right:l}}function ui(){return 0}function fi(e){return e===null?NaN:+e}const ci=yn(Qe).right;yn(fi).center;const hi=ci;class wn extends Map{constructor(t,n=pi){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(bn(this,t))}has(t){return super.has(bn(this,t))}set(t,n){return super.set(di(this,t),n)}delete(t){return super.delete(mi(this,t))}}function bn({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function di({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function mi({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function pi(e){return e!==null&&typeof e=="object"?e.valueOf():e}var Lt=Math.sqrt(50),Tt=Math.sqrt(10),Ht=Math.sqrt(2);function gi(e,t,n){var r,i=-1,l,o,a;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(l=e,e=t,t=l),(a=kn(e,t,n))===0||!isFinite(a))return[];if(a>0){let u=Math.round(e/a),s=Math.round(t/a);for(u*a<e&&++u,s*a>t&&--s,o=new Array(l=s-u+1);++i<l;)o[i]=(u+i)*a}else{a=-a;let u=Math.round(e*a),s=Math.round(t*a);for(u/a<e&&++u,s/a>t&&--s,o=new Array(l=s-u+1);++i<l;)o[i]=(u+i)/a}return r&&o.reverse(),o}function kn(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),l=r/Math.pow(10,i);return i>=0?(l>=Lt?10:l>=Tt?5:l>=Ht?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(l>=Lt?10:l>=Tt?5:l>=Ht?2:1)}function _i(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),l=r/i;return l>=Lt?i*=10:l>=Tt?i*=5:l>=Ht&&(i*=2),t<e?-i:i}function je(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function vi(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(i);++r<i;)l[r]=e+r*n;return l}function yi(e){return e}var Bt=1,Dt=2,zt=3,Te=4,xn=1e-6;function wi(e){return"translate("+e+",0)"}function bi(e){return"translate(0,"+e+")"}function ki(e){return t=>+e(t)}function xi(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function Mi(){return!this.__axis}function Mn(e,t){var n=[],r=null,i=null,l=6,o=6,a=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=e===Bt||e===Te?-1:1,f=e===Te||e===Dt?"x":"y",c=e===Bt||e===zt?wi:bi;function h(m){var g=r==null?t.ticks?t.ticks.apply(t,n):t.domain():r,p=i==null?t.tickFormat?t.tickFormat.apply(t,n):yi:i,v=Math.max(l,0)+a,k=t.range(),b=+k[0]+u,M=+k[k.length-1]+u,H=(t.bandwidth?xi:ki)(t.copy(),u),A=m.selection?m.selection():m,y=A.selectAll(".domain").data([null]),$=A.selectAll(".tick").data(g,t).order(),x=$.exit(),w=$.enter().append("g").attr("class","tick"),O=$.select("line"),E=$.select("text");y=y.merge(y.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(w),O=O.merge(w.append("line").attr("stroke","currentColor").attr(f+"2",s*l)),E=E.merge(w.append("text").attr("fill","currentColor").attr(f,s*v).attr("dy",e===Bt?"0em":e===zt?"0.71em":"0.32em")),m!==A&&(y=y.transition(m),$=$.transition(m),O=O.transition(m),E=E.transition(m),x=x.transition(m).attr("opacity",xn).attr("transform",function(B){return isFinite(B=H(B))?c(B+u):this.getAttribute("transform")}),w.attr("opacity",xn).attr("transform",function(B){var q=this.parentNode.__axis;return c((q&&isFinite(q=q(B))?q:H(B))+u)})),x.remove(),y.attr("d",e===Te||e===Dt?o?"M"+s*o+","+b+"H"+u+"V"+M+"H"+s*o:"M"+u+","+b+"V"+M:o?"M"+b+","+s*o+"V"+u+"H"+M+"V"+s*o:"M"+b+","+u+"H"+M),$.attr("opacity",1).attr("transform",function(B){return c(H(B)+u)}),O.attr(f+"2",s*l),E.attr(f,s*v).text(p),A.filter(Mi).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Dt?"start":e===Te?"end":"middle"),A.each(function(){this.__axis=H})}return h.scale=function(m){return arguments.length?(t=m,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),h):n.slice()},h.tickValues=function(m){return arguments.length?(r=m==null?null:Array.from(m),h):r&&r.slice()},h.tickFormat=function(m){return arguments.length?(i=m,h):i},h.tickSize=function(m){return arguments.length?(l=o=+m,h):l},h.tickSizeInner=function(m){return arguments.length?(l=+m,h):l},h.tickSizeOuter=function(m){return arguments.length?(o=+m,h):o},h.tickPadding=function(m){return arguments.length?(a=+m,h):a},h.offset=function(m){return arguments.length?(u=+m,h):u},h}function An(e){return Mn(zt,e)}function En(e){return Mn(Te,e)}var Ai={value:()=>{}};function Nn(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new et(n)}function et(e){this._=e}function Ei(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}et.prototype=Nn.prototype={constructor:et,on:function(e,t){var n=this._,r=Ei(e+"",n),i,l=-1,o=r.length;if(arguments.length<2){for(;++l<o;)if((i=(e=r[l]).type)&&(i=Ni(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++l<o;)if(i=(e=r[l]).type)n[i]=$n(n[i],e.name,t);else if(t==null)for(i in n)n[i]=$n(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new et(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,l;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(l=this._[e],r=0,i=l.length;r<i;++r)l[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,l=r.length;i<l;++i)r[i].value.apply(t,n)}};function Ni(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function $n(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Ai,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ot="http://www.w3.org/1999/xhtml";const Cn={svg:"http://www.w3.org/2000/svg",xhtml:Ot,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tt(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Cn.hasOwnProperty(t)?{space:Cn[t],local:e}:e}function $i(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ot&&t.documentElement.namespaceURI===Ot?t.createElement(e):t.createElementNS(n,e)}}function Ci(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Sn(e){var t=tt(e);return(t.local?Ci:$i)(t)}function Si(){}function Xt(e){return e==null?Si:function(){return this.querySelector(e)}}function qi(e){typeof e!="function"&&(e=Xt(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var l=t[i],o=l.length,a=r[i]=new Array(o),u,s,f=0;f<o;++f)(u=l[f])&&(s=e.call(u,u.__data__,f,l))&&("__data__"in u&&(s.__data__=u.__data__),a[f]=s);return new ee(r,this._parents)}function Pi(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Fi(){return[]}function qn(e){return e==null?Fi:function(){return this.querySelectorAll(e)}}function Ri(e){return function(){return Pi(e.apply(this,arguments))}}function Ii(e){typeof e=="function"?e=Ri(e):e=qn(e);for(var t=this._groups,n=t.length,r=[],i=[],l=0;l<n;++l)for(var o=t[l],a=o.length,u,s=0;s<a;++s)(u=o[s])&&(r.push(e.call(u,u.__data__,s,o)),i.push(u));return new ee(r,i)}function Pn(e){return function(){return this.matches(e)}}function Fn(e){return function(t){return t.matches(e)}}var Li=Array.prototype.find;function Ti(e){return function(){return Li.call(this.children,e)}}function Hi(){return this.firstElementChild}function Bi(e){return this.select(e==null?Hi:Ti(typeof e=="function"?e:Fn(e)))}var Di=Array.prototype.filter;function zi(){return Array.from(this.children)}function Oi(e){return function(){return Di.call(this.children,e)}}function Xi(e){return this.selectAll(e==null?zi:Oi(typeof e=="function"?e:Fn(e)))}function Vi(e){typeof e!="function"&&(e=Pn(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var l=t[i],o=l.length,a=r[i]=[],u,s=0;s<o;++s)(u=l[s])&&e.call(u,u.__data__,s,l)&&a.push(u);return new ee(r,this._parents)}function Rn(e){return new Array(e.length)}function Gi(){return new ee(this._enter||this._groups.map(Rn),this._parents)}function nt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}nt.prototype={constructor:nt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Yi(e){return function(){return e}}function Ji(e,t,n,r,i,l){for(var o=0,a,u=t.length,s=l.length;o<s;++o)(a=t[o])?(a.__data__=l[o],r[o]=a):n[o]=new nt(e,l[o]);for(;o<u;++o)(a=t[o])&&(i[o]=a)}function Ui(e,t,n,r,i,l,o){var a,u,s=new Map,f=t.length,c=l.length,h=new Array(f),m;for(a=0;a<f;++a)(u=t[a])&&(h[a]=m=o.call(u,u.__data__,a,t)+"",s.has(m)?i[a]=u:s.set(m,u));for(a=0;a<c;++a)m=o.call(e,l[a],a,l)+"",(u=s.get(m))?(r[a]=u,u.__data__=l[a],s.delete(m)):n[a]=new nt(e,l[a]);for(a=0;a<f;++a)(u=t[a])&&s.get(h[a])===u&&(i[a]=u)}function Ki(e){return e.__data__}function Wi(e,t){if(!arguments.length)return Array.from(this,Ki);var n=t?Ui:Ji,r=this._parents,i=this._groups;typeof e!="function"&&(e=Yi(e));for(var l=i.length,o=new Array(l),a=new Array(l),u=new Array(l),s=0;s<l;++s){var f=r[s],c=i[s],h=c.length,m=Zi(e.call(f,f&&f.__data__,s,r)),g=m.length,p=a[s]=new Array(g),v=o[s]=new Array(g),k=u[s]=new Array(h);n(f,c,p,v,k,m,t);for(var b=0,M=0,H,A;b<g;++b)if(H=p[b]){for(b>=M&&(M=b+1);!(A=v[M])&&++M<g;);H._next=A||null}}return o=new ee(o,r),o._enter=a,o._exit=u,o}function Zi(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Qi(){return new ee(this._exit||this._groups.map(Rn),this._parents)}function ji(e,t,n){var r=this.enter(),i=this,l=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?l.remove():n(l),r&&i?r.merge(i).order():i}function eo(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,l=r.length,o=Math.min(i,l),a=new Array(i),u=0;u<o;++u)for(var s=n[u],f=r[u],c=s.length,h=a[u]=new Array(c),m,g=0;g<c;++g)(m=s[g]||f[g])&&(h[g]=m);for(;u<i;++u)a[u]=n[u];return new ee(a,this._parents)}function to(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,l=r[i],o;--i>=0;)(o=r[i])&&(l&&o.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(o,l),l=o);return this}function no(e){e||(e=ro);function t(c,h){return c&&h?e(c.__data__,h.__data__):!c-!h}for(var n=this._groups,r=n.length,i=new Array(r),l=0;l<r;++l){for(var o=n[l],a=o.length,u=i[l]=new Array(a),s,f=0;f<a;++f)(s=o[f])&&(u[f]=s);u.sort(t)}return new ee(i,this._parents).order()}function ro(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function io(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function oo(){return Array.from(this)}function lo(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,l=r.length;i<l;++i){var o=r[i];if(o)return o}return null}function ao(){let e=0;for(const t of this)++e;return e}function so(){return!this.node()}function uo(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],l=0,o=i.length,a;l<o;++l)(a=i[l])&&e.call(a,a.__data__,l,i);return this}function fo(e){return function(){this.removeAttribute(e)}}function co(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ho(e,t){return function(){this.setAttribute(e,t)}}function mo(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function po(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function go(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function _o(e,t){var n=tt(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?co:fo:typeof t=="function"?n.local?go:po:n.local?mo:ho)(n,t))}function In(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function vo(e){return function(){this.style.removeProperty(e)}}function yo(e,t,n){return function(){this.style.setProperty(e,t,n)}}function wo(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function bo(e,t,n){return arguments.length>1?this.each((t==null?vo:typeof t=="function"?wo:yo)(e,t,n==null?"":n)):xe(this.node(),e)}function xe(e,t){return e.style.getPropertyValue(t)||In(e).getComputedStyle(e,null).getPropertyValue(t)}function ko(e){return function(){delete this[e]}}function xo(e,t){return function(){this[e]=t}}function Mo(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Ao(e,t){return arguments.length>1?this.each((t==null?ko:typeof t=="function"?Mo:xo)(e,t)):this.node()[e]}function Ln(e){return e.trim().split(/^|\s+/)}function Vt(e){return e.classList||new Tn(e)}function Tn(e){this._node=e,this._names=Ln(e.getAttribute("class")||"")}Tn.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Hn(e,t){for(var n=Vt(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Bn(e,t){for(var n=Vt(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Eo(e){return function(){Hn(this,e)}}function No(e){return function(){Bn(this,e)}}function $o(e,t){return function(){(t.apply(this,arguments)?Hn:Bn)(this,e)}}function Co(e,t){var n=Ln(e+"");if(arguments.length<2){for(var r=Vt(this.node()),i=-1,l=n.length;++i<l;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?$o:t?Eo:No)(n,t))}function So(){this.textContent=""}function qo(e){return function(){this.textContent=e}}function Po(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function Fo(e){return arguments.length?this.each(e==null?So:(typeof e=="function"?Po:qo)(e)):this.node().textContent}function Ro(){this.innerHTML=""}function Io(e){return function(){this.innerHTML=e}}function Lo(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function To(e){return arguments.length?this.each(e==null?Ro:(typeof e=="function"?Lo:Io)(e)):this.node().innerHTML}function Ho(){this.nextSibling&&this.parentNode.appendChild(this)}function Bo(){return this.each(Ho)}function Do(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function zo(){return this.each(Do)}function Oo(e){var t=typeof e=="function"?e:Sn(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Xo(){return null}function Vo(e,t){var n=typeof e=="function"?e:Sn(e),r=t==null?Xo:typeof t=="function"?t:Xt(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Go(){var e=this.parentNode;e&&e.removeChild(this)}function Yo(){return this.each(Go)}function Jo(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Uo(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ko(e){return this.select(e?Uo:Jo)}function Wo(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Zo(e){return function(t){e.call(this,t,this.__data__)}}function Qo(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function jo(e){return function(){var t=this.__on;if(!!t){for(var n=0,r=-1,i=t.length,l;n<i;++n)l=t[n],(!e.type||l.type===e.type)&&l.name===e.name?this.removeEventListener(l.type,l.listener,l.options):t[++r]=l;++r?t.length=r:delete this.__on}}}function el(e,t,n){return function(){var r=this.__on,i,l=Zo(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=l,i.options=n),i.value=t;return}}this.addEventListener(e.type,l,n),i={type:e.type,name:e.name,value:t,listener:l,options:n},r?r.push(i):this.__on=[i]}}function tl(e,t,n){var r=Qo(e+""),i,l=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,s=a.length,f;u<s;++u)for(i=0,f=a[u];i<l;++i)if((o=r[i]).type===f.type&&o.name===f.name)return f.value}return}for(a=t?el:jo,i=0;i<l;++i)this.each(a(r[i],t,n));return this}function Dn(e,t,n){var r=In(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function nl(e,t){return function(){return Dn(this,e,t)}}function rl(e,t){return function(){return Dn(this,e,t.apply(this,arguments))}}function il(e,t){return this.each((typeof t=="function"?rl:nl)(e,t))}function*ol(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,l=r.length,o;i<l;++i)(o=r[i])&&(yield o)}var zn=[null];function ee(e,t){this._groups=e,this._parents=t}function He(){return new ee([[document.documentElement]],zn)}function ll(){return this}ee.prototype=He.prototype={constructor:ee,select:qi,selectAll:Ii,selectChild:Bi,selectChildren:Xi,filter:Vi,data:Wi,enter:Gi,exit:Qi,join:ji,merge:eo,selection:ll,order:to,sort:no,call:io,nodes:oo,node:lo,size:ao,empty:so,each:uo,attr:_o,style:bo,property:Ao,classed:Co,text:Fo,html:To,raise:Bo,lower:zo,append:Oo,insert:Vo,remove:Yo,clone:Ko,datum:Wo,on:tl,dispatch:il,[Symbol.iterator]:ol};function rt(e){return typeof e=="string"?new ee([[document.querySelector(e)]],[document.documentElement]):new ee([[e]],zn)}function Gt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function On(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Be(){}var De=.7,it=1/De,Me="\\s*([+-]?\\d+)\\s*",ze="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",se="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",al=/^#([0-9a-f]{3,8})$/,sl=new RegExp(`^rgb\\(${Me},${Me},${Me}\\)$`),ul=new RegExp(`^rgb\\(${se},${se},${se}\\)$`),fl=new RegExp(`^rgba\\(${Me},${Me},${Me},${ze}\\)$`),cl=new RegExp(`^rgba\\(${se},${se},${se},${ze}\\)$`),hl=new RegExp(`^hsl\\(${ze},${se},${se}\\)$`),dl=new RegExp(`^hsla\\(${ze},${se},${se},${ze}\\)$`),Xn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gt(Be,ne,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Vn,formatHex:Vn,formatHex8:ml,formatHsl:pl,formatRgb:Gn,toString:Gn});function Vn(){return this.rgb().formatHex()}function ml(){return this.rgb().formatHex8()}function pl(){return Wn(this).formatHsl()}function Gn(){return this.rgb().formatRgb()}function ne(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=al.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Yn(t):n===3?new W(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ot(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ot(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=sl.exec(e))?new W(t[1],t[2],t[3],1):(t=ul.exec(e))?new W(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=fl.exec(e))?ot(t[1],t[2],t[3],t[4]):(t=cl.exec(e))?ot(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hl.exec(e))?Kn(t[1],t[2]/100,t[3]/100,1):(t=dl.exec(e))?Kn(t[1],t[2]/100,t[3]/100,t[4]):Xn.hasOwnProperty(e)?Yn(Xn[e]):e==="transparent"?new W(NaN,NaN,NaN,0):null}function Yn(e){return new W(e>>16&255,e>>8&255,e&255,1)}function ot(e,t,n,r){return r<=0&&(e=t=n=NaN),new W(e,t,n,r)}function gl(e){return e instanceof Be||(e=ne(e)),e?(e=e.rgb(),new W(e.r,e.g,e.b,e.opacity)):new W}function Yt(e,t,n,r){return arguments.length===1?gl(e):new W(e,t,n,r==null?1:r)}function W(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Gt(W,Yt,On(Be,{brighter(e){return e=e==null?it:Math.pow(it,e),new W(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?De:Math.pow(De,e),new W(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new W(ve(this.r),ve(this.g),ve(this.b),lt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jn,formatHex:Jn,formatHex8:_l,formatRgb:Un,toString:Un}));function Jn(){return`#${ye(this.r)}${ye(this.g)}${ye(this.b)}`}function _l(){return`#${ye(this.r)}${ye(this.g)}${ye(this.b)}${ye((isNaN(this.opacity)?1:this.opacity)*255)}`}function Un(){const e=lt(this.opacity);return`${e===1?"rgb(":"rgba("}${ve(this.r)}, ${ve(this.g)}, ${ve(this.b)}${e===1?")":`, ${e})`}`}function lt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ve(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ye(e){return e=ve(e),(e<16?"0":"")+e.toString(16)}function Kn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new re(e,t,n,r)}function Wn(e){if(e instanceof re)return new re(e.h,e.s,e.l,e.opacity);if(e instanceof Be||(e=ne(e)),!e)return new re;if(e instanceof re)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),l=Math.max(t,n,r),o=NaN,a=l-i,u=(l+i)/2;return a?(t===l?o=(n-r)/a+(n<r)*6:n===l?o=(r-t)/a+2:o=(t-n)/a+4,a/=u<.5?l+i:2-l-i,o*=60):a=u>0&&u<1?0:o,new re(o,a,u,e.opacity)}function vl(e,t,n,r){return arguments.length===1?Wn(e):new re(e,t,n,r==null?1:r)}function re(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Gt(re,vl,On(Be,{brighter(e){return e=e==null?it:Math.pow(it,e),new re(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?De:Math.pow(De,e),new re(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new W(Jt(e>=240?e-240:e+120,i,r),Jt(e,i,r),Jt(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new re(Zn(this.h),at(this.s),at(this.l),lt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lt(this.opacity);return`${e===1?"hsl(":"hsla("}${Zn(this.h)}, ${at(this.s)*100}%, ${at(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Zn(e){return e=(e||0)%360,e<0?e+360:e}function at(e){return Math.max(0,Math.min(1,e||0))}function Jt(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ut=e=>()=>e;function yl(e,t){return function(n){return e+n*t}}function wl(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function bl(e){return(e=+e)==1?Qn:function(t,n){return n-t?wl(t,n,e):Ut(isNaN(t)?n:t)}}function Qn(e,t){var n=t-e;return n?yl(e,n):Ut(isNaN(e)?t:e)}const st=function e(t){var n=bl(t);function r(i,l){var o=n((i=Yt(i)).r,(l=Yt(l)).r),a=n(i.g,l.g),u=n(i.b,l.b),s=Qn(i.opacity,l.opacity);return function(f){return i.r=o(f),i.g=a(f),i.b=u(f),i.opacity=s(f),i+""}}return r.gamma=e,r}(1);function kl(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(l){for(i=0;i<n;++i)r[i]=e[i]*(1-l)+t[i]*l;return r}}function xl(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ml(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),l=new Array(n),o;for(o=0;o<r;++o)i[o]=Zt(e[o],t[o]);for(;o<n;++o)l[o]=t[o];return function(a){for(o=0;o<r;++o)l[o]=i[o](a);return l}}function Al(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ie(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function El(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Zt(e[i],t[i]):r[i]=t[i];return function(l){for(i in n)r[i]=n[i](l);return r}}var Kt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wt=new RegExp(Kt.source,"g");function Nl(e){return function(){return e}}function $l(e){return function(t){return e(t)+""}}function jn(e,t){var n=Kt.lastIndex=Wt.lastIndex=0,r,i,l,o=-1,a=[],u=[];for(e=e+"",t=t+"";(r=Kt.exec(e))&&(i=Wt.exec(t));)(l=i.index)>n&&(l=t.slice(n,l),a[o]?a[o]+=l:a[++o]=l),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:ie(r,i)})),n=Wt.lastIndex;return n<t.length&&(l=t.slice(n),a[o]?a[o]+=l:a[++o]=l),a.length<2?u[0]?$l(u[0].x):Nl(t):(t=u.length,function(s){for(var f=0,c;f<t;++f)a[(c=u[f]).i]=c.x(s);return a.join("")})}function Zt(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ut(t):(n==="number"?ie:n==="string"?(r=ne(t))?(t=r,st):jn:t instanceof ne?st:t instanceof Date?Al:xl(t)?kl:Array.isArray(t)?Ml:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?El:ie)(e,t)}function ut(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var er=180/Math.PI,Qt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function tr(e,t,n,r,i,l){var o,a,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:l,rotate:Math.atan2(t,e)*er,skewX:Math.atan(u)*er,scaleX:o,scaleY:a}}var ft;function Cl(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Qt:tr(t.a,t.b,t.c,t.d,t.e,t.f)}function Sl(e){return e==null||(ft||(ft=document.createElementNS("http://www.w3.org/2000/svg","g")),ft.setAttribute("transform",e),!(e=ft.transform.baseVal.consolidate()))?Qt:(e=e.matrix,tr(e.a,e.b,e.c,e.d,e.e,e.f))}function nr(e,t,n,r){function i(s){return s.length?s.pop()+" ":""}function l(s,f,c,h,m,g){if(s!==c||f!==h){var p=m.push("translate(",null,t,null,n);g.push({i:p-4,x:ie(s,c)},{i:p-2,x:ie(f,h)})}else(c||h)&&m.push("translate("+c+t+h+n)}function o(s,f,c,h){s!==f?(s-f>180?f+=360:f-s>180&&(s+=360),h.push({i:c.push(i(c)+"rotate(",null,r)-2,x:ie(s,f)})):f&&c.push(i(c)+"rotate("+f+r)}function a(s,f,c,h){s!==f?h.push({i:c.push(i(c)+"skewX(",null,r)-2,x:ie(s,f)}):f&&c.push(i(c)+"skewX("+f+r)}function u(s,f,c,h,m,g){if(s!==c||f!==h){var p=m.push(i(m)+"scale(",null,",",null,")");g.push({i:p-4,x:ie(s,c)},{i:p-2,x:ie(f,h)})}else(c!==1||h!==1)&&m.push(i(m)+"scale("+c+","+h+")")}return function(s,f){var c=[],h=[];return s=e(s),f=e(f),l(s.translateX,s.translateY,f.translateX,f.translateY,c,h),o(s.rotate,f.rotate,c,h),a(s.skewX,f.skewX,c,h),u(s.scaleX,s.scaleY,f.scaleX,f.scaleY,c,h),s=f=null,function(m){for(var g=-1,p=h.length,v;++g<p;)c[(v=h[g]).i]=v.x(m);return c.join("")}}}var ql=nr(Cl,"px, ","px)","deg)"),Pl=nr(Sl,", ",")",")"),Ae=0,Oe=0,Xe=0,rr=1e3,ct,Ve,ht=0,we=0,dt=0,Ge=typeof performance=="object"&&performance.now?performance:Date,ir=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function jt(){return we||(ir(Fl),we=Ge.now()+dt)}function Fl(){we=0}function mt(){this._call=this._time=this._next=null}mt.prototype=or.prototype={constructor:mt,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?jt():+n)+(t==null?0:+t),!this._next&&Ve!==this&&(Ve?Ve._next=this:ct=this,Ve=this),this._call=e,this._time=n,en()},stop:function(){this._call&&(this._call=null,this._time=1/0,en())}};function or(e,t,n){var r=new mt;return r.restart(e,t,n),r}function Rl(){jt(),++Ae;for(var e=ct,t;e;)(t=we-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ae}function lr(){we=(ht=Ge.now())+dt,Ae=Oe=0;try{Rl()}finally{Ae=0,Ll(),we=0}}function Il(){var e=Ge.now(),t=e-ht;t>rr&&(dt-=t,ht=e)}function Ll(){for(var e,t=ct,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ct=n);Ve=e,en(r)}function en(e){if(!Ae){Oe&&(Oe=clearTimeout(Oe));var t=e-we;t>24?(e<1/0&&(Oe=setTimeout(lr,e-Ge.now()-dt)),Xe&&(Xe=clearInterval(Xe))):(Xe||(ht=Ge.now(),Xe=setInterval(Il,rr)),Ae=1,ir(lr))}}function ar(e,t,n){var r=new mt;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Tl=Nn("start","end","cancel","interrupt"),Hl=[],sr=0,ur=1,tn=2,pt=3,fr=4,nn=5,gt=6;function _t(e,t,n,r,i,l){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Bl(e,n,{name:t,index:r,group:i,on:Tl,tween:Hl,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:sr})}function rn(e,t){var n=oe(e,t);if(n.state>sr)throw new Error("too late; already scheduled");return n}function ue(e,t){var n=oe(e,t);if(n.state>pt)throw new Error("too late; already running");return n}function oe(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Bl(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=or(l,0,n.time);function l(s){n.state=ur,n.timer.restart(o,n.delay,n.time),n.delay<=s&&o(s-n.delay)}function o(s){var f,c,h,m;if(n.state!==ur)return u();for(f in r)if(m=r[f],m.name===n.name){if(m.state===pt)return ar(o);m.state===fr?(m.state=gt,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[f]):+f<t&&(m.state=gt,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[f])}if(ar(function(){n.state===pt&&(n.state=fr,n.timer.restart(a,n.delay,n.time),a(s))}),n.state=tn,n.on.call("start",e,e.__data__,n.index,n.group),n.state===tn){for(n.state=pt,i=new Array(h=n.tween.length),f=0,c=-1;f<h;++f)(m=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++c]=m);i.length=c+1}}function a(s){for(var f=s<n.duration?n.ease.call(null,s/n.duration):(n.timer.restart(u),n.state=nn,1),c=-1,h=i.length;++c<h;)i[c].call(e,f);n.state===nn&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=gt,n.timer.stop(),delete r[t];for(var s in r)return;delete e.__transition}}function Dl(e,t){var n=e.__transition,r,i,l=!0,o;if(!!n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){l=!1;continue}i=r.state>tn&&r.state<nn,r.state=gt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}l&&delete e.__transition}}function zl(e){return this.each(function(){Dl(this,e)})}function Ol(e,t){var n,r;return function(){var i=ue(this,e),l=i.tween;if(l!==n){r=n=l;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Xl(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var l=ue(this,e),o=l.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},u=0,s=i.length;u<s;++u)if(i[u].name===t){i[u]=a;break}u===s&&i.push(a)}l.tween=i}}function Vl(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=oe(this.node(),n).tween,i=0,l=r.length,o;i<l;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?Ol:Xl)(n,e,t))}function on(e,t,n){var r=e._id;return e.each(function(){var i=ue(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return oe(i,r).value[t]}}function cr(e,t){var n;return(typeof t=="number"?ie:t instanceof ne?st:(n=ne(t))?(t=n,st):jn)(e,t)}function Gl(e){return function(){this.removeAttribute(e)}}function Yl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Jl(e,t,n){var r,i=n+"",l;return function(){var o=this.getAttribute(e);return o===i?null:o===r?l:l=t(r=o,n)}}function Ul(e,t,n){var r,i=n+"",l;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?l:l=t(r=o,n)}}function Kl(e,t,n){var r,i,l;return function(){var o,a=n(this),u;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=a+"",o===u?null:o===r&&u===i?l:(i=u,l=t(r=o,a)))}}function Wl(e,t,n){var r,i,l;return function(){var o,a=n(this),u;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=a+"",o===u?null:o===r&&u===i?l:(i=u,l=t(r=o,a)))}}function Zl(e,t){var n=tt(e),r=n==="transform"?Pl:cr;return this.attrTween(e,typeof t=="function"?(n.local?Wl:Kl)(n,r,on(this,"attr."+e,t)):t==null?(n.local?Yl:Gl)(n):(n.local?Ul:Jl)(n,r,t))}function Ql(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function jl(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ea(e,t){var n,r;function i(){var l=t.apply(this,arguments);return l!==r&&(n=(r=l)&&jl(e,l)),n}return i._value=t,i}function ta(e,t){var n,r;function i(){var l=t.apply(this,arguments);return l!==r&&(n=(r=l)&&Ql(e,l)),n}return i._value=t,i}function na(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=tt(e);return this.tween(n,(r.local?ea:ta)(r,t))}function ra(e,t){return function(){rn(this,e).delay=+t.apply(this,arguments)}}function ia(e,t){return t=+t,function(){rn(this,e).delay=t}}function oa(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ra:ia)(t,e)):oe(this.node(),t).delay}function la(e,t){return function(){ue(this,e).duration=+t.apply(this,arguments)}}function aa(e,t){return t=+t,function(){ue(this,e).duration=t}}function sa(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?la:aa)(t,e)):oe(this.node(),t).duration}function ua(e,t){if(typeof t!="function")throw new Error;return function(){ue(this,e).ease=t}}function fa(e){var t=this._id;return arguments.length?this.each(ua(t,e)):oe(this.node(),t).ease}function ca(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ue(this,e).ease=n}}function ha(e){if(typeof e!="function")throw new Error;return this.each(ca(this._id,e))}function da(e){typeof e!="function"&&(e=Pn(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var l=t[i],o=l.length,a=r[i]=[],u,s=0;s<o;++s)(u=l[s])&&e.call(u,u.__data__,s,l)&&a.push(u);return new he(r,this._parents,this._name,this._id)}function ma(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,l=Math.min(r,i),o=new Array(r),a=0;a<l;++a)for(var u=t[a],s=n[a],f=u.length,c=o[a]=new Array(f),h,m=0;m<f;++m)(h=u[m]||s[m])&&(c[m]=h);for(;a<r;++a)o[a]=t[a];return new he(o,this._parents,this._name,this._id)}function pa(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function ga(e,t,n){var r,i,l=pa(t)?rn:ue;return function(){var o=l(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function _a(e,t){var n=this._id;return arguments.length<2?oe(this.node(),n).on.on(e):this.each(ga(n,e,t))}function va(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function ya(){return this.on("end.remove",va(this._id))}function wa(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Xt(e));for(var r=this._groups,i=r.length,l=new Array(i),o=0;o<i;++o)for(var a=r[o],u=a.length,s=l[o]=new Array(u),f,c,h=0;h<u;++h)(f=a[h])&&(c=e.call(f,f.__data__,h,a))&&("__data__"in f&&(c.__data__=f.__data__),s[h]=c,_t(s[h],t,n,h,s,oe(f,n)));return new he(l,this._parents,t,n)}function ba(e){var t=this._name,n=this._id;typeof e!="function"&&(e=qn(e));for(var r=this._groups,i=r.length,l=[],o=[],a=0;a<i;++a)for(var u=r[a],s=u.length,f,c=0;c<s;++c)if(f=u[c]){for(var h=e.call(f,f.__data__,c,u),m,g=oe(f,n),p=0,v=h.length;p<v;++p)(m=h[p])&&_t(m,t,n,p,h,g);l.push(h),o.push(f)}return new he(l,o,t,n)}var ka=He.prototype.constructor;function xa(){return new ka(this._groups,this._parents)}function Ma(e,t){var n,r,i;return function(){var l=xe(this,e),o=(this.style.removeProperty(e),xe(this,e));return l===o?null:l===n&&o===r?i:i=t(n=l,r=o)}}function hr(e){return function(){this.style.removeProperty(e)}}function Aa(e,t,n){var r,i=n+"",l;return function(){var o=xe(this,e);return o===i?null:o===r?l:l=t(r=o,n)}}function Ea(e,t,n){var r,i,l;return function(){var o=xe(this,e),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(e),xe(this,e))),o===u?null:o===r&&u===i?l:(i=u,l=t(r=o,a))}}function Na(e,t){var n,r,i,l="style."+t,o="end."+l,a;return function(){var u=ue(this,e),s=u.on,f=u.value[l]==null?a||(a=hr(t)):void 0;(s!==n||i!==f)&&(r=(n=s).copy()).on(o,i=f),u.on=r}}function $a(e,t,n){var r=(e+="")=="transform"?ql:cr;return t==null?this.styleTween(e,Ma(e,r)).on("end.style."+e,hr(e)):typeof t=="function"?this.styleTween(e,Ea(e,r,on(this,"style."+e,t))).each(Na(this._id,e)):this.styleTween(e,Aa(e,r,t),n).on("end.style."+e,null)}function Ca(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Sa(e,t,n){var r,i;function l(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&Ca(e,o,n)),r}return l._value=t,l}function qa(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Sa(e,t,n==null?"":n))}function Pa(e){return function(){this.textContent=e}}function Fa(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function Ra(e){return this.tween("text",typeof e=="function"?Fa(on(this,"text",e)):Pa(e==null?"":e+""))}function Ia(e){return function(t){this.textContent=e.call(this,t)}}function La(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Ia(i)),t}return r._value=e,r}function Ta(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,La(e))}function Ha(){for(var e=this._name,t=this._id,n=dr(),r=this._groups,i=r.length,l=0;l<i;++l)for(var o=r[l],a=o.length,u,s=0;s<a;++s)if(u=o[s]){var f=oe(u,t);_t(u,e,n,s,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new he(r,this._parents,e,n)}function Ba(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(l,o){var a={value:o},u={value:function(){--i===0&&l()}};n.each(function(){var s=ue(this,r),f=s.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),s.on=t}),i===0&&l()})}var Da=0;function he(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function dr(){return++Da}var de=He.prototype;he.prototype={constructor:he,select:wa,selectAll:ba,selectChild:de.selectChild,selectChildren:de.selectChildren,filter:da,merge:ma,selection:xa,transition:Ha,call:de.call,nodes:de.nodes,node:de.node,size:de.size,empty:de.empty,each:de.each,on:_a,attr:Zl,attrTween:na,style:$a,styleTween:qa,text:Ra,textTween:Ta,remove:ya,tween:Vl,delay:oa,duration:sa,ease:fa,easeVarying:ha,end:Ba,[Symbol.iterator]:de[Symbol.iterator]};function za(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Oa={time:null,delay:0,duration:250,ease:za};function Xa(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Va(e){var t,n;e instanceof he?(t=e._id,e=e._name):(t=dr(),(n=Oa).time=jt(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,l=0;l<i;++l)for(var o=r[l],a=o.length,u,s=0;s<a;++s)(u=o[s])&&_t(u,e,t,s,o,n||Xa(u,t));return new he(r,this._parents,e,t)}He.prototype.interrupt=zl,He.prototype.transition=Va;function Ga(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function vt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ee(e){return e=vt(Math.abs(e)),e?e[1]:NaN}function Ya(e,t){return function(n,r){for(var i=n.length,l=[],o=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),l.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=e[o=(o+1)%e.length];return l.reverse().join(t)}}function Ja(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Ua=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yt(e){if(!(t=Ua.exec(e)))throw new Error("invalid format: "+e);var t;return new ln({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yt.prototype=ln.prototype;function ln(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ln.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ka(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var mr;function Wa(e,t){var n=vt(e,t);if(!n)return e+"";var r=n[0],i=n[1],l=i-(mr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return l===o?r:l>o?r+new Array(l-o+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+vt(e,Math.max(0,t+l-1))[0]}function pr(e,t){var n=vt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const gr={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ga,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>pr(e*100,t),r:pr,s:Wa,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function _r(e){return e}var vr=Array.prototype.map,yr=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Za(e){var t=e.grouping===void 0||e.thousands===void 0?_r:Ya(vr.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?_r:Ja(vr.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"\u2212":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function s(c){c=yt(c);var h=c.fill,m=c.align,g=c.sign,p=c.symbol,v=c.zero,k=c.width,b=c.comma,M=c.precision,H=c.trim,A=c.type;A==="n"?(b=!0,A="g"):gr[A]||(M===void 0&&(M=12),H=!0,A="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var y=p==="$"?n:p==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",$=p==="$"?r:/[%p]/.test(A)?o:"",x=gr[A],w=/[defgprs%]/.test(A);M=M===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function O(E){var B=y,q=$,le,ke,me;if(A==="c")q=x(E)+q,E="";else{E=+E;var pe=E<0||1/E<0;if(E=isNaN(E)?u:x(Math.abs(E),M),H&&(E=Ka(E)),pe&&+E==0&&g!=="+"&&(pe=!1),B=(pe?g==="("?g:a:g==="-"||g==="("?"":g)+B,q=(A==="s"?yr[8+mr/3]:"")+q+(pe&&g==="("?")":""),w){for(le=-1,ke=E.length;++le<ke;)if(me=E.charCodeAt(le),48>me||me>57){q=(me===46?i+E.slice(le+1):E.slice(le))+q,E=E.slice(0,le);break}}}b&&!v&&(E=t(E,1/0));var U=B.length+E.length+q.length,Z=U<k?new Array(k-U+1).join(h):"";switch(b&&v&&(E=t(Z+E,Z.length?k-q.length:1/0),Z=""),m){case"<":E=B+E+q+Z;break;case"=":E=B+Z+E+q;break;case"^":E=Z.slice(0,U=Z.length>>1)+B+E+q+Z.slice(U);break;default:E=Z+B+E+q;break}return l(E)}return O.toString=function(){return c+""},O}function f(c,h){var m=s((c=yt(c),c.type="f",c)),g=Math.max(-8,Math.min(8,Math.floor(Ee(h)/3)))*3,p=Math.pow(10,-g),v=yr[8+g/3];return function(k){return m(p*k)+v}}return{format:s,formatPrefix:f}}var wt,wr,br;Qa({thousands:",",grouping:[3],currency:["$",""]});function Qa(e){return wt=Za(e),wr=wt.format,br=wt.formatPrefix,wt}function ja(e){return Math.max(0,-Ee(Math.abs(e)))}function es(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ee(t)/3)))*3-Ee(Math.abs(e)))}function ts(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ee(t)-Ee(e))+1}function an(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const kr=Symbol("implicit");function xr(){var e=new wn,t=[],n=[],r=kr;function i(l){let o=e.get(l);if(o===void 0){if(r!==kr)return r;e.set(l,o=t.push(l)-1)}return n[o%n.length]}return i.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new wn;for(const o of l)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(l){return arguments.length?(n=Array.from(l),i):n.slice()},i.unknown=function(l){return arguments.length?(r=l,i):r},i.copy=function(){return xr(t,n).unknown(r)},an.apply(i,arguments),i}function Mr(){var e=xr().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,l,o,a=!1,u=0,s=0,f=.5;delete e.unknown;function c(){var h=t().length,m=i<r,g=m?i:r,p=m?r:i;l=(p-g)/Math.max(1,h-u+s*2),a&&(l=Math.floor(l)),g+=(p-g-l*(h-u))*f,o=l*(1-u),a&&(g=Math.round(g),o=Math.round(o));var v=vi(h).map(function(k){return g+l*k});return n(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),c()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,c()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,c()},e.bandwidth=function(){return o},e.step=function(){return l},e.round=function(h){return arguments.length?(a=!!h,c()):a},e.padding=function(h){return arguments.length?(u=Math.min(1,s=+h),c()):u},e.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),c()):u},e.paddingOuter=function(h){return arguments.length?(s=+h,c()):s},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),c()):f},e.copy=function(){return Mr(t(),[r,i]).round(a).paddingInner(u).paddingOuter(s).align(f)},an.apply(c(),arguments)}function ns(e){return function(){return e}}function rs(e){return+e}var Ar=[0,1];function Ne(e){return e}function sn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:ns(isNaN(t)?NaN:.5)}function is(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function os(e,t,n){var r=e[0],i=e[1],l=t[0],o=t[1];return i<r?(r=sn(i,r),l=n(o,l)):(r=sn(r,i),l=n(l,o)),function(a){return l(r(a))}}function ls(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),l=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=sn(e[o],e[o+1]),l[o]=n(t[o],t[o+1]);return function(a){var u=hi(e,a,1,r)-1;return l[u](i[u](a))}}function as(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ss(){var e=Ar,t=Ar,n=Zt,r,i,l,o=Ne,a,u,s;function f(){var h=Math.min(e.length,t.length);return o!==Ne&&(o=is(e[0],e[h-1])),a=h>2?ls:os,u=s=null,c}function c(h){return h==null||isNaN(h=+h)?l:(u||(u=a(e.map(r),t,n)))(r(o(h)))}return c.invert=function(h){return o(i((s||(s=a(t,e.map(r),ie)))(h)))},c.domain=function(h){return arguments.length?(e=Array.from(h,rs),f()):e.slice()},c.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},c.rangeRound=function(h){return t=Array.from(h),n=ut,f()},c.clamp=function(h){return arguments.length?(o=h?!0:Ne,f()):o!==Ne},c.interpolate=function(h){return arguments.length?(n=h,f()):n},c.unknown=function(h){return arguments.length?(l=h,c):l},function(h,m){return r=h,i=m,f()}}function us(){return ss()(Ne,Ne)}function fs(e,t,n,r){var i=_i(e,t,n),l;switch(r=yt(r==null?",f":r),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(l=es(i,o))&&(r.precision=l),br(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=ts(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=ja(i))&&(r.precision=l-(r.type==="%")*2);break}}return wr(r)}function cs(e){var t=e.domain;return e.ticks=function(n){var r=t();return gi(r[0],r[r.length-1],n==null?10:n)},e.tickFormat=function(n,r){var i=t();return fs(i[0],i[i.length-1],n==null?10:n,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,l=r.length-1,o=r[i],a=r[l],u,s,f=10;for(a<o&&(s=o,o=a,a=s,s=i,i=l,l=s);f-- >0;){if(s=kn(o,a,n),s===u)return r[i]=o,r[l]=a,t(r);if(s>0)o=Math.floor(o/s)*s,a=Math.ceil(a/s)*s;else if(s<0)o=Math.ceil(o*s)/s,a=Math.floor(a*s)/s;else break;u=s}return e},e}function bt(){var e=us();return e.copy=function(){return as(e,bt())},an.apply(e,arguments),cs(e)}function $e(e,t,n){this.k=e,this.x=t,this.y=n}$e.prototype={constructor:$e,scale:function(e){return e===1?this:new $e(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new $e(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new $e(1,0,0),$e.prototype;const Ce=[];function Er(e,t=I){let n;const r=new Set;function i(a){if(K(e,a)&&(e=a,n)){const u=!Ce.length;for(const s of r)s[1](),Ce.push(s,e);if(u){for(let s=0;s<Ce.length;s+=2)Ce[s][0](Ce[s+1]);Ce.length=0}}}function l(a){i(a(e))}function o(a,u=I){const s=[a,u];return r.add(s),r.size===1&&(n=t(i)||I),a(e),()=>{r.delete(s),r.size===0&&(n(),n=null)}}return{set:i,update:l,subscribe:o}}const Nr=[{name:"Emmanuel Macron",value:1.03},{name:"Marine Le Pen",value:12.81},{name:"Fran\xE7ois Fillon",value:4.33},{name:"Jean-Luc M\xE9lenchon",value:.44},{name:"Beno\xEEt Hamon",value:.32},{name:"Nathalie Arthaud",value:1.79},{name:"Philippe Poutou",value:.49},{name:"Jacques Cheminade",value:1.09},{name:"Fran\xE7ois Asselineau",value:.64},{name:"Nicolas Dupont-Aignan",value:4.1},{name:"Jean Lassalle",value:1.98}],be=[{methodId:"borda4",methodName:"Borda 4",description:"M\xE9thode de vote o\xF9 les participants doivent classer jusqu'\xE0 leurs 4 candidats pr\xE9f\xE9r\xE9s dans leur ordre de pr\xE9f\xE9rence. Pour d\xE9cider du candidat gagnant, on somme pour chaque candidat le nombre de votants les ayant choisi en tant que premier vote. Celui ayant le moins de votes est \xE9limin\xE9, et ses votes sont redistribu\xE9s aux autres candidats en fonction des votes suivant des votants ayant vot\xE9 pour le candidat \xE9limin\xE9. Les candidats sont ainsi \xE9limin\xE9s un \xE0 un jusqu'\xE0 ce qu'il y en ait un qui a la majorit\xE9.",results:[{name:"Emmanuel Macron",value:24.01},{name:"Marine Le Pen",value:5.3},{name:"Fran\xE7ois Fillon",value:19.95},{name:"Jean-Luc M\xE9lenchon",value:19.6},{name:"Beno\xEEt Hamon",value:6.36},{name:"Nathalie Arthaud",value:.93},{name:"Philippe Poutou",value:.9},{name:"Jacques Cheminade",value:.6},{name:"Fran\xE7ois Asselineau",value:.55},{name:"Nicolas Dupont-Aignan",value:.54},{name:"Jean Lassalle",value:.17}],unit:"PERCENT"},{methodId:"approval",methodName:"Approval",description:"M\xE9thode de vote o\xF9 les participants doivent indiquer s'ils \xE9taient favorable ou non au candidat, pour chaque candidat.",results:[{name:"Emmanuel Macron",value:13.61},{name:"Marine Le Pen",value:1.57},{name:"Fran\xE7ois Fillon",value:3.61},{name:"Jean-Luc M\xE9lenchon",value:25.16},{name:"Beno\xEEt Hamon",value:23.92},{name:"Nathalie Arthaud",value:7.07},{name:"Philippe Poutou",value:13.55},{name:"Jacques Cheminade",value:2.01},{name:"Fran\xE7ois Asselineau",value:2.44},{name:"Nicolas Dupont-Aignan",value:3.09},{name:"Jean Lassalle",value:3.97}],unit:"PERCENT"},{methodId:"ev101",methodName:"Evaluation Voting -1/0/1",description:"M\xE9thode de vote o\xF9 les participants doivent donner un score \xE0 chaque candidat: -1, 0 ou 1.",results:[{name:"Emmanuel Macron",value:20.01},{name:"Marine Le Pen",value:3.3},{name:"Fran\xE7ois Fillon",value:20.95},{name:"Jean-Luc M\xE9lenchon",value:20.6},{name:"Beno\xEEt Hamon",value:6.36},{name:"Nathalie Arthaud",value:.93},{name:"Philippe Poutou",value:.9},{name:"Jacques Cheminade",value:.6},{name:"Fran\xE7ois Asselineau",value:.55},{name:"Nicolas Dupont-Aignan",value:.54},{name:"Jean Lassalle",value:.17}],unit:"PERCENT"}],hs=[{name:"Nathalie Arthaud",color:"#bb0000"},{name:"Fran\xE7ois Asselineau",color:"#118088"},{name:"Jacques Cheminade",color:"#26c4ec"},{name:"Nicolas Dupont-Aignan",color:"#0082C4"},{name:"Fran\xE7ois Fillon",color:"#0066cc"},{name:"Beno\xEEt Hamon",color:"#FF8080"},{name:"Jean Lassalle",color:"#a5c1df"},{name:"Marine Le Pen",color:"#0D378A"},{name:"Emmanuel Macron",color:"#ffd600"},{name:"Jean-Luc M\xE9lenchon",color:"#cc2443"},{name:"Philippe Poutou",color:"#dd0000"}],$r=be[0].results.map(e=>({name:e.name,color:hs.find(t=>t.name===e.name).color})),Cr=$r.map(e=>({name:e.name,color:e.color,data:be.map(t=>({methodId:t.methodId,value:t.results.find(n=>n.name===e.name).value}))})),fe=Er({biasCorrection:!1,comparison:0,methods:new Array(be.length).fill(!1,2).fill(!0,0,2),methods2:[0,1]}),kt=Er(null);function Se(e){return e%1===0?e:e.toFixed(2)+"%"}const su="";function Sr(e,t,n){const r=e.slice();r[22]=t[n];const i=ne(r[22].color).darker(.4).formatHex();return r[23]=i,r}function qr(e,t,n){const r=e.slice();r[26]=t[n],r[31]=n;const i=r[10].methods[r[31]];r[27]=i;const l=r[5].bandwidth()/r[11];r[28]=l;const o=(()=>{let a=0;for(let u=0;u<r[31];u++)a+=r[10].methods[u]?1:0;return a})();return r[29]=o,r}function Pr(e){let t,n,r,i,l,o,a=Se(e[26].value)+"",u,s,f;return{c(){t=L("g"),n=L("line"),o=L("text"),u=G(a),d(n,"x1",r=e[5](e[22].name)+e[29]*e[28]+e[28]/2),d(n,"y1",28),d(n,"x2",i=e[5](e[22].name)+e[29]*e[28]+e[28]/2),d(n,"y2",l=e[6](e[26].value)-2),d(n,"class","svelte-1f6mogu"),d(o,"x",s=e[5](e[22].name)+e[29]*e[28]+e[28]/2),d(o,"y",15),d(o,"fill",f=e[23]),d(o,"dominant-baseline","middle"),d(o,"text-anchor","middle"),d(t,"class","tooltip svelte-1f6mogu")},m(c,h){F(c,t,h),_(t,n),_(t,o),_(o,u)},p(c,h){h[0]&3105&&r!==(r=c[5](c[22].name)+c[29]*c[28]+c[28]/2)&&d(n,"x1",r),h[0]&3105&&i!==(i=c[5](c[22].name)+c[29]*c[28]+c[28]/2)&&d(n,"x2",i),h[0]&65&&l!==(l=c[6](c[26].value)-2)&&d(n,"y2",l),h[0]&1&&a!==(a=Se(c[26].value)+"")&&te(u,a),h[0]&3105&&s!==(s=c[5](c[22].name)+c[29]*c[28]+c[28]/2)&&d(o,"x",s),h[0]&1&&f!==(f=c[23])&&d(o,"fill",f)},d(c){c&&P(t)}}}function Fr(e){let t,n,r,i,l,o,a,u,s,f,c,h,m;function g(){return e[18](e[26],e[23])}let p=e[27]&&Pr(e);return{c(){t=L("rect"),o=L("rect"),p&&p.c(),c=mn(),d(t,"x",n=e[5](e[22].name)+e[29]*e[28]),d(t,"y",r=e[27]?e[6](e[26].value):e[7]-e[14].bottom),d(t,"width",i=e[27]?e[28]:0),d(t,"height",l=e[27]?e[6](0)-e[6](e[26].value)-1:0),z(t,"transition","all 0.5s ease-in-out"),d(o,"class","bar-zone svelte-1f6mogu"),d(o,"x",a=e[5](e[22].name)+e[29]*e[28]),d(o,"y",u=e[27]?e[14].top:e[7]-e[14].bottom),d(o,"width",s=e[27]?e[28]:0),d(o,"height",f=e[27]?e[6](0)-e[14].bottom:0)},m(v,k){F(v,t,k),F(v,o,k),p&&p.m(v,k),F(v,c,k),h||(m=[Y(o,"mouseenter",g),Y(o,"mouseleave",e[19])],h=!0)},p(v,k){e=v,k[0]&3105&&n!==(n=e[5](e[22].name)+e[29]*e[28])&&d(t,"x",n),k[0]&1217&&r!==(r=e[27]?e[6](e[26].value):e[7]-e[14].bottom)&&d(t,"y",r),k[0]&3104&&i!==(i=e[27]?e[28]:0)&&d(t,"width",i),k[0]&1089&&l!==(l=e[27]?e[6](0)-e[6](e[26].value)-1:0)&&d(t,"height",l),k[0]&3105&&a!==(a=e[5](e[22].name)+e[29]*e[28])&&d(o,"x",a),k[0]&1152&&u!==(u=e[27]?e[14].top:e[7]-e[14].bottom)&&d(o,"y",u),k[0]&3104&&s!==(s=e[27]?e[28]:0)&&d(o,"width",s),k[0]&1088&&f!==(f=e[27]?e[6](0)-e[14].bottom:0)&&d(o,"height",f),e[27]?p?p.p(e,k):(p=Pr(e),p.c(),p.m(c.parentNode,c)):p&&(p.d(1),p=null)},d(v){v&&P(t),v&&P(o),p&&p.d(v),v&&P(c),h=!1,ae(m)}}}function Rr(e){let t,n,r=e[22].data,i=[];for(let l=0;l<r.length;l+=1)i[l]=Fr(qr(e,r,l));return{c(){t=L("g");for(let l=0;l<i.length;l+=1)i[l].c();d(t,"fill",n=e[22].color),z(t,"stroke",e[23]),d(t,"stroke-width",3),d(t,"stroke-linejoin","round"),d(t,"class","svelte-1f6mogu")},m(l,o){F(l,t,o);for(let a=0;a<i.length;a+=1)i[a].m(t,null)},p(l,o){if(o[0]&23777){r=l[22].data;let a;for(a=0;a<r.length;a+=1){const u=qr(l,r,a);i[a]?i[a].p(u,o):(i[a]=Fr(u),i[a].c(),i[a].m(t,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}o[0]&1&&n!==(n=l[22].color)&&d(t,"fill",n),o[0]&1&&z(t,"stroke",l[23])},d(l){l&&P(t),Pe(i,l)}}}function ds(e){let t,n,r,i,l,o,a;Le(e[17]);let u=e[0],s=[];for(let f=0;f<u.length;f+=1)s[f]=Rr(Sr(e,u,f));return{c(){t=L("svg");for(let f=0;f<s.length;f+=1)s[f].c();n=L("g"),r=L("g"),d(n,"transform","translate("+e[14].left+", 0)"),d(n,"class","svelte-1f6mogu"),d(r,"transform",i="translate(0, "+(e[7]-e[14].bottom)+")"),d(r,"class","svelte-1f6mogu"),d(t,"viewBox",l="0 0 "+e[8]+" "+e[7]),z(t,"max-width",e[8]+"px"),z(t,"margin-top",e[9].vertical-e[13]/2+"px"),d(t,"class","svelte-1f6mogu")},m(f,c){F(f,t,c);for(let h=0;h<s.length;h+=1)s[h].m(t,null);_(t,n),e[20](n),_(t,r),e[21](r),o||(a=Y(window,"resize",e[17]),o=!0)},p(f,c){if(c[0]&23777){u=f[0];let h;for(h=0;h<u.length;h+=1){const m=Sr(f,u,h);s[h]?s[h].p(m,c):(s[h]=Rr(m),s[h].c(),s[h].m(t,n))}for(;h<s.length;h+=1)s[h].d(1);s.length=u.length}c[0]&128&&i!==(i="translate(0, "+(f[7]-f[14].bottom)+")")&&d(r,"transform",i),c[0]&384&&l!==(l="0 0 "+f[8]+" "+f[7])&&d(t,"viewBox",l),c[0]&256&&z(t,"max-width",f[8]+"px"),c[0]&512&&z(t,"margin-top",f[9].vertical-f[13]/2+"px")},i:I,o:I,d(f){f&&P(t),Pe(s,f),e[20](null),e[21](null),o=!1,a()}}}function ms(e,t,n){let r,i,l,o,a,u,s,f,c,h;ge(e,fe,w=>n(10,c=w)),ge(e,kt,w=>n(12,h=w));let{dataByCandidate:m}=t,g=800,p=600,v=60,k={top:40,right:5,bottom:40,left:40},b,M;function H(){n(2,p=window.innerHeight),n(1,g=window.innerWidth)}const A=(w,O)=>{qe(kt,h={methodId:w.methodId,color:O},h)},y=()=>{qe(kt,h=null,h)};function $(w){ce[w?"unshift":"push"](()=>{b=w,n(3,b)})}function x(w){ce[w?"unshift":"push"](()=>{M=w,n(4,M)})}return e.$$set=w=>{"dataByCandidate"in w&&n(0,m=w.dataByCandidate)},e.$$.update=()=>{e.$$.dirty[0]&4&&n(9,r={horizontal:200,vertical:p/7}),e.$$.dirty[0]&514&&n(8,i=g-r.horizontal*2),e.$$.dirty[0]&516&&n(7,l=p-r.vertical*2),e.$$.dirty[0]&1024&&n(11,o=c.methods.filter(w=>w).length),e.$$.dirty[0]&257&&n(5,a=Mr().domain(m.map(w=>w.name)).range([k.left,i-k.right]).padding(.1)),e.$$.dirty[0]&1153&&n(6,u=bt().domain([0,je(m,w=>je(w.data.filter((O,E)=>c.methods[E]),O=>O.value))]).range([l-k.bottom,k.top]).interpolate(ut)),e.$$.dirty[0]&72&&n(16,s=rt(b).call(En(u).tickFormat(w=>`${w}%`))),e.$$.dirty[0]&48&&n(15,f=rt(M).call(An(a))),e.$$.dirty[0]&65536&&s.selectAll("path, line").attr("style","stroke: var(--primary)"),e.$$.dirty[0]&32768&&f.selectAll("path, line").attr("style","stroke: var(--primary)"),e.$$.dirty[0]&32768&&f.selectAll(".tick:nth-child(odd) text").attr("dy",18),e.$$.dirty[0]&32768&&f.selectAll(".tick:nth-child(odd) line").attr("y2",16)},[m,g,p,b,M,a,u,l,i,r,c,o,h,v,k,f,s,H,A,y,$,x]}class ps extends j{constructor(t){super(),Q(this,t,ms,ds,K,{dataByCandidate:0},null,[-1,-1])}}const uu="";function Ir(e,t,n){const r=e.slice();r[22]=t[n],r[26]=n;const i=ne(r[22].color).darker(.6).formatHex();r[23]=i;const l=ne(r[22].color).darker(.4).formatHex();return r[24]=l,r}function Lr(e,t,n){const r=e.slice();r[22]=t[n],r[26]=n;const i=r[7](r[1].results[r[26]].value);r[27]=i;const l=r[8](r[2].results[r[26]].value);r[28]=l;const o=ne(r[22].color).darker(.4).formatHex();return r[24]=o,r}function Tr(e){let t,n,r,i,l,o,a,u,s,f,c,h=e[22].name+"",m,g,p,v,k,b,M,H,A,y,$,x,w=Se(e[2].results[e[26]].value)+"",O,E,B,q,le,ke,me,pe,U,Z=Se(e[1].results[e[26]].value)+"",un,xt,Mt,At,Et,Nt,$t;return{c(){t=L("g"),n=L("circle"),o=L("g"),a=L("line"),c=L("text"),m=G(h),k=L("g"),b=L("line"),y=L("rect"),x=L("text"),O=G(w),q=L("line"),U=L("text"),un=G(Z),d(n,"cx",r=e[27]),d(n,"cy",i=e[28]),d(n,"r",4),d(n,"stroke",l=e[24]),d(n,"stroke-width","2"),d(n,"class","svelte-vmkurr"),Ye(n,"active",e[12]===e[22].name),z(n,"transition","all 0.5s ease-in-out"),d(a,"x1",u=e[27]),d(a,"y1",28),d(a,"x2",s=e[27]),d(a,"y2",f=e[28]),d(a,"class","svelte-vmkurr"),d(c,"fill",g=e[24]),d(c,"x",p=e[27]),d(c,"y",15),d(c,"dominant-baseline","middle"),d(c,"text-anchor",v=e[27]<100?"start":e[10]-e[27]<100?"end":"middle"),d(b,"x1",e[14].left-5),d(b,"y1",M=e[28]),d(b,"x2",H=e[27]),d(b,"y2",A=e[28]),d(b,"stroke-width",2),d(b,"class","svelte-vmkurr"),d(y,"fill","white"),d(y,"stroke-width",0),d(y,"x",0),d(y,"y",$=e[28]-10),d(y,"width",e[14].left-8),d(y,"height",16),d(x,"x",e[14].left-8),d(x,"y",E=e[28]),d(x,"dominant-baseline","middle"),d(x,"text-anchor","end"),d(x,"fill",B=e[24]),d(q,"x1",le=e[27]),d(q,"y1",ke=e[28]),d(q,"x2",me=e[27]),d(q,"y2",pe=e[9]-18),d(q,"stroke-width",2),d(q,"class","svelte-vmkurr"),d(U,"x",xt=e[27]),d(U,"y",Mt=e[9]-5),d(U,"text-anchor","middle"),d(U,"fill",At=e[24]),d(k,"class","percentages svelte-vmkurr"),d(o,"class","tooltip svelte-vmkurr"),d(o,"stroke",Et=e[22].color),d(o,"fill",Nt=e[22].color),d(o,"font-weight",700),d(t,"fill",$t=e[22].color),d(t,"class","svelte-vmkurr")},m(N,S){F(N,t,S),_(t,n),_(t,o),_(o,a),_(o,c),_(c,m),_(o,k),_(k,b),_(k,y),_(k,x),_(x,O),_(k,q),_(k,U),_(U,un)},p(N,S){S&130&&r!==(r=N[27])&&d(n,"cx",r),S&260&&i!==(i=N[28])&&d(n,"cy",i),S&1&&l!==(l=N[24])&&d(n,"stroke",l),S&4097&&Ye(n,"active",N[12]===N[22].name),S&130&&u!==(u=N[27])&&d(a,"x1",u),S&130&&s!==(s=N[27])&&d(a,"x2",s),S&260&&f!==(f=N[28])&&d(a,"y2",f),S&1&&h!==(h=N[22].name+"")&&te(m,h),S&1&&g!==(g=N[24])&&d(c,"fill",g),S&130&&p!==(p=N[27])&&d(c,"x",p),S&1154&&v!==(v=N[27]<100?"start":N[10]-N[27]<100?"end":"middle")&&d(c,"text-anchor",v),S&260&&M!==(M=N[28])&&d(b,"y1",M),S&130&&H!==(H=N[27])&&d(b,"x2",H),S&260&&A!==(A=N[28])&&d(b,"y2",A),S&260&&$!==($=N[28]-10)&&d(y,"y",$),S&4&&w!==(w=Se(N[2].results[N[26]].value)+"")&&te(O,w),S&260&&E!==(E=N[28])&&d(x,"y",E),S&1&&B!==(B=N[24])&&d(x,"fill",B),S&130&&le!==(le=N[27])&&d(q,"x1",le),S&260&&ke!==(ke=N[28])&&d(q,"y1",ke),S&130&&me!==(me=N[27])&&d(q,"x2",me),S&512&&pe!==(pe=N[9]-18)&&d(q,"y2",pe),S&2&&Z!==(Z=Se(N[1].results[N[26]].value)+"")&&te(un,Z),S&130&&xt!==(xt=N[27])&&d(U,"x",xt),S&512&&Mt!==(Mt=N[9]-5)&&d(U,"y",Mt),S&1&&At!==(At=N[24])&&d(U,"fill",At),S&1&&Et!==(Et=N[22].color)&&d(o,"stroke",Et),S&1&&Nt!==(Nt=N[22].color)&&d(o,"fill",Nt),S&1&&$t!==($t=N[22].color)&&d(t,"fill",$t)},d(N){N&&P(t)}}}function Hr(e){let t,n,r,i,l,o,a,u=e[22].name+"",s,f,c,h;function m(){return e[20](e[22])}return{c(){t=C("div"),n=L("svg"),r=L("circle"),o=D(),a=C("span"),s=G(u),f=D(),d(r,"fill",i=e[22].color),d(r,"cx","5.1"),d(r,"cy","5.1"),d(r,"r","4"),d(r,"stroke",l=e[24]),d(r,"stroke-width","2"),d(n,"viewBox","0 0 10.2 10.2"),z(n,"width","10.2px"),z(a,"color",e[23]),d(t,"class","candidate-legend svelte-vmkurr")},m(g,p){F(g,t,p),_(t,n),_(n,r),_(t,o),_(t,a),_(a,s),_(t,f),c||(h=[Y(t,"mouseenter",m),Y(t,"mouseleave",e[21])],c=!0)},p(g,p){e=g,p&1&&i!==(i=e[22].color)&&d(r,"fill",i),p&1&&l!==(l=e[24])&&d(r,"stroke",l),p&1&&u!==(u=e[22].name+"")&&te(s,u),p&1&&z(a,"color",e[23])},d(g){g&&P(t),c=!1,ae(h)}}}function gs(e){let t,n,r,i=e[1].methodName+"",l,o,a,u=e[2].methodName+"",s,f,c,h,m,g,p,v,k;Le(e[17]);let b=e[0],M=[];for(let y=0;y<b.length;y+=1)M[y]=Tr(Lr(e,b,y));let H=e[0],A=[];for(let y=0;y<H.length;y+=1)A[y]=Hr(Ir(e,H,y));return{c(){t=C("div"),n=L("svg"),r=L("text"),l=G(i),a=L("text"),s=G(u),f=L("g"),c=L("g");for(let y=0;y<M.length;y+=1)M[y].c();g=D(),p=C("aside");for(let y=0;y<A.length;y+=1)A[y].c();d(r,"text-anchor","end"),d(r,"x",e[10]),d(r,"y",o=e[9]-5),d(r,"class","svelte-vmkurr"),d(a,"text-anchor","start"),d(a,"x",0),d(a,"y",23),d(a,"dominant-baseline","hanging"),d(a,"class","svelte-vmkurr"),d(f,"transform","translate("+e[14].left+", 0)"),d(f,"class","svelte-vmkurr"),d(c,"transform",h="translate(0, "+(e[9]-e[14].bottom)+")"),d(c,"class","svelte-vmkurr"),d(n,"viewBox",m="0 0 "+e[10]+" "+e[9]),z(n,"max-width",e[10]+"px"),z(n,"margin-top",e[11].vertical-e[13]/2+"px"),d(n,"class","svelte-vmkurr"),d(p,"class","legend svelte-vmkurr"),d(t,"class","container"),z(t,"width",e[10]+"px")},m(y,$){F(y,t,$),_(t,n),_(n,r),_(r,l),_(n,a),_(a,s),_(n,f),e[18](f),_(n,c),e[19](c);for(let x=0;x<M.length;x+=1)M[x].m(n,null);_(t,g),_(t,p);for(let x=0;x<A.length;x+=1)A[x].m(p,null);v||(k=Y(window,"resize",e[17]),v=!0)},p(y,[$]){if($&2&&i!==(i=y[1].methodName+"")&&te(l,i),$&1024&&d(r,"x",y[10]),$&512&&o!==(o=y[9]-5)&&d(r,"y",o),$&4&&u!==(u=y[2].methodName+"")&&te(s,u),$&512&&h!==(h="translate(0, "+(y[9]-y[14].bottom)+")")&&d(c,"transform",h),$&22407){b=y[0];let x;for(x=0;x<b.length;x+=1){const w=Lr(y,b,x);M[x]?M[x].p(w,$):(M[x]=Tr(w),M[x].c(),M[x].m(n,null))}for(;x<M.length;x+=1)M[x].d(1);M.length=b.length}if($&1536&&m!==(m="0 0 "+y[10]+" "+y[9])&&d(n,"viewBox",m),$&1024&&z(n,"max-width",y[10]+"px"),$&2048&&z(n,"margin-top",y[11].vertical-y[13]/2+"px"),$&4097){H=y[0];let x;for(x=0;x<H.length;x+=1){const w=Ir(y,H,x);A[x]?A[x].p(w,$):(A[x]=Hr(w),A[x].c(),A[x].m(p,null))}for(;x<A.length;x+=1)A[x].d(1);A.length=H.length}$&1024&&z(t,"width",y[10]+"px")},i:I,o:I,d(y){y&&P(t),e[18](null),e[19](null),Pe(M,y),Pe(A,y),v=!1,k()}}}let Br=2;function _s(e,t,n){let r,i,l,o,a,u,s,{candidates:f}=t,{dataX:c}=t,{dataY:h}=t,m=800,g=600,p=60,v={top:40,right:15,bottom:40,left:60},k,b,M=null;function H(){n(4,g=window.innerHeight),n(3,m=window.innerWidth)}function A(w){ce[w?"unshift":"push"](()=>{k=w,n(5,k)})}function y(w){ce[w?"unshift":"push"](()=>{b=w,n(6,b)})}const $=w=>n(12,M=w.name),x=()=>n(12,M=null);return e.$$set=w=>{"candidates"in w&&n(0,f=w.candidates),"dataX"in w&&n(1,c=w.dataX),"dataY"in w&&n(2,h=w.dataY)},e.$$.update=()=>{e.$$.dirty&16&&n(11,r={horizontal:200,vertical:g/5}),e.$$.dirty&2056&&n(10,i=m-r.horizontal*2),e.$$.dirty&2064&&n(9,l=g-r.vertical*2-55),e.$$.dirty&1026&&n(7,o=bt().domain([0,je(c.results,w=>w.value)+Br]).range([v.left,i-v.right]).interpolate(ut)),e.$$.dirty&516&&n(8,a=bt().domain([0,je(h.results,w=>w.value)+Br]).range([l-v.bottom,v.top]).interpolate(ut)),e.$$.dirty&288&&n(16,u=rt(k).call(En(a).tickFormat(w=>`${w}%`))),e.$$.dirty&192&&n(15,s=rt(b).call(An(o).tickFormat(w=>`${w}%`))),e.$$.dirty&65536&&u.selectAll("path, line").attr("style","stroke: var(--primary)"),e.$$.dirty&32768&&s.selectAll("path, line").attr("style","stroke: var(--primary)")},[f,c,h,m,g,k,b,o,a,l,i,r,M,p,v,s,u,H,A,y,$,x]}class vs extends j{constructor(t){super(),Q(this,t,_s,gs,K,{candidates:0,dataX:1,dataY:2})}}const fu="";function ys(e){let t,n,r,i,l,o,a,u;return{c(){t=C("div"),n=C("input"),r=D(),i=C("label"),l=G(e[1]),d(n,"type","checkbox"),n.disabled=e[3],d(n,"name",e[2]),d(n,"id",e[2]),d(n,"class","svelte-e23efo"),d(i,"for",e[2]),d(i,"style",o=e[4]&&e[4].methodId===e[2]?`color: ${e[4].color}; font-weight: 600`:""),d(i,"class","svelte-e23efo"),d(t,"class","svelte-e23efo")},m(s,f){F(s,t,f),_(t,n),n.checked=e[0],_(t,r),_(t,i),_(i,l),a||(u=Y(n,"change",e[5]),a=!0)},p(s,[f]){f&8&&(n.disabled=s[3]),f&4&&d(n,"name",s[2]),f&4&&d(n,"id",s[2]),f&1&&(n.checked=s[0]),f&2&&te(l,s[1]),f&4&&d(i,"for",s[2]),f&20&&o!==(o=s[4]&&s[4].methodId===s[2]?`color: ${s[4].color}; font-weight: 600`:"")&&d(i,"style",o)},i:I,o:I,d(s){s&&P(t),a=!1,u()}}}function ws(e,t,n){let r;ge(e,kt,s=>n(4,r=s));let{checked:i}=t,{label:l}=t,{name:o}=t,{disabled:a=!1}=t;function u(){i=this.checked,n(0,i)}return e.$$set=s=>{"checked"in s&&n(0,i=s.checked),"label"in s&&n(1,l=s.label),"name"in s&&n(2,o=s.name),"disabled"in s&&n(3,a=s.disabled)},[i,l,o,a,r,u]}class Dr extends j{constructor(t){super(),Q(this,t,ws,ys,K,{checked:0,label:1,name:2,disabled:3})}}const cu="";function bs(e){let t,n,r,i,l,o;const a=e[3].default,u=Ct(a,e,e[2],null);return{c(){t=C("button"),t.textContent="?",n=D(),r=C("dialog"),u&&u.c(),d(t,"class","svelte-1uawb6t"),d(r,"class","svelte-1uawb6t")},m(s,f){F(s,t,f),F(s,n,f),F(s,r,f),u&&u.m(r,null),e[5](r),i=!0,l||(o=[Y(t,"click",e[4]),Y(r,"keypress",ks),Y(r,"click",e[1])],l=!0)},p(s,[f]){u&&u.p&&(!i||f&4)&&qt(u,a,s,s[2],i?St(a,s[2],f,null):Pt(s[2]),null)},i(s){i||(R(u,s),i=!0)},o(s){T(u,s),i=!1},d(s){s&&P(t),s&&P(n),s&&P(r),u&&u.d(s),e[5](null),l=!1,ae(o)}}}const ks=()=>{};function xs(e,t,n){let{$$slots:r={},$$scope:i}=t,l;function o(s){if(!s.target||s.target.tagName!=="DIALOG")return;const c=s.target.getBoundingClientRect();(c.top<=s.clientY&&s.clientY<=c.top+c.height&&c.left<=s.clientX&&s.clientX<=c.left+c.width)===!1&&l.close()}const a=()=>l.showModal();function u(s){ce[s?"unshift":"push"](()=>{l=s,n(0,l)})}return e.$$set=s=>{"$$scope"in s&&n(2,i=s.$$scope)},[l,o,i,r,a,u]}class Ms extends j{constructor(t){super(),Q(this,t,xs,bs,K,{})}}const hu="",As=e=>({}),zr=e=>({});function Es(e){let t;return{c(){t=G(e[0])},m(n,r){F(n,t,r)},p(n,r){r&1&&te(t,n[0])},d(n){n&&P(t)}}}function Ns(e){let t;const n=e[1].help,r=Ct(n,e,e[2],zr),i=r||Es(e);return{c(){i&&i.c()},m(l,o){i&&i.m(l,o),t=!0},p(l,o){r?r.p&&(!t||o&4)&&qt(r,n,l,l[2],t?St(n,l[2],o,As):Pt(l[2]),zr):i&&i.p&&(!t||o&1)&&i.p(l,t?o:-1)},i(l){t||(R(i,l),t=!0)},o(l){T(i,l),t=!1},d(l){i&&i.d(l)}}}function $s(e){let t,n,r,i;const l=e[1].default,o=Ct(l,e,e[2],null);return r=new Ms({props:{$$slots:{default:[Ns]},$$scope:{ctx:e}}}),{c(){t=C("div"),o&&o.c(),n=D(),J(r.$$.fragment),d(t,"class","svelte-1ea00u6")},m(a,u){F(a,t,u),o&&o.m(t,null),_(t,n),X(r,t,null),i=!0},p(a,[u]){o&&o.p&&(!i||u&4)&&qt(o,l,a,a[2],i?St(l,a[2],u,null):Pt(a[2]),null);const s={};u&5&&(s.$$scope={dirty:u,ctx:a}),r.$set(s)},i(a){i||(R(o,a),R(r.$$.fragment,a),i=!0)},o(a){T(o,a),T(r.$$.fragment,a),i=!1},d(a){a&&P(t),o&&o.d(a),V(r)}}}function Cs(e,t,n){let{$$slots:r={},$$scope:i}=t,{help:l=void 0}=t;return e.$$set=o=>{"help"in o&&n(0,l=o.help),"$$scope"in o&&n(2,i=o.$$scope)},[l,r,i]}class Or extends j{constructor(t){super(),Q(this,t,Cs,$s,K,{help:0})}}const du="";function Ss(e){let t,n,r,i;return{c(){t=C("button"),n=G(e[1]),d(t,"class","svelte-36erlh"),Ye(t,"active",e[2].comparison===e[0])},m(l,o){F(l,t,o),_(t,n),r||(i=Y(t,"click",e[3]),r=!0)},p(l,[o]){o&2&&te(n,l[1]),o&5&&Ye(t,"active",l[2].comparison===l[0])},i:I,o:I,d(l){l&&P(t),r=!1,i()}}}function qs(e,t,n){let r;ge(e,fe,a=>n(2,r=a));let{id:i}=t,{name:l}=t;function o(){qe(fe,r.comparison=i,r)}return e.$$set=a=>{"id"in a&&n(0,i=a.id),"name"in a&&n(1,l=a.name)},[i,l,r,o]}class Xr extends j{constructor(t){super(),Q(this,t,qs,Ss,K,{id:0,name:1})}}const mu="";function Ps(e){let t,n,r,i,l;return n=new Xr({props:{id:0,name:"Multi-graphe"}}),i=new Xr({props:{id:1,name:"Bi-graphe"}}),{c(){t=C("div"),J(n.$$.fragment),r=D(),J(i.$$.fragment),d(t,"class","svelte-z7dyga")},m(o,a){F(o,t,a),X(n,t,null),_(t,r),X(i,t,null),l=!0},p:I,i(o){l||(R(n.$$.fragment,o),R(i.$$.fragment,o),l=!0)},o(o){T(n.$$.fragment,o),T(i.$$.fragment,o),l=!1},d(o){o&&P(t),V(n),V(i)}}}class Fs extends j{constructor(t){super(),Q(this,t,null,Ps,K,{})}}const pu="";function Rs(e){let t,n,r,i,l,o,a,u,s,f,c,h,m;return{c(){t=C("div"),n=C("input"),l=D(),o=C("input"),s=D(),f=C("span"),c=G(e[0]),d(n,"type","radio"),d(n,"name","method1"),d(n,"id",r="method1-"+e[1]),n.checked=i=e[3].methods2[0]===e[2],d(n,"class","svelte-rlcz88"),d(o,"type","radio"),d(o,"name","method2"),d(o,"id",a="method2-"+e[1]),o.checked=u=e[3].methods2[1]===e[2],d(o,"class","svelte-rlcz88"),d(t,"class","svelte-rlcz88")},m(g,p){F(g,t,p),_(t,n),_(t,l),_(t,o),_(t,s),_(t,f),_(f,c),h||(m=[Y(n,"change",e[4]),Y(o,"change",e[5])],h=!0)},p(g,[p]){p&2&&r!==(r="method1-"+g[1])&&d(n,"id",r),p&12&&i!==(i=g[3].methods2[0]===g[2])&&(n.checked=i),p&2&&a!==(a="method2-"+g[1])&&d(o,"id",a),p&12&&u!==(u=g[3].methods2[1]===g[2])&&(o.checked=u),p&1&&te(c,g[0])},i:I,o:I,d(g){g&&P(t),h=!1,ae(m)}}}function Is(e,t,n){let r;ge(e,fe,s=>n(3,r=s));let{label:i}=t,{name:l}=t,{index:o}=t;function a(){qe(fe,r.methods2=[o,r.methods2[1]],r)}function u(){qe(fe,r.methods2=[r.methods2[0],o],r)}return e.$$set=s=>{"label"in s&&n(0,i=s.label),"name"in s&&n(1,l=s.name),"index"in s&&n(2,o=s.index)},[i,l,o,r,a,u]}class Ls extends j{constructor(t){super(),Q(this,t,Is,Rs,K,{label:0,name:1,index:2})}}const gu="";function Vr(e,t,n){const r=e.slice();return r[3]=t[n],r[4]=t,r[5]=n,r}function Ts(e){let t,n,r;function i(o){e[1](o)}let l={label:"Corriger les biais",name:"biasCorrection"};return e[0].biasCorrection!==void 0&&(l.checked=e[0].biasCorrection),t=new Dr({props:l}),ce.push(()=>vn(t,"checked",i)),{c(){J(t.$$.fragment)},m(o,a){X(t,o,a),r=!0},p(o,a){const u={};!n&&a&1&&(n=!0,u.checked=o[0].biasCorrection,gn(()=>n=!1)),t.$set(u)},i(o){r||(R(t.$$.fragment,o),r=!0)},o(o){T(t.$$.fragment,o),r=!1},d(o){V(t,o)}}}function Hs(e){let t;return{c(){t=C("div"),t.innerHTML=`<h1 style="margin-top: 0" class="svelte-16x6fbn">Correction des biais</h1> 
			<p style="margin: 0" class="svelte-16x6fbn">Les donn\xE9es ont \xE9t\xE9 r\xE9colt\xE9es sur un sous-ensemble de la population qui
				n\u2019est pas parfaitement repr\xE9sentatif des opinions de la population
				compl\xE8te. Ce biais est corrig\xE9 de la mani\xE8re suivante\xA0: on demande
				aux votants leur vote r\xE9el \xE0 l\u2019\xE9lection pr\xE9sidentielle, ce qui donne un
				premier classement des candidats. Ensuite, on r\xE9cup\xE8re les r\xE9sultats
				officiels de l\u2019\xE9lection, et on compare.</p> 
			<p style="margin-bottom: 0" class="svelte-16x6fbn">Si un candidat a une proportion des votes plus \xE9lev\xE9e dans l\u2019\xE9lection
				officielle, alors il est sous-repr\xE9sent\xE9 dans nos donn\xE9es. Dans le cas
				inverse, il est sur-repr\xE9sent\xE9. On calcule ainsi pour chaque candidat un
				coefficient qui permet de redresser les donn\xE9es, et de faire en sorte
				que celles-ci soient plus repr\xE9sentatives de l\u2019avis global de la
				population.</p>`,d(t,"slot","help"),d(t,"class","svelte-16x6fbn")},m(n,r){F(n,t,r)},p:I,d(n){n&&P(t)}}}function Gr(e){let t;return{c(){t=C("div"),t.innerHTML=`<p class="svelte-16x6fbn">x</p> 
				<p class="svelte-16x6fbn">y</p> 
				<p class="svelte-16x6fbn">scrutin</p>`,d(t,"class","svelte-16x6fbn")},m(n,r){F(n,t,r)},d(n){n&&P(t)}}}function Bs(e){let t,n;return t=new Ls({props:{label:e[3].methodName,name:e[3].methodId,index:e[5]}}),{c(){J(t.$$.fragment)},m(r,i){X(t,r,i),n=!0},p:I,i(r){n||(R(t.$$.fragment,r),n=!0)},o(r){T(t.$$.fragment,r),n=!1},d(r){V(t,r)}}}function Ds(e){let t,n,r;function i(o){e[2](o,e[5])}let l={label:e[3].methodName,name:e[3].methodId,disabled:e[0].methods[e[5]]&&e[0].methods.filter(Jr).length===1};return e[0].methods[e[5]]!==void 0&&(l.checked=e[0].methods[e[5]]),t=new Dr({props:l}),ce.push(()=>vn(t,"checked",i)),{c(){J(t.$$.fragment)},m(o,a){X(t,o,a),r=!0},p(o,a){e=o;const u={};a&1&&(u.disabled=e[0].methods[e[5]]&&e[0].methods.filter(Jr).length===1),!n&&a&1&&(n=!0,u.checked=e[0].methods[e[5]],gn(()=>n=!1)),t.$set(u)},i(o){r||(R(t.$$.fragment,o),r=!0)},o(o){T(t.$$.fragment,o),r=!1},d(o){V(t,o)}}}function zs(e){let t,n,r,i;const l=[Ds,Bs],o=[];function a(u,s){return u[0].comparison===0?0:1}return t=a(e),n=o[t]=l[t](e),{c(){n.c(),r=D()},m(u,s){o[t].m(u,s),F(u,r,s),i=!0},p(u,s){let f=t;t=a(u),t===f?o[t].p(u,s):(We(),T(o[f],1,1,()=>{o[f]=null}),Ze(),n=o[t],n?n.p(u,s):(n=o[t]=l[t](u),n.c()),R(n,1),n.m(r.parentNode,r))},i(u){i||(R(n),i=!0)},o(u){T(n),i=!1},d(u){o[t].d(u),u&&P(r)}}}function Os(e){let t,n,r=e[3].methodName+"",i,l,o,a=e[3].description+"",u,s;return{c(){t=C("div"),n=C("h1"),i=G(r),l=D(),o=C("p"),u=G(a),s=D(),z(n,"margin-top","0"),d(n,"class","svelte-16x6fbn"),z(o,"margin","0"),d(o,"class","svelte-16x6fbn"),d(t,"slot","help"),d(t,"class","help svelte-16x6fbn")},m(f,c){F(f,t,c),_(t,n),_(n,i),_(t,l),_(t,o),_(o,u),_(t,s)},p:I,d(f){f&&P(t)}}}function Yr(e){let t,n;return t=new Or({props:{help:e[3].description,$$slots:{help:[Os],default:[zs]},$$scope:{ctx:e}}}),{c(){J(t.$$.fragment)},m(r,i){X(t,r,i),n=!0},p(r,i){const l={};i&65&&(l.$$scope={dirty:i,ctx:r}),t.$set(l)},i(r){n||(R(t.$$.fragment,r),n=!0)},o(r){T(t.$$.fragment,r),n=!1},d(r){V(t,r)}}}function Xs(e){let t,n,r,i,l,o,a,u,s,f;i=new Or({props:{$$slots:{help:[Hs],default:[Ts]},$$scope:{ctx:e}}}),o=new Fs({});let c=e[0].comparison===1&&Gr(),h=be,m=[];for(let p=0;p<h.length;p+=1)m[p]=Yr(Vr(e,h,p));const g=p=>T(m[p],1,1,()=>{m[p]=null});return{c(){t=C("div"),n=C("h1"),n.textContent="Comparaison des m\xE9thodes de scrutin",r=D(),J(i.$$.fragment),l=D(),J(o.$$.fragment),a=D(),u=C("div"),c&&c.c(),s=D();for(let p=0;p<m.length;p+=1)m[p].c();d(n,"class","svelte-16x6fbn"),d(u,"class","rankings svelte-16x6fbn"),d(t,"class","sidebar svelte-16x6fbn")},m(p,v){F(p,t,v),_(t,n),_(t,r),X(i,t,null),_(t,l),X(o,t,null),_(t,a),_(t,u),c&&c.m(u,null),_(u,s);for(let k=0;k<m.length;k+=1)m[k].m(u,null);f=!0},p(p,[v]){const k={};if(v&65&&(k.$$scope={dirty:v,ctx:p}),i.$set(k),p[0].comparison===1?c||(c=Gr(),c.c(),c.m(u,s)):c&&(c.d(1),c=null),v&1){h=be;let b;for(b=0;b<h.length;b+=1){const M=Vr(p,h,b);m[b]?(m[b].p(M,v),R(m[b],1)):(m[b]=Yr(M),m[b].c(),R(m[b],1),m[b].m(u,null))}for(We(),b=h.length;b<m.length;b+=1)g(b);Ze()}},i(p){if(!f){R(i.$$.fragment,p),R(o.$$.fragment,p);for(let v=0;v<h.length;v+=1)R(m[v]);f=!0}},o(p){T(i.$$.fragment,p),T(o.$$.fragment,p),m=m.filter(Boolean);for(let v=0;v<m.length;v+=1)T(m[v]);f=!1},d(p){p&&P(t),V(i),V(o),c&&c.d(),Pe(m,p)}}}const Jr=e=>e;function Vs(e,t,n){let r;ge(e,fe,o=>n(0,r=o));function i(o){e.$$.not_equal(r.biasCorrection,o)&&(r.biasCorrection=o,fe.set(r))}function l(o,a){e.$$.not_equal(r.methods[a],o)&&(r.methods[a]=o,fe.set(r))}return[r,i,l]}class Gs extends j{constructor(t){super(),Q(this,t,Vs,Xs,K,{})}}const _u="";function Ys(e){let t,n;return t=new vs({props:{candidates:$r,dataX:e[1][e[0].methods2[0]],dataY:e[1][e[0].methods2[1]]}}),{c(){J(t.$$.fragment)},m(r,i){X(t,r,i),n=!0},p(r,i){const l={};i&3&&(l.dataX=r[1][r[0].methods2[0]]),i&3&&(l.dataY=r[1][r[0].methods2[1]]),t.$set(l)},i(r){n||(R(t.$$.fragment,r),n=!0)},o(r){T(t.$$.fragment,r),n=!1},d(r){V(t,r)}}}function Js(e){let t,n;return t=new ps({props:{dataByCandidate:e[2]}}),{c(){J(t.$$.fragment)},m(r,i){X(t,r,i),n=!0},p(r,i){const l={};i&4&&(l.dataByCandidate=r[2]),t.$set(l)},i(r){n||(R(t.$$.fragment,r),n=!0)},o(r){T(t.$$.fragment,r),n=!1},d(r){V(t,r)}}}function Us(e){let t,n,r,i,l,o,a;n=new Gs({});const u=[Js,Ys],s=[];function f(c,h){return c[0].comparison===0?0:1}return l=f(e),o=s[l]=u[l](e),{c(){t=C("main"),J(n.$$.fragment),r=D(),i=C("div"),o.c(),d(i,"class","graph svelte-1kxebne"),d(t,"class","svelte-1kxebne")},m(c,h){F(c,t,h),X(n,t,null),_(t,r),_(t,i),s[l].m(i,null),a=!0},p(c,[h]){let m=l;l=f(c),l===m?s[l].p(c,h):(We(),T(s[m],1,1,()=>{s[m]=null}),Ze(),o=s[l],o?o.p(c,h):(o=s[l]=u[l](c),o.c()),R(o,1),o.m(i,null))},i(c){a||(R(n.$$.fragment,c),R(o),a=!0)},o(c){T(n.$$.fragment,c),T(o),a=!1},d(c){c&&P(t),V(n),s[l].d()}}}function Ks(e,t,n){let r,i,l;return ge(e,fe,o=>n(0,l=o)),e.$$.update=()=>{e.$$.dirty&1&&n(2,r=l.biasCorrection?Cr.map(({name:o,color:a,data:u})=>({name:o,color:a,data:u.map(({methodId:s,value:f})=>({methodId:s,value:f*Nr.find(c=>c.name===o).value}))})):Cr),e.$$.dirty&1&&n(1,i=l.biasCorrection?be.map(({methodId:o,methodName:a,description:u,results:s,unit:f})=>({methodId:o,methodName:a,description:u,unit:f,results:s.map(({name:c,value:h})=>({name:c,value:h*Nr.find(m=>m.name===c).value}))})):be)},[l,i,r]}class Ws extends j{constructor(t){super(),Q(this,t,Ks,Us,K,{})}}const vu="";function Zs(e){let t;return{c(){t=C("main"),t.innerHTML=`<h1 class="svelte-yvqvf6">Challenge Open Data \u2014 Rapport</h1> 

	<p>Membres de l\u2019\xE9quipe\xA0:</p> 
	<ul class="svelte-yvqvf6"><li>Ariane DAUVERGNE</li> 
		<li>Gwennan ELIEZER</li> 
		<li>Jean LE MENN</li> 
		<li>Maxime LHERMITE</li> 
		<li>Habibata SAMAKE</li> 
		<li>Sym\xE9on SMITH</li></ul> 

	<h2 class="svelte-yvqvf6">Introduction</h2> 
	<div><p>Le but de ce projet Challenge Open Data est de produire un visuel sur de diff\xE9rentes m\xE9thodes de votes r\xE9alis\xE9s en ligne offrant ainsi l&#39;occasion de comprendre les opinions des participants sur les candidats \xE0 la presidentielle de 2017 et faire un lien avec les votes officiels.</p></div> 
	<h2 class="svelte-yvqvf6">Jeu de donn\xE9es et repr\xE9sentation sur l&#39;application</h2> 
	<div><p>cf pre-rapport
			Le jeu de donn\xE9es s\xE9lectionn\xE9 pour ce challenge est issu d\u2019une exp\xE9rimentation en ligne sur les votes des \xE9lections pr\xE9sidentielles de 2017 en France.
			Pr\xE8s de 37739 personnes ont particip\xE9 \xE0 l\u2019exp\xE9rience. Il leur a \xE9t\xE9 demand\xE9 de remplir des bulletins de vote repr\xE9sentant diff\xE9rentes m\xE9thodes de vote. Les participants ont \xE9galement r\xE9pondu \xE0 diff\xE9rents questionnaires concernant par exemple leur jugement de la pertinence d\u2019une telle d\xE9marche ou leur niveau de satisfaction quant \xE0 leur vote r\xE9ellement exprim\xE9 au premier tour des \xE9lections pr\xE9sidentielles.

			Bien que nous disposions aussi d\u2019indicateurs socio-professionnels (sexe, tranche d\u2019\xE2ge, niveau d\u2019\xE9ducation, etc), nous avons d\xE9cid\xE9 de nous concentrer uniquement sur les donn\xE9es exprim\xE9es dans les bulletins de vote sans consid\xE9rer ces autres facteurs. En effet, nous avons pour objectif de r\xE9aliser des visualisations de donn\xE9es permettant de comparer et de mettre en opposition les diff\xE9rentes m\xE9thodes de vote et leur influence sur le classement final des candidats.

			Afin de pouvoir r\xE9aliser cela, nous devons dans un premier temps traiter les donn\xE9es afin de les homog\xE9n\xE9iser pour pouvoir les rendre exploitables. A cet effet, apr\xE8s pre-traitement de nos donn\xE9es, nous ne retenons que les resultats finaux pour les m\xE9thodes, les scores finaux pour les candidats qu&#39;ont obtenu les candidats selons les m\xE9thodes de vote.</p></div> 
	<h2 class="svelte-yvqvf6">Architecture de l&#39;application</h2> 
	<div><p>Dans notre architecture, nous avons principalement deux pages: l&#39;une &quot;ReportPage.svelte&quot; o\xF9 se trouve le rapport et l&#39;autre  &quot;GraphPage&quot; o\xF9 sont faites les diff\xE9rentes repesentation graphiques.Ces deux pages sont r\xE9cuper\xE9s dans le fichier index.html qui se trouve \xE0 la racine du projet. Nous avons une architecture arborescente contenant les dossiers suivants:</p> 
		<ul class="svelte-yvqvf6"><li><strong>src</strong>: contient tout le code source su projet, incluant les feuilles de styles, les librairies et les diff\xE9rents composants de l&#39;application, mais aussi nos datasets contenant les infrormations n\xE9cessaires pour la repr\xE9sentation graphique pour les diff\xE9rentes m\xE9thodes.</li></ul></div> 
	
	
	<h3 class="svelte-yvqvf6">Technologies utilis\xE9es</h3> 
	<div><ul class="svelte-yvqvf6"><li><strong>Application web\xA0:</strong> 
			<a target="_BLANK" href="https://svelte.dev" class="svelte-yvqvf6">Svelte</a>.
			<br/>
			Svelte est un framework web qui compile un langage proche des langages du web
			(HTML, CSS, JavaScript) en JavaScript extr\xEAmement optimis\xE9. Il donne un moyen
			simplifi\xE9 de g\xE9rer l\u2019\xE9tat d\u2019une application web, et d\u2019interagir avec le DOM.</li> 
		<li><strong>Gestion des graphiques\xA0:</strong> 
			<a target="_BLANK" href="https://d3js.org" class="svelte-yvqvf6">D3.js</a>.
			<br/>
			Cette biblioth\xE8que JavaScript renomm\xE9e nous a permis de simplifier la gestion
			de l\u2019affichage des graphiques, en simplifiant le calcul et l\u2019affichage des
			axes, ainsi que les positions SVG des diff\xE9rents \xE9l\xE9ments constituants ces
			graphes.</li></ul> 

	<h3 class="svelte-yvqvf6">Analyse GreenIT</h3> 

	<p>L\u2019application web sur laquelle vous vous trouvez r\xE9colte le score de
		<strong>A</strong> par l\u2019analyse de GreenIT, avec un EcoIndex autour de
		<strong>95</strong>, une \xE9mission autour de
		<strong>1,1 gCO2e</strong> pour une taille totale d\u2019environ
		<strong>150 Ko</strong>. L\u2019analyse des bonnes pratiques r\xE9v\xE8le uniquement
		des aspects sur lesquels nous n\u2019avons pas de contr\xF4le d\xFB au choix de ne pas
		utiliser de serveur (headers de caching et compression des ressources) ou \xE0
		l\u2019utilisation du service Google Fonts pour la police de l\u2019application.</p> 
	<p>Ce score est d\xFB \xE0 l\u2019efficacit\xE9 de Svelte, mais la taille de la page peut
		\xE9tonner\xA0: en effet, un framework JavaScript tel que Svelte cr\xE9e un
		unique script qui s\u2019occupe de cr\xE9er de lui-m\xEAme tous les \xE9l\xE9ments de la
		page, plut\xF4t que ceux-ci soient cr\xE9\xE9s en HTML par le d\xE9veloppeur. De plus,
		ce script emporte toutes les d\xE9pendances du projet\xA0: notamment, les
		\xE9l\xE9ments utilis\xE9s de la biblioth\xE8que D3 composent une bonne partie de la
		taille du script g\xE9n\xE9r\xE9.</p> 

	<h2 class="svelte-yvqvf6">Conclusion</h2></div>`,d(t,"class","svelte-yvqvf6")},m(n,r){F(n,t,r)},p:I,i:I,o:I,d(n){n&&P(t)}}}class Qs extends j{constructor(t){super(),Q(this,t,null,Zs,K,{})}}function js(e){let t,n;return t=new Ws({}),{c(){J(t.$$.fragment)},m(r,i){X(t,r,i),n=!0},i(r){n||(R(t.$$.fragment,r),n=!0)},o(r){T(t.$$.fragment,r),n=!1},d(r){V(t,r)}}}function eu(e){let t,n;return t=new Qs({}),{c(){J(t.$$.fragment)},m(r,i){X(t,r,i),n=!0},i(r){n||(R(t.$$.fragment,r),n=!0)},o(r){T(t.$$.fragment,r),n=!1},d(r){V(t,r)}}}function tu(e){let t,n,r,i,l,o;t=new ai({}),t.$on("showReportPage",e[1]),t.$on("showGraphPage",e[2]);const a=[eu,js],u=[];function s(f,c){return f[0]?0:1}return r=s(e),i=u[r]=a[r](e),{c(){J(t.$$.fragment),n=D(),i.c(),l=mn()},m(f,c){X(t,f,c),F(f,n,c),u[r].m(f,c),F(f,l,c),o=!0},p(f,[c]){let h=r;r=s(f),r!==h&&(We(),T(u[h],1,1,()=>{u[h]=null}),Ze(),i=u[r],i||(i=u[r]=a[r](f),i.c()),R(i,1),i.m(l.parentNode,l))},i(f){o||(R(t.$$.fragment,f),R(i),o=!0)},o(f){T(t.$$.fragment,f),T(i),o=!1},d(f){V(t,f),f&&P(n),u[r].d(f),f&&P(l)}}}function nu(e,t,n){let r=!1;return[r,()=>n(0,r=!0),()=>n(0,r=!1)]}class ru extends j{constructor(t){super(),Q(this,t,nu,tu,K,{})}}return new ru({target:document.getElementById("app")})}();
